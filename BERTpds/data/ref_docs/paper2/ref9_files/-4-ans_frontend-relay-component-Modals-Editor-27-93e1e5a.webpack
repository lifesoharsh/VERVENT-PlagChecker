(window.ansFrontendRelayWebpackJsonpFunction=window.ansFrontendRelayWebpackJsonpFunction||[]).push([["component-Modals-Editor"],{"+pxc":function(e,n,a){"use strict";a.d(n,"a",(function(){return i}));var t=a("SKAY"),l=a("nwxp"),i=function(){var e=a("kI88");return{isMobile:Object(l.e)(),isIPad:l.n,isIOSApp:Object(l.c)(),isAndroidApp:Object(l.a)(),isNativeApp:Object(l.g)(),isIOS:l.m,isAndroid:l.l,isIOSMobileWeb:Object(l.f)()&&l.m,buildNumber:Object(t.getBuildNumber)()||0,debug:Object(t.getDebugToolsEnabled)(),isMSEdge:!!e.msedge,isMSIE:!!e.msie,isGecko:!!e.gecko,isWebkit:!!e.webkit,isFirefox:!!e.firefox,isSafari:!!e.safari,webkitVersion:0,isUIWebView:Object(l.k)(),osVersion:parseFloat(e.osversion)}}},"2yMK":function(e,n,a){"use strict";var t=a("q1tI"),l=a("vN+2"),i=a.n(l),r=a("jufJ"),s=a("UyMh"),o=a("NNru"),u=a("nW6E"),d=function(e){var n=e.formPlacement,a=e.businessData,l=e.isMobile,i=e.children;return t.createElement(u.d,{modalFlowProps:{transitionName:"leadGenSubmitFormTransition",containerProps:{easyDismissEnabled:!0},initialFlowData:{formPlacement:n,formId:a.leadgenFormId,logoUrl:a.logoImageUrl,businessName:a.businessName,isMobile:l,aid:a.aid,businessUid:a.businessUid},initialModalProps:{name:"LeadGenFormDetailsStep",queryVariables:{formId:a.leadgenFormId}}},shouldPrefetch:!0},(function(e){var n=e.openModalFlow;return i(n)}))};d.displayName="LeadGenBusinessServicesSubmitFormModalFlow";var c=d,m=a("VwdU"),g=a("Yc5t"),p=a("SseM"),f=a("nwxp"),b=a("8lmh"),y=a("AaDK"),v=a("szkJ"),k=a("EKvE"),h=a("P88G"),S=function(e){var n=e.objectiveType,a=e.landingPageUrl,l=e.businessProfileUrl,u=e.logoImageUrl,d=e.cta,S=e.businessName,F=e.isEditMode,T=void 0!==F&&F,E=e.aid,w=e.businessUid,C=e.leadgenFormId,_=e.formPlacement,K=void 0===_?p.a.business_profile:_,A=e.bannerActionType,O=e.hideBusinessName,L=void 0!==O&&O,M=function(){switch(n){case v.a.profile:return t.createElement(r.J,null,"Go to profile");case v.a.traffic:case v.a.lead_generation:return null!==d&&d!==undefined?t.createElement(h.b,{callToActionType:d}):t.createElement(r.J,null,"Call to action");default:return t.createElement(t.Fragment,null)}},I=function(){switch(n){case v.a.profile:return"profile";case v.a.traffic:return"traffic";case v.a.lead_generation:return"lead_generation";default:return null}},P=function(e){var d;return t.createElement(m.a,{condition:!T,wrapper:function(e){return t.createElement(g.b,{onImpression:function(){Object(y.a)("business_cta_event",{objective_type:I(),action_type:"impressions",aid:E,business_uid:w})}},e)}},t.createElement(k.a,{logoImageUrl:null!==u&&void 0!==u?u:" ",text:M(),metaText:L?undefined:null!==(d=t.createElement(r.L,{text:S,translateParamName:"business_name"}))&&void 0!==d?d:undefined,onClick:T?null:function(){Object(y.a)("business_cta_event",{objective_type:I(),action_type:"clicks",aid:E,business_uid:w}),function(e){switch(n){case v.a.profile:return T||!l?i.a:Object(s.b)(l,"present");case v.a.traffic:return T||!a?i.a:Object(s.b)(a,"present");case v.a.lead_generation:return T||!e?i.a:e();default:;}}(e)},bannerActionType:null!==A&&void 0!==A?A:n===v.a.traffic?o.c.external:o.c.internal}))};switch(n){case v.a.lead_generation:return T?P():function(){if(C===undefined||E===undefined&&w===undefined)return Object(b.logJsError)("BusinessServicesCTABanner","invalid parameters"),null;var e={aid:E,businessUid:w,leadgenFormId:C,logoImageUrl:u,businessName:S};return t.createElement(c,{formPlacement:K,businessData:e,isMobile:Object(f.e)()},(function(e){return P(e)}))}();case v.a.profile:case v.a.traffic:return P();default:return null}};S.displayName="BusinessServicesCTABanner";n.a=S},"3QP3":function(e,n,a){"use strict";var t=a("rhDr"),l=a.n(t),i=a("q1tI"),r=a("RA+f"),s=a("YVdv"),o=a.n(s),u=a("EQ8S"),d=a.n(u),c=a("vOnD"),m=a("9ALW"),g=a("td6z"),p=a("nwxp"),f=Object(c.withTheme)((function(e){var n=e.icon,a=e.text,t=(e.chevronSuffix,e.pressed),s=e.loading,u=e.disabled,c=void 0!==u&&u,f=e.useHaptics,b=void 0!==f&&f,y=e.hasBoxShadow,v=void 0!==y&&y,k=e.className,h=void 0===k?"":k,S=e.onClick,F=e.theme,T=e.tabIndex,E=void 0===T?0:T,w=e.allowTitleTextWrap,C=void 0!==w&&w,_=e.minWidth,K=l()(e,["icon","text","chevronSuffix","pressed","loading","disabled","useHaptics","hasBoxShadow","className","onClick","theme","tabIndex","allowTitleTextWrap","minWidth"]),A=t?{icon:"gray",text:"gray",bg:d()(.02,F.colors.bg.gray),innerShadow:o()(.8,F.colors.text.gray),hoverBg:null}:{icon:"gray",text:"gray",bg:"transparent",innerShadow:o()(.5,F.colors.text.gray),hoverBg:"gray_ultralight"},O={textDecoration:"none"},L=Object.assign({},O),M=Object.assign({},O);L.bg=A.hoverBg;var I=16,P=12,q="8px",x=(Object(p.e)(),0),j=24;return i.createElement(m.a,Object.assign({buttonType:"button",hover:L,active:M,focus:M,disabled:c||s,pressed:null!==t&&void 0!==t?t:undefined,bg:A.bg,tabIndex:E,onClick:S,useHaptics:b,py:x,pl:q,pr:q,className:"".concat(h," ").concat(t?"puppeteer_test_pressed":""),isPill:!0,loading:s,minWidth:_||j,position:"relative",height:j,allowTitleTextWrap:C,transition:"box-shadow",additionalCss:"\n          &[data-focus-visible-added] {\n            box-shadow: ".concat(A.innerShadow?"inset 0 0 0 0.75px ".concat(A.innerShadow,", "):""," 0 0 0 3px ").concat(F.colors.focusOutline["default"]," !important;\n            }\n          }\n          "),boxShadow:A.innerShadow?"inset 0 0 0 0.75px ".concat(A.innerShadow):v?"medium_25":undefined},K),i.createElement(r.i,{alignItems:"center",justifyContent:"center",maxWidth:"100%",visibility:s?"hidden":undefined},n&&i.createElement(m.e,{icon:n,color:A.icon,pressed:t,size:I}),a&&i.createElement(m.g,{className:"puppeteer_test_button_text",color:A.text,fontSize:P,ml:n?"tiny":undefined,canWrap:C},a),i.createElement(m.b,{variant:"down",color:A.text,pressed:t,ml:a?"tiny":undefined,mr:a?"n_tiny":undefined})),s&&i.createElement(r.i,{position:"absolute"},i.createElement(g.c,{loaderColor:A.icon,size:"tiny"})))}));f.displayName="ContextPickerButton",n.a=f},"3oqD":function(e,n,a){"use strict";a.d(n,"a",(function(){return t})),a.d(n,"b",(function(){return b}));var t,l=a("8ZkK"),i=a.n(l),r=a("tQZz"),s=a.n(r),o=a("10u2"),u=a.n(o),d=a("MMxs"),c=a.n(d),m=a("q1tI"),g=a("/bbo"),p=a("jufJ"),f=a("OMLc");!function(e){e[e.PUBLIC=0]="PUBLIC",e[e.LIMITED=1]="LIMITED"}(t||(t={}));var b=function(e){u()(a,e);var n=c()(a);function a(){return i()(this,a),n.apply(this,arguments)}return s()(a,[{key:"render",value:function(){var e,n,a=this.props,l=a.currentState,i=a.onClick;return l===t.PUBLIC?(n=Object(p.Z)("Public"),e=m.createElement(f.a,{name:"Followers"})):l===t.LIMITED&&(n=Object(p.Z)("Limited"),e=m.createElement(f.a,{name:"GenericUser"})),m.createElement(g.a,{onClick:i,variant:"gray",icon:e,text:n,size:"small",chevronSuffix:"down"})}}]),a}(m.Component);b.displayName="AskQuestionDistributionSwitcher"},"3qAy":function(e,n,a){"use strict";a.r(n);var t={};a.r(t),a.d(t,"default",(function(){return b}));var l={};a.r(l),a.d(l,"default",(function(){return v}));var i={};a.r(i),a.d(i,"default",(function(){return h}));var r={};a.r(r),a.d(r,"default",(function(){return C}));var s=a("8ZkK"),o=a.n(s),u=a("tQZz"),d=a.n(u),c=a("10u2"),m=a.n(c),g=a("MMxs"),p=a.n(g),f=function(){var e=[{kind:"LocalArgument",name:"threadId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"numMessagesKnownOnClient",type:"Int!",defaultValue:null}],n=[{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"threadId",variableName:"threadId"}],a={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"errorMsg",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},i={platforms:["MOBILE_WEB"]},r=[{kind:"Variable",name:"numMessagesKnownOnClient",variableName:"numMessagesKnownOnClient"}],s={kind:"ScalarField",alias:null,name:"msgId",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},u={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},d=[u,o,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}];return{kind:"Request",fragment:{kind:"Fragment",name:"MessageEditorModal_threadReplyAdd_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"threadReplyAdd",storageKey:null,args:n,concreteType:"ThreadReplyAdd",plural:!1,selections:[a,t,{kind:"LinkedField",alias:null,name:"thread",storageKey:null,args:null,concreteType:"Thread",plural:!1,selections:[l,{kind:"Condition",passingValue:!0,isCustom:!0,customValue:i,condition:"onPlatform",selections:[{kind:"LinkedField",alias:null,name:"allRecentMessages",storageKey:null,args:r,concreteType:"Message",plural:!0,selections:[s,{kind:"FragmentSpread",name:"Message_message",args:null}]}]}]}]}]},operation:{kind:"Operation",name:"MessageEditorModal_threadReplyAdd_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"threadReplyAdd",storageKey:null,args:n,concreteType:"ThreadReplyAdd",plural:!1,selections:[a,t,{kind:"LinkedField",alias:null,name:"thread",storageKey:null,args:null,concreteType:"Thread",plural:!1,selections:[l,o,{kind:"Condition",passingValue:!0,isCustom:!0,customValue:i,condition:"onPlatform",selections:[{kind:"LinkedField",alias:null,name:"allRecentMessages",storageKey:null,args:r,concreteType:"Message",plural:!0,selections:[s,{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},o,{kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},u,{kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:d},{kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:d},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerBundleSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"consumerBundleActive",args:null,storageKey:null}]},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"annotate_with_ids",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}]}]},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"time",args:null,storageKey:null},o]}]}]}]}]},params:{operationKind:"mutation",name:"MessageEditorModal_threadReplyAdd_Mutation",id:"faa0679b3731d1e69ad9928084c22e33aa62a4a360c192157b7a8ee571ccc20d",text:null,metadata:{}}}}();f.hash="8601d5ac08ed93918358b6907567946e";var b=f,y=function(){var e=[{kind:"LocalArgument",name:"recipientUid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null}],n=[{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"recipientUid",variableName:"recipientUid"}],a={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"errorMsg",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"MessageEditorModal_threadCreate_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"threadCreate",storageKey:null,args:n,concreteType:"ThreadCreate",plural:!1,selections:[a,t,{kind:"LinkedField",alias:null,name:"thread",storageKey:null,args:null,concreteType:"Thread",plural:!1,selections:[l]}]}]},operation:{kind:"Operation",name:"MessageEditorModal_threadCreate_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"threadCreate",storageKey:null,args:n,concreteType:"ThreadCreate",plural:!1,selections:[a,t,{kind:"LinkedField",alias:null,name:"thread",storageKey:null,args:null,concreteType:"Thread",plural:!1,selections:[l,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}]},params:{operationKind:"mutation",name:"MessageEditorModal_threadCreate_Mutation",id:"8336cbf32f6fa6d99a90bb5887c2188d3f5f19c2d96fabf7ca1fe1c6b1d83b07",text:null,metadata:{}}}}();y.hash="28fe6a0d8cc7ade7908e24d25472df33";var v=y,k=function(){var e=[{kind:"LocalArgument",name:"threadId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null}],n=[{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"threadId",variableName:"threadId"}],a={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"MessageEditorModal_threadDraftSave_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"threadDraftSave",storageKey:null,args:n,concreteType:"ThreadDraftSave",plural:!1,selections:[a,{kind:"LinkedField",alias:null,name:"thread",storageKey:null,args:null,concreteType:"Thread",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"viewerDraft",storageKey:null,args:null,concreteType:"ThreadDraft",plural:!1,selections:[t]}]}]}]},operation:{kind:"Operation",name:"MessageEditorModal_threadDraftSave_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"threadDraftSave",storageKey:null,args:n,concreteType:"ThreadDraftSave",plural:!1,selections:[a,{kind:"LinkedField",alias:null,name:"thread",storageKey:null,args:null,concreteType:"Thread",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"viewerDraft",storageKey:null,args:null,concreteType:"ThreadDraft",plural:!1,selections:[t,l]},l]}]}]},params:{operationKind:"mutation",name:"MessageEditorModal_threadDraftSave_Mutation",id:"2db244a2b19e7a3980ce1c2cfbbe40aa43ea1c89f2ecceb01767de0754573fb2",text:null,metadata:{}}}}();k.hash="8284c068403eddf4fb0d2dd6c73e8390";var h=k,S=function(){var e=[{kind:"LocalArgument",name:"uid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"isReply",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"threadId",type:"BigInt",defaultValue:0}],n=[{kind:"Variable",name:"uid",variableName:"uid"}],a={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},t=[{kind:"Variable",name:"threadId",variableName:"threadId"}],l={kind:"ScalarField",alias:null,name:"threadId",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},o=[s,r,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}];return{kind:"Request",fragment:{kind:"Fragment",name:"MessageEditorModalQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:n,concreteType:"User",plural:!1,selections:[a,{kind:"FragmentSpread",name:"UserName_user",args:null}]},{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"isReply",selections:[{kind:"LinkedField",alias:null,name:"thread",storageKey:null,args:t,concreteType:"Thread",plural:!1,selections:[l,{kind:"LinkedField",alias:null,name:"viewerDraft",storageKey:null,args:null,concreteType:"ThreadDraft",plural:!1,selections:[i]}]}]}]},operation:{kind:"Operation",name:"MessageEditorModalQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:n,concreteType:"User",plural:!1,selections:[a,r,s,{kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:o},{kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:o},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"annotate_with_ids",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}]}]},{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"isReply",selections:[{kind:"LinkedField",alias:null,name:"thread",storageKey:null,args:t,concreteType:"Thread",plural:!1,selections:[l,{kind:"LinkedField",alias:null,name:"viewerDraft",storageKey:null,args:null,concreteType:"ThreadDraft",plural:!1,selections:[i,r]},r]}]}]},params:{operationKind:"query",name:"MessageEditorModalQuery",id:"d97b34d31c3c2ed1528d9fe67ea1d35c1799016f2af1944f992bcc5199681085",text:null,metadata:{}}}}();S.hash="529d8ee1db34b9e79a923bf803b58e4c";var F,T,E,w,C=S,_=a("q1tI"),K=a("QLaP"),A=a.n(K),O=a("VyO/"),L=a("LNH1"),M=a("zm58"),I=a("jufJ"),P=a("AFGi"),q=a("R+um"),x=function(e){m()(a,e);var n=p()(a);function a(e){var t;return o()(this,a),(t=n.call(this,e)).threadDraftSaveMutation=function(e){var n=t.props.queryResult.thread;return null!==n&&void 0!==n&&n.threadId?Object(O.c)({mutation:a.mutations.threadDraftSave,variables:{threadId:n.threadId,content:JSON.stringify(e)}}):null},t.threadCreateMutation=function(e,n){var l=t.props.queryResult.user;return A()(l,"user should exists"),Object(O.c)({mutation:a.mutations.threadCreate,variables:{recipientUid:l.uid,content:JSON.stringify(e)}}).then((function(e){var a,l;t.onMutationComplete(null!==(a=null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.threadCreate)&&void 0!==a?a:{},n)}))},t.threadReplyAddMutation=function(e,n){var l=t.props,i=l.queryResult,r=l.extraProps.initialCount,s=i.thread;return A()(s,"thread should exists"),Object(O.c)({mutation:a.mutations.threadReplyAdd,variables:{threadId:s.threadId,content:JSON.stringify(e),numMessagesKnownOnClient:r}}).then((function(e){var a;t.onMutationComplete(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.threadReplyAdd,n)}))},t.onMutationComplete=function(e,n){var a=t.props.dismissModalFlow,l=e.success,i=e.errorMsg,r=e.thread;if(i)n.error(Object(I.Y)(i));else if(l){var s;a({nextUrl:null!==(s=null===r||void 0===r?void 0:r.url)&&void 0!==s?s:"/messages"})}else n.genericError()},t.getStartingContent=function(){var e,n,a=null===(e=t.props.queryResult.thread)||void 0===e||null===(n=e.viewerDraft)||void 0===n?void 0:n.content;return a?JSON.parse(a):Object(P.h)()},t.state={canAdd:!1,isSubmitting:!1},t}return d()(a,[{key:"render",value:function(){var e=this,n=this.props,a=n.dismissModalFlow,t=n.queryResult,l=n.extraProps.isReply,i=t.user;A()(i,"user should exists");var r=l?Object(I.Z)(_.createElement(I.J,null,"Replying to ",_.createElement(q.b,{user:i,format:"short"}))):Object(I.Z)(_.createElement(I.J,null,"Message ",_.createElement(q.b,{user:i,format:"short"}))),s=this.state.canAdd&&!this.state.isSubmitting;return _.createElement(L.b,null,(function(n){return _.createElement(M.a,{editorKey:"compose-inbox-message",primaryButtonText:Object(I.Z)("Send"),primaryButtonDisabled:!s,onPrimaryButtonClick:function(a){s&&(Object(P.p)(a)?n(Object(I.Z)("Please finish your message before sending."),L.d.error):e.setState({isSubmitting:!0},(function(){l?e.threadReplyAddMutation(a,n):e.threadCreateMutation(a,n)})))},onNavButtonClick:function(n){var t=function(){a()};if(l){var i=e.threadDraftSaveMutation(n);if(i)return void i.then((function(){t()}))}t()},modalLayoutHeader:r,titleText:Object(I.Z)(""),placeholder:Object(I.Z)("Write a message..."),startingContent:e.getStartingContent(),saveDraft:l?e.threadDraftSaveMutation:undefined,onEditorMeaningfulChange:function(n){e.setState({canAdd:!n.isEmpty()})},clearOnSubmit:!0,navButton:"close"})}))}}]),a}(_.Component);x.queries={onLoad:void 0!==F?F:F=r},x.mutations={threadDraftSave:void 0!==T?T:T=i,threadCreate:void 0!==E?E:E=l,threadReplyAdd:void 0!==w?w:w=t},x.displayName="MessageEditorModal";n["default"]=x},"3v16":function(e,n,a){"use strict";a.d(n,"a",(function(){return ee}));var t={};a.r(t),a.d(t,"default",(function(){return p}));var l={};a.r(l),a.d(l,"default",(function(){return b}));var i=a("8ZkK"),r=a.n(i),s=a("tQZz"),o=a.n(s),u=a("10u2"),d=a.n(u),c=a("MMxs"),m=a.n(c),g=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"AskQuestionStepShareLink_viewer",type:"Viewer",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[e,n,{kind:"FragmentSpread",name:"UserPhoto_user",args:null},{kind:"FragmentSpread",name:"UserName_user",args:null},{kind:"FragmentSpread",name:"ComposerHeader_user",args:null}]},{kind:"FragmentSpread",name:"AudiencePickerSelector_viewer",args:[{kind:"Literal",name:"sharedContentType",value:"hyperlink"}]}]}}();g.hash="aae8c51c9bd055698d8987e122fcb11f";var p=g,f=function(){var e=[{kind:"LocalArgument",name:"url",type:"String!",defaultValue:null}],n=[{kind:"Variable",name:"url",variableName:"url"}],a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"snippet",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"imageUrl",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"aid",args:null,storageKey:null},u={kind:"ScalarField",alias:null,name:"pid",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"AskQuestionStepShareLinkQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"linkPreview",storageKey:null,args:n,concreteType:"LinkPreview",plural:!1,selections:[a,t,l,i,r,s,{kind:"LinkedField",alias:null,name:"answer",storageKey:null,args:null,concreteType:"Answer",plural:!1,selections:[o]},{kind:"LinkedField",alias:null,name:"post",storageKey:null,args:null,concreteType:"Post",plural:!1,selections:[u]},{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[d]}]}]},operation:{kind:"Operation",name:"AskQuestionStepShareLinkQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"linkPreview",storageKey:null,args:n,concreteType:"LinkPreview",plural:!1,selections:[a,t,l,i,r,s,{kind:"LinkedField",alias:null,name:"answer",storageKey:null,args:null,concreteType:"Answer",plural:!1,selections:[o,a]},{kind:"LinkedField",alias:null,name:"post",storageKey:null,args:null,concreteType:"Post",plural:!1,selections:[u,a]},{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[d,a]}]}]},params:{operationKind:"query",name:"AskQuestionStepShareLinkQuery",id:"f5daff7398d09e7cb28917359edb6897e90cf287e9e92bf9acadbab95b637fd5",text:null,metadata:{}}}}();f.hash="31de199244ad81512f613a1ec2769273";var b=f,y=a("q1tI"),v=a("D5Zh"),k=a("RA+f"),h=a("rAPm"),S=a("6Gvz"),F=a("jufJ"),T=a("F6zL"),E=a("td6z"),w=a("OMLc"),C=a("pdGF"),_=a("vN+2"),K=a.n(_),A=a("/bbo"),O=function(e){return/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-zA-Z\u00a1-\uffff0-9]+)(?:\.(?:[a-zA-Z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-zA-Z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/.test(e)};(function(e){d()(a,e);var n=m()(a);function a(e){var t;return r()(this,a),(t=n.call(this,e)).state={url:"",hyperlinkComment:"",hyperlinkShareToFollowers:!1,updateKey:!0},t}return o()(a,[{key:"updateUrl",value:function(e){var n,a,t,l,i=Object(C.a)(e);O(i)?(this.setState({url:i}),null===(n=(a=this.props).onShareLinkChange)||void 0===n||n.call(a,{hyperlinkUrl:i})):(this.setState({url:""}),null===(t=(l=this.props).onShareLinkChange)||void 0===t||t.call(l,{hyperlinkUrl:""}))}},{key:"clear",value:function(){this.setState((function(e){return{url:"",updateKey:!e.updateKey}}))}},{key:"close",value:function(){var e,n;this.clear(),null===(e=(n=this.props).onClose)||void 0===e||e.call(n)}},{key:"render",value:function(){var e=this;return y.createElement(y.Fragment,null,y.createElement(k.d,{mt:"small",borderAll:!0,borderRadius:"small",px:"small",py:"medium"},y.createElement(k.p,null,y.createElement(k.a,{right:"n_medium",top:"n_large",zIndex:"popover"},y.createElement(A.a,{size:"small",variant:"gray",icon:y.createElement(w.a,{name:"SmallClose"}),onClick:function(){return e.close()}})),y.createElement(T.c,{iconName:"EditorLink",placeholder:Object(F.Z)("Enter a link"),onChange:function(n){return e.updateUrl(n.target.value)},noBorder:!0,key:""+this.state.updateKey,autoFocus:!0}),y.createElement(ee,{url:this.state.url,onClear:K.a,showX:!1}))))}}]),a}(y.Component)).displayName="ShareLinkInput";var L,M,I=a("rQ/h"),P=a("PuWf"),q=a("n2ec"),x=a("cbxS"),j=a("nwxp"),D=a("AFGi"),Q=a("wB5M"),N=a("nW6E"),R=a("4oNN"),V=a("AaDK"),U=a("SW3P"),B=a("VyO/"),z=a("Sw+x"),H=a("2NqH"),Z=a("6pmM"),J=a("3QP3"),W=a("UDrg"),G=a("zSrG"),Y=a("sP50"),X=void 0!==L?L:L=l,$=function(e){d()(a,e);var n=m()(a);function a(e){var t;return r()(this,a),(t=n.call(this,e)).urlInputRef=void 0,t.handleOnSelectorChange=function(e){var n=e.tribe,a=e.hyperlinkShareToFollowers;t.props.onShareLinkChange({hyperlinkTribe:null!==n&&void 0!==n?n:undefined,hyperlinkShareToFollowers:a,addToTribeContentQueue:!1})},t.urlInputRef=y.createRef(),t.state={url:"",updateKey:!0},t}return o()(a,[{key:"componentDidMount",value:function(){var e,n=null===(e=this.urlInputRef)||void 0===e?void 0:e.current,a=this.props.initialUrl;a&&n&&(n.value=a,this.updateUrl(a))}},{key:"updateUrl",value:function(e){var n=Object(C.a)(e),a=O(n);Object(V.a)("ask_question_link",{text:e,is_valid:a,is_react:!0}),a?(this.setState({url:n}),this.props.onShareLinkChange({hyperlinkUrl:n})):this.props.onShareLinkChange({hyperlinkUrl:""})}},{key:"updateContentQueueState",value:function(e){this.props.onShareLinkChange({addToTribeContentQueue:e})}},{key:"renderAudiencePicker",value:function(){var e=this,n=this.props,a=n.viewer,t=n.audiencePickerHeight,l=n.selectedTribe,i=n.hyperlinkShareToFollowers,r=i?Object(F.Z)("Your followers"):l?y.createElement(P.a,{tribe:l,canUseEllipsis:!0}):Object(F.Z)("Choose a Space"),s=l?y.createElement(q.a,{tribe:l,linked:!1}):i?y.createElement(w.a,{color:"blue",name:"Followers"}):y.createElement(w.a,{name:"Plus"});return Object(j.e)()?y.createElement(N.d,{modalFlowProps:{transitionName:"StandaloneModal",initialModalProps:{name:"AudiencePickerSelector",queryVariables:{contentType:Object(W.c)(W.a.hyperlink)}},initialFlowData:{contentType:W.a.hyperlink},containerProps:{easyDismissEnabled:!0,legacy:!1,mobileHeight:Object(j.f)()?"90%":t},postDismissCallback:function(n){if(n){var a=n.tribe,t=n.hyperlinkShareToFollowers;null==a&&null==t||e.handleOnSelectorChange({tribe:a,hyperlinkShareToFollowers:t})}}}},(function(e){var n=e.openModalFlow;return y.createElement(J.a,{icon:s,text:r,ml:"small",onClick:function(){n()},className:"puppeteer_test_audience_picker"})})):y.createElement(I.a,{reference:y.createElement(J.a,{icon:s,text:r,ml:"small",className:"puppeteer_test_audience_picker"}),minWidth:210,minHeight:300,maxHeight:"55vh",placement:"right-start",borderColor:"gray",isInModal:!0},(function(n){var t=n.hideMenu;return y.createElement(Y.b,{contentType:W.a.quora_share,sharedContentType:W.a.hyperlink,viewer:a,onSelectorChange:function(n){n&&e.handleOnSelectorChange(n),t()}})}))}},{key:"render",value:function(){var e,n=this,a=this.props,t=a.viewer,l=a.selectedTribe,i=a.addToTribeContentQueue,r=t.user;if(!r)return null;var s=!!l&&(!l.viewerCanContribute&&(null===(e=l.settings)||void 0===e?void 0:e.isSubmissionEnabled)),o=!!l&&(l.viewerCanContribute&&l.viewerCanCreateContentQueueItem),u=l?l.submissionRules:null,d=Object(j.g)()&&!0===Object(U.a)("tribe_add_to_queue_from_question_asking_react")&&o;return y.createElement(k.d,{mt:Object(j.b)()?"huge":"medium",mb:"medium"},y.createElement(Z.a,{user:r,contextPicker:this.renderAudiencePicker()}),s&&y.createElement(ne,{submissionRules:u}),d&&y.createElement(R.a,{alignment:"bottom",menuItems:[{label:Object(F.Z)("Post now"),isCheckable:!0,closeOnClick:!0,isOn:!i,onSelected:function(){return n.updateContentQueueState(!1)}},{label:Object(F.Z)("Add to queue"),isCheckable:!0,closeOnClick:!0,isOn:i,onSelected:function(){return n.updateContentQueueState(!0)}}],title:Object(F.Z)("Settings")},(function(e){return y.createElement(A.a,{size:"small",variant:"gray",onClick:e,chevronSuffix:"down",isFullWidth:!0,text:i?Object(F.Z)("Add to queue"):Object(F.Z)("Post now")})})),y.createElement(k.d,{py:"small"},y.createElement(T.c,{placeholder:Object(F.Z)("Say something about this..."),onChange:function(e){return n.updateLinkShareText(e.target.value)},noBorder:!0,charLimit:this.props.shareCommentMaxLength,useSoftCharLimit:!0,useTextArea:!0,autosize:!0,value:this.props.hyperlinkComment})),y.createElement(k.d,{mt:"small",borderAll:!0,borderRadius:"small",p:"small"},y.createElement(T.c,{iconName:"Link",placeholder:Object(F.Z)("Enter a link"),onChange:function(e){return n.updateUrl(e.target.value)},noBorder:!0,key:""+this.state.updateKey,autoFocus:!0,inputRef:this.urlInputRef}),y.createElement(ee,{url:this.state.url,onClear:function(){n.setState((function(e){return{url:"",updateKey:!e.updateKey}})),n.props.onShareLinkChange({hyperlinkUrl:""})}}),l&&y.createElement(z.a,{tribeId:l.tribeId,contentUrl:this.state.url})))}},{key:"updateLinkShareText",value:function(e){this.props.onShareLinkChange({hyperlinkComment:e})}}]),a}(y.Component);$.queries={linkPreview:X},$.fragments={viewer:void 0!==M?M:M=t},$.displayName="AskQuestionStepShareLink";n.b=Object(B.b)($);var ee=function(e){d()(a,e);var n=m()(a);function a(){return r()(this,a),n.apply(this,arguments)}return o()(a,[{key:"renderContent",value:function(e,n,a){return y.createElement(k.d,{pr:15},this.props.showX&&y.createElement(k.a,{right:"tiny",top:"tiny"},y.createElement(A.a,{size:"small",variant:"gray",icon:y.createElement(w.a,{name:"SmallClose"}),onClick:this.props.onClear})),e&&y.createElement(k.r,{bold:!0},e),a&&y.createElement(k.r,{truncateLines:3},a),y.createElement(h.a,{truncateLines:1,mt:"small",style:{wordBreak:"break-all"}},n))}},{key:"render",value:function(){var e=this,n=this.props.url;return n&&y.createElement(v.a,{query:X,variables:{url:n}},(function(n){var a=n.loading,t=n.error,l=n.data;if(a)return y.createElement(E.c,null);if(t)return y.createElement(S.a,{color:"red_error"},t);var i=l.linkPreview;if(!i)return null;var r=i.url,s=i.title,o=i.snippet,u=i.imageUrl,d=i.answer,c=i.post,m=i.tribe;return r&&(d||c||m)?y.createElement(k.p,null,e.props.showX&&y.createElement(k.a,{right:"small",top:"small",zIndex:"popover"},y.createElement(A.a,{size:"small",variant:"gray",icon:y.createElement(w.a,{name:"SmallClose"}),onClick:e.props.onClear})),y.createElement(H.a,{span:{text:"",modifiers:{embed:{url:r}}},readOnly:!0,omitBottomMargin:!0,forceExpandInlineEmbed:!1})):r?y.createElement(G.b,{imageUrl:u,content:e.renderContent(s,r,o),bg:"gray_ultralight",compact:!0,hover:!1}):null}))}}]),a}(y.Component);ee.defaultProps={showX:!0},ee.displayName="AskQuestionStepShareLinkEmbedPreview";var ne=function(e){d()(a,e);var n=m()(a);function a(){return r()(this,a),n.apply(this,arguments)}return o()(a,[{key:"render",value:function(){var e=this.props.submissionRules,n=null!==e?JSON.parse(e):null,a=null===n||Object(D.p)(n),t=Object(j.e)()?60:90;return y.createElement(x.a,{variant:"muted",my:"small",dismissable:!1},a?y.createElement(k.r,null,y.createElement(F.J,null,"This Space's admins will review your submission before it's posted. You'll be notified when it's approved.")):y.createElement(Q.a,{qt:n,charLimit:t,truncationType:"regular"}))}}]),a}(y.Component);ne.displayName="TribeSubmissionBanner"},"4r9s":function(e,n,a){"use strict";a.r(n),a.d(n,"default",(function(){return S}));var t={};a.r(t),a.d(t,"default",(function(){return p}));var l=a("8ZkK"),i=a.n(l),r=a("tQZz"),s=a.n(r),o=a("10u2"),u=a.n(o),d=a("MMxs"),c=a.n(d),m=function(){var e={kind:"ScalarField",alias:null,name:"hasNetworkAdminAccess",args:null,storageKey:null},n={kind:"ScalarField",alias:"questionPoliciesUrl",name:"linkUrl",args:[{kind:"Literal",name:"name",value:"question_policies"}],storageKey:'linkUrl(name:"question_policies")'},a={kind:"ScalarField",alias:"spamUrl",name:"linkUrl",args:[{kind:"Literal",name:"name",value:"what_is_spam"}],storageKey:'linkUrl(name:"what_is_spam")'},t={kind:"ScalarField",alias:"bnbrUrl",name:"linkUrl",args:[{kind:"Literal",name:"name",value:"bnbr"}],storageKey:'linkUrl(name:"bnbr")'},l={kind:"ScalarField",alias:"vandalismUrl",name:"linkUrl",args:[{kind:"Literal",name:"name",value:"vandalism_policy"}],storageKey:'linkUrl(name:"vandalism_policy")'},i={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"OperationRevertModalQuery",type:"QueryRoot",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[n,a,t,l]}]}]},operation:{kind:"Operation",name:"OperationRevertModalQuery",argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[n,a,t,l,i]},i]}]},params:{operationKind:"query",name:"OperationRevertModalQuery",id:"4beba294ae88e816542ec84782883c7dbb6e6503a9fe26ca24d7d376c76718e2",text:null,metadata:{}}}}();m.hash="e6d5d9dac6ee92bc20a73bd925762616";var g,p=m,f=a("q1tI"),b=a("jufJ"),y=a("zm58"),v=a("AFGi"),k=a("/UD8"),h=a("RA+f"),S=function(e){u()(a,e);var n=c()(a);function a(e){var t;return i()(this,a),(t=n.call(this,e)).state={},t}return s()(a,[{key:"getStartingContent",value:function(e){var n,a=this.props.extraProps.restoreOnly,t=this.state.startingContent;return t||(a?Object(b.Z)("This edit was reviewed and complies with Quora policy."):null!==e&&void 0!==e&&null!==(n=e.viewer)&&void 0!==n&&n.hasNetworkAdminAccess?Object(b.Z)(f.createElement(f.Fragment,null,"This edit does not comply with Quora's policies and guidelines. Please see:"," ",f.createElement(b.L,{text:e.viewer.network.questionPoliciesUrl,translateParamName:"url"}))):"")}},{key:"render",value:function(){var e,n=this,a=this.props,t=a.extraProps,l=a.dismissModalFlow,i=a.queryResult,r=t.opid,s=t.restoreOnly,o=this.getStartingContent(i),u=f.createElement(h.d,{m:"medium"},f.createElement(h.r,{mb:"small"},f.createElement(b.J,null,"Comment (optional):")));if(!s&&null!==i&&void 0!==i&&null!==(e=i.viewer)&&void 0!==e&&e.hasNetworkAdminAccess){var d=f.createElement(k.c,{name:"revert-reason",stacked:!0,onChange:function(e){return n.setState({startingContent:e.target.value})},selected:this.state.startingContent,buttons:[{title:f.createElement(b.J,null,"Spam"),value:Object(b.Z)(f.createElement(f.Fragment,null,"Spamming is not allowed on Quora. Please see:"," ",f.createElement(b.L,{text:i.viewer.network.spamUrl,translateParamName:"url"})))},{title:f.createElement(b.J,null,"Be Nice Be Respectful"),value:Object(b.Z)(f.createElement(f.Fragment,null,"Hate speech, harassment, and personal attacks are not allowed on Quora. Please see:"," ",f.createElement(b.L,{text:i.viewer.network.bnbrUrl,translateParamName:"url"})))},{title:f.createElement(b.J,null,"Vandalism"),value:Object(b.Z)(f.createElement(f.Fragment,null,"Edits which alter meaning and don't suitably improve content are not allowed on Quora. Please see:"," ",f.createElement(b.L,{text:i.viewer.network.vandalismUrl,translateParamName:"url"})))},{title:f.createElement(b.J,null,"Other"),value:""}]});u=f.createElement(h.d,{m:"medium"},f.createElement(h.r,{mb:"small"},f.createElement(b.J,null,"Choose a reason for reverting this revision:")),d,f.createElement(h.r,{mt:"small"},f.createElement(b.J,null,"Comment (optional):")))}var c="revert-reason-".concat(o,"-").concat(r);return f.createElement(y.a,{onPrimaryButtonClick:function(e){return l({content:e})},onNavButtonClick:function(){return l({})},key:c,editorKey:c,titleText:s?Object(b.Z)("Restore Edit"):Object(b.Z)("Revert Edit"),startingContent:Object(v.u)(o),header:u,placeholder:s?Object(b.Z)("Enter a reason for restoring this revision."):Object(b.Z)("Enter a reason for reverting this revision."),primaryButtonText:s?Object(b.Z)("Restore"):Object(b.Z)("Revert")})}}]),a}(f.Component);S.queries={onLoad:void 0!==g?g:g=t},S.displayName="OperationRevertModal"},"6pmM":function(e,n,a){"use strict";a.d(n,"a",(function(){return O}));var t={};a.r(t),a.d(t,"default",(function(){return b}));var l={};a.r(l),a.d(l,"default",(function(){return v}));var i=a("8ZkK"),r=a.n(i),s=a("tQZz"),o=a.n(s),u=a("10u2"),d=a.n(u),c=a("MMxs"),m=a.n(c),g=function(){var e=[{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null}],n=[{kind:"Variable",name:"tribeId",variableName:"tribeId"}],a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"ComposerHeader_tribe_Query",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:n,concreteType:"Tribe",plural:!1,selections:[a,t,l,{kind:"FragmentSpread",name:"TribeIcon_tribe",args:null},{kind:"FragmentSpread",name:"TribeName_tribe",args:null}]}]},operation:{kind:"Operation",name:"ComposerHeader_tribe_Query",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:n,concreteType:"Tribe",plural:!1,selections:[a,t,l,{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"iconUrl",args:[{kind:"Literal",name:"size",value:100}],storageKey:"iconUrl(size:100)"},{kind:"ScalarField",alias:"iconRetinaUrl",name:"iconUrl",args:[{kind:"Literal",name:"size",value:200}],storageKey:"iconUrl(size:200)"},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"rd_only_tribe_theme_color_on_names",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"colorHex",args:null,storageKey:null}]}]}]},params:{operationKind:"query",name:"ComposerHeader_tribe_Query",id:"1989be502b3d036783a2b7489fa6cb808fb6701ec00b4f56b3dce45750aa5b8f",text:null,metadata:{}}}}();g.hash="1c56b44f1dada51517acca508a254edb";var p,f,b=g,y={kind:"Fragment",name:"ComposerHeader_user",type:"User",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},{kind:"FragmentSpread",name:"UserPhoto_user",args:null},{kind:"FragmentSpread",name:"UserName_user",args:null}],hash:"c94a1407d8872ce40da717a9266d77da"},v=y,k=a("q1tI"),h=a("RA+f"),S=a("6aqD"),F=a("rAPm"),T=a("r+vq"),E=a("jufJ"),w=a("OMLc"),C=a("n2ec"),_=a("PuWf"),K=a("D5Zh"),A=a("8lmh"),O=function(e){d()(a,e);var n=m()(a);function a(){return r()(this,a),n.apply(this,arguments)}return o()(a,[{key:"render",value:function(){var e=this.props,n=e.user,t=e.tribeId,l=e.contextPicker,i=!t&&!l;return k.createElement(h.i,{mb:"small",alignItems:"center",whiteSpace:"pre",flexWrap:"nowrap",verticalAlign:"middle"},k.createElement(T.a,{user:n,size:18,frameColor:"raised",linked:!1}),!i&&k.createElement(h.d,{ml:"small"},k.createElement(w.a,{size:12,name:"VideoPlay",isFilled:!0,verticalAlign:"center"})),l||t&&k.createElement(h.i,{ml:"small",alignItems:"center",overflow:"hidden"},k.createElement(K.a,{variables:{tribeId:t},query:a.queries.tribe},(function(e){var n=e.data;return Object(A.tempFailureInvariant)(n.tribe,"tribe is ".concat(n.tribe)),k.createElement(k.Fragment,null,k.createElement(C.a,{tribe:n.tribe,linked:!1,size:18,mr:"tiny"}),k.createElement(F.a,{color:"gray_light",ellipsis:!0},k.createElement(E.J,null,k.createElement(_.a,{tribe:n.tribe,canUseEllipsis:!0}))))}))))}}]),a}(Object(S.n)(k.Component));O.fragments={user:void 0!==p?p:p=l},O.queries={tribe:void 0!==f?f:f=t}},"9G0N":function(e,n,a){"use strict";a.d(n,"d",(function(){return s})),a.d(n,"c",(function(){return t})),a.d(n,"a",(function(){return l})),a.d(n,"e",(function(){return i})),a.d(n,"b",(function(){return r}));var t,l,i,r,s=25;!function(e){e[e.personal=1]="personal",e[e.system=2]="system",e[e.ama=3]="ama",e[e.routed=4]="routed",e[e.profile=5]="profile",e[e.mass=6]="mass"}(t||(t={})),function(e){e[e.none=0]="none",e[e.request_button=1]="request_button",e[e.autoexpanded=2]="autoexpanded",e[e.from_rad=3]="from_rad",e[e.from_button=4]="from_button",e[e.from_auto_modal=5]="from_auto_modal",e[e.from_sent_requests=15]="from_sent_requests",e[e.existing_topic=6]="existing_topic",e[e.new_topic=7]="new_topic",e[e.close_or_modal_bg=8]="close_or_modal_bg",e[e.done_button=9]="done_button",e[e.new_modal_opened=16]="new_modal_opened",e[e.modal_suggestion=10]="modal_suggestion",e[e.modal_search=11]="modal_search",e[e.rad_suggestion=12]="rad_suggestion",e[e.on_question_page=13]="on_question_page",e[e.a2a_modal=14]="a2a_modal"}(l||(l={})),function(e){e[e.none=0]="none",e[e.hasNoTopics=1]="hasNoTopics",e[e.isAdult=2]="isAdult",e[e.viewerReachedDailyRateLimit=3]="viewerReachedDailyRateLimit",e[e.viewerReachedQuestionA2aLimit=4]="viewerReachedQuestionA2aLimit",e[e.isMergedQuestion=5]="isMergedQuestion"}(i||(i={})),function(e){e[e["default"]=0]="default",e[e.tribeModerator=1]="tribeModerator",e[e.tribeRestricted=2]="tribeRestricted"}(r||(r={}))},"9GZO":function(e,n,a){"use strict";var t={};a.r(t),a.d(t,"default",(function(){return b}));var l,i=a("rhDr"),r=a.n(i),s=a("8ZkK"),o=a.n(s),u=a("tQZz"),d=a.n(u),c=a("10u2"),m=a.n(c),g=a("MMxs"),p=a.n(g),f={kind:"Fragment",name:"TribeQuestionAskedInTribeHeader_tribe",type:"Tribe",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"FragmentSpread",name:"TribeLink_tribe",args:null},{kind:"FragmentSpread",name:"TribeIcon_tribe",args:null}],hash:"200d84caf1a0e92b9450f58da17dcd68"},b=f,y=a("q1tI"),v=a("RA+f"),k=a("VyO/"),h=a("rAPm"),S=a("jufJ"),F=a("n2ec"),T=a("Khkn"),E=function(e){m()(a,e);var n=p()(a);function a(){return o()(this,a),n.apply(this,arguments)}return d()(a,[{key:"render",value:function(){var e=this.props,n=e.tribe,a=e.inline,t=void 0!==a&&a,l=r()(e,["tribe","inline"]);return y.createElement(v.d,Object.assign({},l,{display:t?"inline":"flex",alignItems:"center"}),y.createElement(F.a,{tribe:n,size:18,mr:"tiny",verticalAlign:t?"bottom":undefined}),y.createElement(h.a,{as:"span",color:"gray"},y.createElement(S.J,null,"Asked in"," ",y.createElement(v.r,{as:"span",medium:!0},y.createElement(T.a,{tribe:n})))))}}]),a}(y.Component);E.fragments={tribe:void 0!==l?l:l=t},E.displayName="TribeQuestionAskedInTribeHeader";n.a=Object(k.b)(E)},"9k9Z":function(e,n,a){"use strict";a.d(n,"b",(function(){return d}));var t=a("rhDr"),l=a.n(t),i=a("jufJ"),r=a("q1tI"),s=a("zLpq"),o=a("59Xv"),u=a("OMLc"),d=function(){return!1},c=function(e){var n=e.stacked,a=void 0!==n&&n,t=e.size,c=void 0===t?"regular":t,m=l()(e,["stacked","size"]),g=a?o.a:s.a,p=a?{}:{size:c};return r.createElement(g,Object.assign({icon:r.createElement(u.a,{name:"Request"}),text:d()?Object(i.Z)("Ask to answer"):Object(i.Z)("Request")},p,m))};c.displayName="RequestButton",n.a=c},BppE:function(e,n,a){"use strict";var t;!function(e){e.free="free",e.paid_only="paid_only",e.smart_distribution="smart_distribution"}(t||(t={})),n.a=t;new Map([[t.free,0],[t.paid_only,1],[t.smart_distribution,2]]),new Map([[0,t.free],[1,t.paid_only],[2,t.smart_distribution]])},DAeU:function(e,n,a){"use strict";a.r(n),a.d(n,"default",(function(){return f}));var t=a("8ZkK"),l=a.n(t),i=a("tQZz"),r=a.n(i),s=a("10u2"),o=a.n(s),u=a("MMxs"),d=a.n(u),c=a("q1tI"),m=a("F6zL"),g=a("AFGi"),p=a("zm58"),f=function(e){o()(a,e);var n=d()(a);function a(e){var t;return l()(this,a),(t=n.call(this,e)).state={title:t.props.extraProps.startingTitle},t}return r()(a,[{key:"renderHeader",value:function(){return c.createElement(c.Fragment,null,this.props.extraProps.header,this.getTitleEditor())}},{key:"getTitleEditor",value:function(){var e=this;return c.createElement(m.c,{value:this.state.title,variant:"large",useTextArea:!0,placeholder:this.props.extraProps.titlePlaceholder,onChange:function(n){return e.setState({title:n.target.value})}})}},{key:"editorDismissModalFlow",value:function(e){var n=Object(g.u)(this.state.title),a=JSON.stringify(n);return this.props.dismissModalFlow({title:a,content:e.content})}},{key:"render",value:function(){var e=this,n=this.props,a=n.extraProps,t=n.dismissModalFlow;return c.createElement(p.a,Object.assign({},a,{header:this.renderHeader(),onPrimaryButtonClick:function(n){return t({title:JSON.stringify(Object(g.u)(e.state.title)),content:n})},onNavButtonClick:function(){return t({})}}))}}]),a}(c.Component)},EKvE:function(e,n,a){"use strict";var t=a("q1tI"),l=a("RA+f"),i=a("cbxS"),r=a("rAPm"),s=a("NNru"),o=a("vJPj"),u=function(e){var n=e.logoImageUrl,a=e.text,u=e.metaText,d=e.onClick,c=e.bannerActionType,m=void 0===c?s.c.internal:c;return t.createElement(l.e,{onClick:d,underlineHover:!1,width:"100%",mt:"small"},t.createElement(i.a,{actionable:m,variant:"muted",p:"small"},t.createElement(l.i,{alignItems:"center"},t.createElement(l.j,{src:n,width:o.a,height:o.a,borderRadius:"circle",borderAll:!0,borderColor:"gray"}),t.createElement(l.d,{ml:"small"},t.createElement(l.r,null,a),u?t.createElement(r.a,null,u):null))))};u.displayName="LogoBanner",n.a=u},EreF:function(e,n,a){"use strict";var t=a("rhDr"),l=a.n(t),i=a("q1tI"),r=a("JY1L"),s=(a("tuWV"),Object(r.a)({loader:function(){return a.e("component-QTextEditor").then(a.bind(null,"a+Nv"))},render:function(e,n){var a=n._ref,t=l()(n,["_ref"]),r=e["default"];return i.createElement(r,Object.assign({},t,{ref:a}))},loading:function(e){var n=e.error;return n&&console.error(n),i.createElement(i.Fragment,null)}})),o=i.forwardRef((function(e,n){return i.createElement(s,Object.assign({},e,{_ref:n}))}));o.displayName="QTextEditor",n.a=o},F0ZP:function(e,n,a){"use strict";a.d(n,"c",(function(){return L})),a.d(n,"b",(function(){return M})),a.d(n,"j",(function(){return P})),a.d(n,"g",(function(){return q})),a.d(n,"i",(function(){return x})),a.d(n,"h",(function(){return j})),a.d(n,"f",(function(){return D})),a.d(n,"e",(function(){return Q})),a.d(n,"d",(function(){return N})),a.d(n,"k",(function(){return R})),a.d(n,"a",(function(){return V}));var t=a("8ZkK"),l=a.n(t),i=a("tQZz"),r=a.n(i),s=a("10u2"),o=a.n(s),u=a("MMxs"),d=a.n(u),c=a("vOnD"),m=a("q1tI"),g=a("RA+f"),p=a("NHYY"),f=a("rAPm"),b=a("JWOy"),y=a("HGXV"),v=a("zLpq"),k=a("jufJ"),h=a("Gnru"),S=a("6aqD"),F=a("OMLc"),T=a("6sb5"),E=a("KbN8"),w=a("Ure0"),C=a("MzdU"),_=a("FBVH"),K=a("LW3J"),A=a("amAD"),O=a("nwxp"),L=E.a[36].dimension,M=24,I=Object(c["default"])(g.i).withConfig({displayName:"styles___StyledFlex",componentId:"c0eo4-0"})(["",""],(function(e){return e._css})),P=function(e){o()(a,e);var n=d()(a);function a(){return l()(this,a),n.apply(this,arguments)}return r()(a,[{key:"render",value:function(){var e=this;return m.createElement(p.a.Consumer,null,(function(n){var a;return m.createElement(I,{mb:"small",position:e.props.actionOnly?"absolute":undefined,right:null!==(a=e.props.actionOnly?"medium":null)&&void 0!==a?a:undefined,alignItems:"center",zIndex:"base",_css:e.props.actionOnly&&!Object(O.g)()?"\n                      float: ".concat(n===p.b.RTL?"left":"right",";\n                    "):undefined},e.props.children)}))}}]),a}(Object(S.n)(m.Component)),q=function(e){var n=e.children;return m.createElement(b.a,{maxCount:12,size:18,frameColor:"raised",mr:"tiny"},n)},x=function(e){o()(a,e);var n=d()(a);function a(){return l()(this,a),n.apply(this,arguments)}return r()(a,[{key:"render",value:function(){return m.createElement(f.a,{color:"gray_light"},this.props.children)}}]),a}(Object(S.n)(m.Component)),j=function(e){var n=e.onClick;return m.createElement(g.d,{ml:"auto",pl:"tiny"},m.createElement(g.p,{size:18},m.createElement(g.a,{top:-9,left:-9},m.createElement(h.ClientLogConsumer,null,(function(e){return m.createElement(v.a,{icon:m.createElement(F.a,{name:"SmallClose"}),"aria-label":Object(k.Z)("Hide"),onClick:function(a){e("Hide"),n(a)},tooltipText:Object(k.Z)("Hide")})})))))},D=function(e){var n=e.name;return m.createElement(C.a,{iconName:n,size:M,bg:"red",borderRadius:"small"})},Q=function(e){var n=e.icon,a=e.title,t=e.borderBottom,l=void 0===t||t,i=e.button,r=void 0===i?null:i;return m.createElement(g.d,{borderBottom:l,px:"medium",py:"small"},m.createElement(g.i,{justifyContent:"space-between"},m.createElement(g.i,{alignItems:"center"},n,m.createElement(g.r,{fontSize:"small",ml:"small",color:"gray"},a)),r))},N=function(e){var n,a=e.children,t=e.noFeedReason,l=void 0!==t&&t,i=e.isShare,r=void 0!==i&&i;return m.createElement(g.d,{width:"100%",mb:r?"tiny":"small",pr:null!==(n=l?"large":null)&&void 0!==n?n:undefined},a)},R=function(e){var n=e.children;return m.createElement(g.d,{mt:"small"},n)},V=Object(c.withTheme)((function(e){var n,a=e.photo,t=e.name,l=e.isTribeAdmin,i=void 0!==l&&l,r=e.isTribeModerator,s=void 0!==r&&r,o=e.isOriginalAuthor,u=void 0!==o&&o,d=e.inNavBar,c=void 0!==d&&d,p=e.compact,f=void 0!==p&&p,b=e.isolateOnClick,v=void 0!==b&&b,h=e.timestamp,S=e.credential,E=e.button,C=e.promotedReason,O=e.theme,L=e.answerFlairBadge,M=c?Object(w.f)()-2*O.space[w.b]:null,I=function(e){var n=e.isTribeAdmin,a=e.isTribeModerator,t=e.isOriginalAuthor,l=null,i=null;return n?l=m.createElement(F.a,{name:"ShieldStriped"}):a?l=m.createElement(F.a,{name:"Shield"}):t&&(l=m.createElement(F.a,{name:"Microphone"}),i=Object(k.Z)("Original Author")),{icon:l,text:i}}({isTribeAdmin:i,isTribeModerator:s,isOriginalAuthor:u}),P=I.icon,q=I.text,x=c?1:undefined;return m.createElement(g.i,{alignItems:"flex-start",width:"100%"},a&&m.createElement(_.a,{condition:v},m.createElement(g.m,{mr:"small",alignItems:"center",height:null!==M&&void 0!==M?M:undefined},c?m.cloneElement(a,{size:32}):a)),m.createElement(g.d,{flex:"auto",mt:"-1px",style:{overflowWrap:"break-word"},alignSelf:null!==(n=S?null:"center")&&void 0!==n?n:undefined,minWidth:0},m.createElement(g.d,null,m.createElement(g.d,{as:"span"},m.createElement(_.a,{condition:v},m.createElement(g.r,{as:"span",bold:!0,color:"gray_dark",fontSize:"small",passColorToLinks:!0},i||s?m.cloneElement(t,{tribeMemberPermissionBadge:i?A.a.admin:s?A.a.moderator:null}):t))),i||s?null:q?m.createElement(y.a,{text:q},P&&m.cloneElement(P,{size:16,ml:"tiny",verticalAlign:"text-top"})):P&&m.cloneElement(P,{size:16,ml:"tiny"}),E&&m.createElement(m.Fragment,null,m.createElement(g.r,{as:"span",fontSize:"small",color:"gray"},m.createElement(T.a,null)),E)),m.createElement(g.r,{color:"gray",fontSize:"small",passColorToLinks:!0,flex:x,truncateLines:f?1:3},m.createElement(K.a,null,S,C,h,L))))}))},FBVH:function(e,n,a){"use strict";a.d(n,"b",(function(){return o})),a.d(n,"a",(function(){return u}));var t=a("rhDr"),l=a.n(t),i=a("q1tI"),r=a("RA+f"),s=a("VwdU");function o(e){var n=e.children,a=e.preventDefault,t=void 0===a||a,s=l()(e,["children","preventDefault"]);return i.Children.count(n)<1?null:i.createElement(r.d,Object.assign({as:"span",onClick:function(e){t&&e.preventDefault(),e.stopPropagation()},style:{marginRight:"auto",pointerEvents:"auto"}},s),n)}var u=function(e){var n=e.condition,a=e.children;return i.createElement(s.a,{condition:n,wrapper:function(e){return i.createElement(o,{preventDefault:!1},e)}},a)}},I4NI:function(e,n,a){"use strict";var t=a("8ZkK"),l=a.n(t),i=a("tQZz"),r=a.n(i),s=a("10u2"),o=a.n(s),u=a("MMxs"),d=a.n(u),c=a("q1tI"),m=a("sEfC"),g=a.n(m);n.a=function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),t=1;t<n;t++)a[t-1]=arguments[t];return function(n){o()(i,n);var t=d()(i);function i(){var e;l()(this,i);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).updateDebounced=g.a.apply(void 0,[e.forceUpdate].concat(a)),e}return r()(i,[{key:"shouldComponentUpdate",value:function(){return this.updateDebounced(),!1}},{key:"componentWillUnmount",value:function(){this.updateDebounced.cancel()}},{key:"render",value:function(){return c.createElement(e,this.props)}}]),i}(c.Component)}},JWOy:function(e,n,a){"use strict";var t=a("rhDr"),l=a.n(t),i=a("8ZkK"),r=a.n(i),s=a("tQZz"),o=a.n(s),u=a("10u2"),d=a.n(u),c=a("MMxs"),m=a.n(c),g=a("vOnD"),p=a("q1tI"),f=a("RA+f"),b=a("NHYY"),y=a("nwxp"),v=a("KbN8"),k=a("VwdU"),h=a("HGXV"),S=Object(g["default"])(f.d).withConfig({displayName:"BadgePile___StyledBox",componentId:"sc-1fm3e3q-0"})(["",""],(function(e){return e._css})),F=Object(g["default"])(f.i).withConfig({displayName:"BadgePile___StyledFlex",componentId:"sc-1fm3e3q-1"})(["transform:translateX( ","px );transition:transform "," 200ms;"],(function(e){return e._css2}),f.u),T=Object(g["default"])(f.f).withConfig({displayName:"BadgePile___StyledCssComponent",componentId:"sc-1fm3e3q-2"})(["transition-delay:","ms;transition-timing-function:",";position:absolute;top:0;right:","px;left:","px;z-index:",";"],(function(e){return e._css3}),f.u,(function(e){return e._css4}),(function(e){return e._css5}),(function(e){return e._css6})),E=function(e){d()(a,e);var n=m()(a);function a(e){var t;return r()(this,a),(t=n.call(this,e)).state={isMounted:!1},t}return o()(a,[{key:"componentDidMount",value:function(){this.setState({isMounted:!0})}},{key:"render",value:function(){var e=this,n=this.props,a=n.size,t=void 0===a?18:a,i=n.frameColor,r=void 0===i?"auto":i,s=n.maxCount,o=void 0===s?20:s,u=n.verticalAlign,d=void 0===u?"bottom":u,c=n.tooltipText,m=n.isActionable,g=void 0!==m&&m,E=n.items,w=n.wrapperHeight,C=n.animateEntrance,_=l()(n,["size","frameColor","maxCount","verticalAlign","tooltipText","isActionable","items","wrapperHeight","animateEntrance"]),K=this.props.children,A=v.a[t].dimension,O=A/6;K=p.Children.toArray(K).filter((function(e){return e}));var L=E?E.slice(0).reverse():[];return p.createElement(b.a.Consumer,null,(function(n){var a=E?A*Math.min(E.length,o)-O*(Math.min(E.length,o)-1):0;return p.createElement(k.a,{condition:!!c&&Object(y.b)(),wrapper:function(e){return p.createElement(h.a,{placement:"top",trigger:"hover",text:null!==c&&void 0!==c?c:p.createElement(p.Fragment,null),popperReferenceDisplayType:"flex"},e)}},p.createElement(S,Object.assign({},_,{verticalAlign:d,style:{lineHeight:0},display:"inline-block",transition:g?"opacity":undefined,_css:g?"\n          &:hover {\n            opacity: .7;\n          }\n        ":undefined}),p.createElement(f.i,{alignItems:"center",justifyContent:"flex-start",width:C&&E&&E.length>0?a:undefined,height:w,position:"relative"},E?p.createElement(F,{alignItems:"center",position:"relative",width:0,height:A,_css2:n===b.b.RTL?-1*a:a},L.map((function(a,l){return l<o?p.createElement(k.a,{key:l,condition:!!C,wrapper:function(a){return p.createElement(f.b,{"in":!0,appear:e.state.isMounted},(function(e){return p.createElement(T,{animation:e,slideIn:n===b.b.RTL?"right":"left",fadeIn:!0,_css3:30*l,_css4:n===b.b.RTL?"auto":(A-O)*l,_css5:n===b.b.LTR?"auto":(A-O)*l,_css6:o+l},a)}))},elseWrapper:function(e){return p.createElement(f.a,{top:0,right:(A-O)*l,zIndex:o+l},e)}},p.cloneElement(a,{size:t,frameColor:r,includeHovercard:!1})):null}))):p.Children.map(K,(function(e,n){return n<o?p.createElement(f.m,{position:"relative",zIndex:o-n,ml:0===n?0:"-".concat(O,"px")},e?p.cloneElement(e,{size:t,frameColor:r,includeHovercard:!1}):null):null})))))}))}}]),a}(p.Component);E.displayName="BadgePile",n.a=E},JusU:function(e,n,a){"use strict";a.r(n),a.d(n,"default",(function(){return E}));var t={};a.r(t),a.d(t,"default",(function(){return p}));var l=a("8ZkK"),i=a.n(l),r=a("tQZz"),s=a.n(r),o=a("10u2"),u=a.n(o),d=a("MMxs"),c=a.n(d),m=function(){var e=[{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null}],n=[{kind:"Variable",name:"tribeId",variableName:"tribeId"}],a={name:"PaidSubscriptionEnabledForProducer",value:"true"},t={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"TribeSubmissionRulesModalQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:n,concreteType:"Tribe",plural:!1,selections:[{kind:"FragmentSpread",name:"SubmissionRulesText_tribe",args:null},{kind:"FragmentSpread",name:"TribeNameWithIcon_tribe",args:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:a,condition:"onFeature",selections:[{kind:"FragmentSpread",name:"ContentMonetizationDisclaimer_tribe",args:null}]}]}]},operation:{kind:"Operation",name:"TribeSubmissionRulesModalQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:n,concreteType:"Tribe",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"submissionRules",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"settings",storageKey:null,args:null,concreteType:"TribeSettings",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"submissionReviewPeriod",args:null,storageKey:null},t]},t,{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"iconUrl",args:[{kind:"Literal",name:"size",value:100}],storageKey:"iconUrl(size:100)"},{kind:"ScalarField",alias:"iconRetinaUrl",name:"iconUrl",args:[{kind:"Literal",name:"size",value:200}],storageKey:"iconUrl(size:200)"},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"rd_only_tribe_theme_color_on_names",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"colorHex",args:null,storageKey:null}]},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:a,condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"producerBundleStatus",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"defaultAccessOption",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"producerDirectStatus",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isAdsRevenueShareEnabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanContribute",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanModerate",args:null,storageKey:null}]}]}]},params:{operationKind:"query",name:"TribeSubmissionRulesModalQuery",id:"531b75da72e04c97064e4922cff28ea0e625a95cc8527fb358b38d4816557d45",text:null,metadata:{}}}}();m.hash="1366787e4373bf5c886524c9e42bfd5d";var g,p=m,f=a("q1tI"),b=a("nwxp"),y=a("nW6E"),v=a("eEjP"),k=a("RA+f"),h=a("RAJQ"),S=a("jufJ"),F=a("7/5D"),T=a("pl0F"),E=function(e){u()(a,e);var n=c()(a);function a(){return i()(this,a),n.apply(this,arguments)}return s()(a,[{key:"renderHeader",value:function(){var e;return null!==(e=this.props.queryResult)&&void 0!==e&&e.tribe?f.createElement(k.d,{mb:"medium"},f.createElement(v.a,{tribe:this.props.queryResult.tribe,linked:!1})):null}},{key:"render",value:function(){var e=this.props.dismissModalFlow,n=this.props.queryResult.tribe;if(!n)throw Error("queryresult and Tribe info are expected for TribeSubmissionRulesModal.");return f.createElement(y.f,{navButton:Object(b.b)()?"back":"close",navButtonProps:{onClick:function(){return e()}},extraBodyProps:{display:"flex"}},this.props.extraProps.showHowThisWorksContent?f.createElement(k.d,null,f.createElement(F.a,{mb:"tiny"},f.createElement(S.J,null,"How this works")),f.createElement(k.d,{pt:"medium"},f.createElement(S.J,null,"Submitters are notified when you accept or decline a submission. They are also notified when the Space automatically declines their submission at the end of the review period."))):f.createElement(k.i,{flexDirection:"column"},f.createElement(k.d,null,this.renderHeader(),f.createElement(F.a,{mb:"tiny"},f.createElement(S.J,null,"Submission Rules")),f.createElement(h.a,{tribe:n,truncated:!1})),this.props.extraProps.showContentMonetizationDisclaimer&&f.createElement(k.d,{mt:"medium"},f.createElement(T.a,{contentType:"Post",tribe:n}))))}}]),a}(f.Component);E.queries={onLoad:void 0!==g?g:g=t},E.displayName="TribeSubmissionRulesModal"},KOB0:function(e,n,a){"use strict";var t;!function(e){e[void 0]="undefined",e.name_change_request="name_change_request",e.content_warning="content_warning",e.edit_block_warning="edit_block_warning",e.mark_not_helpful="mark_not_helpful",e.send_message="send_message",e.delete_question_comment="delete_question_comment",e.delete_answer_comment="delete_answer_comment",e.resolve_name_change="resolve_name_change",e.anon_send_message="anon_send_message",e.anon_mute="anon_mute",e.anon_unmute="anon_unmute",e.remove_user_photos="remove_user_photos",e.edit_admin_notes_wiki="edit_admin_notes_wiki",e.flag_operation="flag_operation",e.delete_post_comment="delete_post_comment",e.flag_fake_name="flag_fake_name",e.reject_name_change="reject_name_change",e.delete_board_item_comment="delete_board_item_comment",e.verify_name="verify_name",e.mark_bad_credential="mark_bad_credential"}(t||(t={})),n.a=t;new Map([[t.undefined,0],[t.name_change_request,1],[t.content_warning,2],[t.edit_block_warning,3],[t.mark_not_helpful,4],[t.send_message,5],[t.delete_question_comment,6],[t.delete_answer_comment,7],[t.resolve_name_change,8],[t.anon_send_message,9],[t.anon_mute,10],[t.anon_unmute,11],[t.remove_user_photos,12],[t.edit_admin_notes_wiki,13],[t.flag_operation,14],[t.delete_post_comment,15],[t.flag_fake_name,16],[t.reject_name_change,17],[t.delete_board_item_comment,18],[t.verify_name,19],[t.mark_bad_credential,20]]),new Map([[0,t.undefined],[1,t.name_change_request],[2,t.content_warning],[3,t.edit_block_warning],[4,t.mark_not_helpful],[5,t.send_message],[6,t.delete_question_comment],[7,t.delete_answer_comment],[8,t.resolve_name_change],[9,t.anon_send_message],[10,t.anon_mute],[11,t.anon_unmute],[12,t.remove_user_photos],[13,t.edit_admin_notes_wiki],[14,t.flag_operation],[15,t.delete_post_comment],[16,t.flag_fake_name],[17,t.reject_name_change],[18,t.delete_board_item_comment],[19,t.verify_name],[20,t.mark_bad_credential]])},Kh5g:function(e,n,a){"use strict";a.d(n,"a",(function(){return v}));var t=a("rhDr"),l=a.n(t),i=a("8ZkK"),r=a.n(i),s=a("tQZz"),o=a.n(s),u=a("10u2"),d=a.n(u),c=a("MMxs"),m=a.n(c),g=a("q1tI"),p=a("EFAP"),f=a("RqIh"),b=a("rLUV"),y=a("AFGi"),v=function(e){d()(a,e);var n=m()(a);function a(){return r()(this,a),n.apply(this,arguments)}return o()(a,[{key:"render",value:function(){var e=this.props,n=e.qt,a=e.nostyle,t=e.fontSize,i=e.isSensitive,r=e.hyperlinkEmbedOptions,s=e.maxImageHeight,o=e.renderImage,u=e.disableFullWidthImages,d=e.disableFullWidthImageContainer,c=l()(e,["qt","nostyle","fontSize","isSensitive","hyperlinkEmbedOptions","maxImageHeight","renderImage","disableFullWidthImages","disableFullWidthImageContainer"]),m=Object.assign({},y.a,this.props.options),v=g.createElement(p.e.Consumer,null,(function(e){return g.createElement(y.d,{qt:n,options:m,isSensitive:e===f.a.question_main&&i,hyperlinkEmbedOptions:r,maxImageHeight:s,disableFullWidthImages:u,disableFullWidthImageContainer:d,renderImage:o})}));return a?v:g.createElement(b.a,Object.assign({},c,{fontSize:t,maxWidth:"100%"}),v)}}]),a}(g.Component)},Khkn:function(e,n,a){"use strict";var t={};a.r(t),a.d(t,"default",(function(){return b}));var l,i=a("rhDr"),r=a.n(i),s=a("8ZkK"),o=a.n(s),u=a("tQZz"),d=a.n(u),c=a("10u2"),m=a.n(c),g=a("MMxs"),p=a.n(g),f={kind:"Fragment",name:"TribeLink_tribe",type:"Tribe",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},{kind:"FragmentSpread",name:"TribeName_tribe",args:null},{kind:"FragmentSpread",name:"TribeLinkWrapper_tribe",args:null}],hash:"7388d59c71afd076fe128d383ddf5a10"},b=f,y=a("q1tI"),v=a("VyO/"),k=a("nwxp"),h=a("1cij"),S=a("6aqD"),F=a("VwdU"),T=a("lZfD"),E=a("LV4K"),w=a("PuWf"),C=function(e){m()(a,e);var n=p()(a);function a(){return o()(this,a),n.apply(this,arguments)}return d()(a,[{key:"render",value:function(){var e=this.props,n=e.tribe,a=e.includeHovercard,t=void 0===a||a,l=e.skipNavigation,i=void 0!==l&&l,s=e.boldSubtext,o=e.isCompact,u=e.navStyle,d=e.ignoreThemeColor,c=void 0!==d&&d,m=r()(e,["tribe","includeHovercard","skipNavigation","boldSubtext","isCompact","navStyle","ignoreThemeColor"]);return y.createElement(y.Fragment,null,Object(h.d)()&&y.createElement(h.a,{type:"tribe",id:n.tribeId}),y.createElement(F.a,{condition:t&&!o,wrapper:function(e){return y.createElement(E.a,{tribeId:n.tribeId},e)}},y.createElement(T.a,Object.assign({tribe:n,skipNavigation:i,navStyle:u},m),y.createElement(w.a,{tribe:n,isLinked:!0,boldSubtext:s,ignoreThemeColor:c}))))}}]),a}(Object(S.r)(y.Component));C.defaultProps={isCompact:Object(k.e)()},C.fragments={tribe:void 0!==l?l:l=t};n.a=Object(v.b)(C)},KxXw:function(e,n,a){"use strict";a.d(n,"a",(function(){return u}));var t=a("rhDr"),l=a.n(t),i=a("q1tI"),r=a("RA+f"),s=a("6sb5"),o=a("cBSy"),u=function(e){var n=e.disclaimers,a=e.itemMb,t=void 0===a?"small":a,u=l()(e,["disclaimers","itemMb"]);return i.createElement(o.a,null,n.map((function(e){return e.text?i.createElement(r.i,{key:e.id,mb:t},i.createElement(r.i,{mr:"small"},i.createElement(s.a,null)),i.createElement(r.i,{flexDirection:"column"},i.createElement(r.r,u,e.text))):null})))}},LsdO:function(e,n,a){"use strict";var t={};a.r(t),a.d(t,"default",(function(){return F}));var l={};a.r(l),a.d(l,"default",(function(){return E}));var i={};a.r(i),a.d(i,"default",(function(){return C}));var r={};a.r(r),a.d(r,"default",(function(){return M}));var s=a("jQsN"),o=a.n(s),u=a("tcRq"),d=a.n(u),c=a("yMAQ"),m=a.n(c),g=a("8ZkK"),p=a.n(g),f=a("tQZz"),b=a.n(f),y=a("10u2"),v=a.n(y),k=a("MMxs"),h=a.n(k),S=function(){var e=[{kind:"LocalArgument",name:"qid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"answerer_uid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"a2a_type",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"action_source",type:"BigInt!",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"questionAskToAnswerAdd",storageKey:null,args:[{kind:"Variable",name:"a2aType",variableName:"a2a_type"},{kind:"Variable",name:"actionSource",variableName:"action_source"},{kind:"Variable",name:"answererUid",variableName:"answerer_uid"},{kind:"Variable",name:"qid",variableName:"qid"}],concreteType:"QuestionAskToAnswerAdd",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"translatedMessage",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasAskedToAnswer",args:[{kind:"Variable",name:"uid",variableName:"answerer_uid"}],storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"AskQuestionSelector_questionAskToAnswerAdd_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"AskQuestionSelector_questionAskToAnswerAdd_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"AskQuestionSelector_questionAskToAnswerAdd_Mutation",id:"4ce3a457d74cc638d54fd6241929f2f5da731e2933e8b99576ca5a08e891977d",text:null,metadata:{}}}}();S.hash="d0c3b6c1d68b4b67f79e19b4654eda5c";var F=S,T={kind:"Fragment",name:"AskQuestionSelector_tribe",type:"Tribe",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null}],hash:"055c48d7fd1ba34b50f082966f7e2346"},E=T,w={kind:"Fragment",name:"AskQuestionSelector_user",type:"User",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null}],hash:"268d96df74dd1f086b437c521aa94b87"},C=w,_=function(){var e=[{kind:"LocalArgument",name:"query",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"nid",type:"Int!",defaultValue:null},{kind:"LocalArgument",name:"uid",type:"BigInt",defaultValue:null},{kind:"LocalArgument",name:"tribeId",type:"BigInt",defaultValue:null}],n=[{kind:"Variable",name:"nid",variableName:"nid"}],a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l=[{kind:"Variable",name:"contextOid",variableName:"tribeId"},{kind:"Literal",name:"limit",value:6},{kind:"Variable",name:"query",variableName:"query"},{kind:"Literal",name:"querySource",value:"question_duplicate"},{kind:"Literal",name:"queryType",value:"ask_question_duplicate"}],i={kind:"ScalarField",alias:null,name:"viewerHasAskedToAnswer",args:[{kind:"Variable",name:"uid",variableName:"uid"}],storageKey:null},r={kind:"ScalarField",alias:null,name:"qid",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},o={kind:"FragmentSpread",name:"QuestionTitle_question",args:null},u={kind:"FragmentSpread",name:"QuestionAnswerCount_question",args:null},d={kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"isPartnerQuestion",args:null,storageKey:null},m={kind:"LinkedField",alias:null,name:"asker",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[a,t,{kind:"ScalarField",alias:null,name:"isEmployee",args:null,storageKey:null}]},g={kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null},p={kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a,t,{kind:"ScalarField",alias:null,name:"tribeItemId",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},a]}]},f={kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[a,t,{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null}]},b={kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"nid",args:null,storageKey:null},a]},y={kind:"ScalarField",alias:null,name:"answerCount",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"AskQuestionSelectorQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"network",storageKey:null,args:n,concreteType:"Network",plural:!1,selections:[a,t,{kind:"LinkedField",alias:null,name:"searchQuery",storageKey:null,args:l,concreteType:null,plural:!0,selections:[a,t,{kind:"InlineFragment",type:"QuestionSearchResult",selections:[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[a,i,r,s,t,o,u]}]},{kind:"InlineFragment",type:"QuestionRedirectSearchResult",selections:[{kind:"LinkedField",alias:null,name:"toQuestion",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[a,s,r,t,o,u]}]}]}]}]},operation:{kind:"Operation",name:"AskQuestionSelectorQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"network",storageKey:null,args:n,concreteType:"Network",plural:!1,selections:[a,t,{kind:"LinkedField",alias:null,name:"searchQuery",storageKey:null,args:l,concreteType:null,plural:!0,selections:[a,t,{kind:"InlineFragment",type:"QuestionSearchResult",selections:[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[a,i,r,t,d,c,m,g,p,f,s,b,y]}]},{kind:"InlineFragment",type:"QuestionRedirectSearchResult",selections:[{kind:"LinkedField",alias:null,name:"toQuestion",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[a,t,r,d,c,m,g,p,f,s,b,y]}]}]}]}]},params:{operationKind:"query",name:"AskQuestionSelectorQuery",id:"55c9f1e3b2b612b09b53fae42ac7a748da0eb5ea51f27fe5c8af7d876ac48f9c",text:null,metadata:{}}}}();_.hash="76b91822473d3b19cf9126f4c4d2f850";var K,A,O,L,M=_,I=a("q1tI"),P=a("jufJ"),q=a("bslc"),x=a("Kk/C"),j=a("cztr"),D=a("MI6j"),Q=a("RA+f"),N=a("UyMh"),R=a("VyO/"),V=a("NOjq"),U=a("dp7i"),B=a("wTYd"),z=a("9k9Z"),H=a("LNH1"),Z=a("9G0N"),J=a("W+Km"),W=void 0!==K?K:K=r,G=[0,5,6,7,8,10,11,13,14,15,16,17,27];function Y(e,n,a){var t;(t=e)&&t.length>0&&(t="\xbf"===t[0]?"\xbf"+t[1].toUpperCase()+t.slice(2):t[0].toUpperCase()+t.slice(1)),e=t;var l=0;if(!a)return[e,l];var i=(e=e.trim()).charAt(e.length-1);return[".","?","!"].includes(i)||(e=e.concat("?")),5===n&&"\xbf"!==e.charAt(0)&&(e="\xbf"+e,l+=1),[e,l]}var X=function(e){v()(a,e);var n=h()(a);function a(e){var t;return p()(this,a),(t=n.call(this,e)).initialInput=void 0,t.initialCursorPosition=void 0,t.firstEdit=void 0,t.selectorRef=void 0,t.handleInputChange=function(e){var n,a;null===(n=(a=t.props).handleInputChange)||void 0===n||n.call(a,e),t.setState({input:e})},t.manipulateInput=function(e){var n=Y(e,t.getNid(),t.firstEdit);return t.firstEdit=!1,n},t.selectorRef=I.createRef(),t.initialInput=e.initialInput?e.initialInput:"",t.state={input:t.initialInput},t.initialCursorPosition=0,t.firstEdit=!0,t}return b()(a,[{key:"getNid",value:function(){return this.props.overrideNid||this.context}},{key:"componentDidMount",value:function(){if(this.firstEdit=!0,this.initialInput){var e,n=this.initialInput.length,a=Y(this.initialInput,this.getNid(),!0),t=m()(a,2);this.initialInput=t[0],e=t[1],this.initialCursorPosition=n+e,this.firstEdit=!1,this.props.handleInputChange&&this.props.handleInputChange(this.initialInput)}else this.initialCursorPosition=0}},{key:"focus",value:function(){return this.selectorRef.current.focus()}},{key:"onSelectHandler",value:function(e,n){if(this.props.handleExistingQuestionAnswerTranslate)this.props.handleExistingQuestionAnswerTranslate(e);else if(this.props.requestTarget){var a=this.getA2aMutationOptions(e);Object(R.c)(a).then((function(e){var a=e.data.questionAskToAnswerAdd;if(a){var t=a.success,l=a.translatedMessage;!t&&l&&n(Object(P.Y)(l),H.d.success)}}))}else Object(N.b)(e.url,"present")}},{key:"isRequestSent",value:function(e){return!!this.props.requestTarget&&e.viewerHasAskedToAnswer}},{key:"getA2aMutationOptions",value:function(e){var n=a.mutations.questionAskToAnswerAdd,t=e.qid,l=e.id,i=e.__typename,r=this.getA2aTypeAndUidFromRequestTarget(),s=r.a2aType;return{mutation:n,variables:{qid:t,answerer_uid:r.uid,a2a_type:s,action_source:Z.a.none},optimisticResponse:{questionAskToAnswerAdd:{success:!0,translatedMessage:null,question:{id:l,__typename:i,viewerHasAskedToAnswer:!0}}}}}},{key:"getA2aTypeAndUidFromRequestTarget",value:function(){var e=this.props.requestTarget;if(!e)throw new Error("no requestTarget");var n=e.__typename;if("User"==n){var a=e;return{a2aType:Z.c.profile,uid:a.uid}}throw new Error("bad typename ".concat(n))}},{key:"render",value:function(){var e=this,n=this.getNid(),t=G.includes(n)?{manipulateInput:function(n){return e.manipulateInput(n)}}:{};return I.createElement(H.b,null,(function(l){return I.createElement(B.d,{nid:n},I.createElement(Q.d,{mt:"medium"},I.createElement(j.a,Object.assign({async:!0,queryTimeoutMsecs:500,options:d()(o.a.mark((function i(){var t,r,s,u,d,c,m,g,p;return o.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!e.props.showDuplicateQuestions){i.next=11;break}if(!e.state.input){i.next=8;break}return i.next=4,Object(R.e)({query:a.queries.selector,variables:{query:e.state.input,nid:n,tribeId:null===(u=e.props.tribe)||void 0===u?void 0:u.tribeId,uid:null===(d=e.props.user)||void 0===d?void 0:d.uid},fetchPolicy:"store-or-network"});case 4:c=i.sent,s=c.data,i.next=9;break;case 8:s={network:{searchQuery:[]}};case 9:i.next=12;break;case 11:s=null;case 12:if(Object(V.b)(U.b.ask_question_step,U.a.duplicate_questions_query),m=[],null===(t=s)||void 0===t||null===(r=t.network)||void 0===r||!r.searchQuery){i.next=24;break}g=function(n){var a=s.network.searchQuery[n];if(!a)return"continue";m.push({item:I.createElement($,{searchQuery:a,isRequested:a.question&&e.isRequestSent(a.question),showRequestButton:!!e.props.requestTarget,includeSubText:!e.props.handleExistingQuestionAnswerTranslate}),title:Object(P.ab)(e.state.input),onSelect:function(){a.question&&e.onSelectHandler(a.question,l)},refreshOnSelect:!0})},p=0;case 17:if(!(p<s.network.searchQuery.length)){i.next=24;break}if("continue"!==g(p)){i.next=21;break}return i.abrupt("continue",21);case 21:p++,i.next=17;break;case 24:return i.abrupt("return",m);case 25:case"end":return i.stop()}}),i)}))),inputPlaceholder:e.props.inputPlaceholder,limit:6,onInputChange:function(n){return e.handleInputChange(n)},initialInput:e.initialInput,initialCursorPosition:e.initialCursorPosition,onFocus:function(e){var n=e.target.value;e.target.value="",e.target.value=n},closeOnClick:!!e.props.handleExistingQuestionAnswerTranslate,closeOnClickAway:!!e.props.handleExistingQuestionAnswerTranslate,listComponent:Q.f,inputWrapperProps:{numChars:e.state.input.length,noBorder:!0,variant:"large",charLimit:e.props.withCharLimit?e.props.getCharLimit?e.props.getCharLimit(e.state.input):J.a:undefined,charTolerance:e.props.withCharLimit?e.props.charTolerance:undefined,borderBottom:e.props.borderBottom,pb:e.props.borderBottom?"small":undefined,borderRadius:0},autoFocus:!0,forceOpenMenu:!e.props.handleExistingQuestionAnswerTranslate,useTextArea:e.props.useTextArea,autosize:!0,hideLoadingDots:!0,forwardedRef:e.selectorRef},t))))}))}}]),a}(I.Component);X.contextType=B.b,X.defaultProps={showDuplicateQuestions:!0,useTextArea:!0,charTolerance:.9,borderBottom:!0,withCharLimit:!0},X.fragments={user:void 0!==A?A:A=i,tribe:void 0!==O?O:O=l},X.queries={selector:W},X.mutations={questionAskToAnswerAdd:void 0!==L?L:L=t},X.displayName="AskQuestionSelector";n.a=Object(R.b)(X);var $=function(e){v()(a,e);var n=h()(a);function a(){return p()(this,a),n.apply(this,arguments)}return b()(a,[{key:"renderRequestButton",value:function(){return this.props.showRequestButton?I.createElement(z.a,{pressed:this.props.isRequested}):null}},{key:"render",value:function(){var e,n,a=this.props.searchQuery;return a?(a.question?e=a.question:a.toQuestion&&(e=a.toQuestion),e?I.createElement(D.c,{mainText:I.createElement(x.a,{question:e,fontSize:"small"}),subText:this.props.includeSubText?I.createElement(q.a,{question:e}):null,includePageMargin:!1,secondaryComponent:null!==(n=this.renderRequestButton())&&void 0!==n?n:undefined,propagateOnClickSecondaryComponent:!0}):null):null}}]),a}(I.Component);$.displayName="AskQuestionSelectorResult"},NHI5:function(e,n,a){"use strict";var t;a.d(n,"b",(function(){return i})),function(e){e.free="free",e.starter="starter",e.professional="professional",e.enterprise="enterprise"}(t||(t={})),n.a=t;new Map([[t.free,0],[t.starter,1],[t.professional,2],[t.enterprise,3]]);var l=new Map([[0,t.free],[1,t.starter],[2,t.professional],[3,t.enterprise]]);function i(e){if(null===e)return null;if("number"===typeof e){var n=l.get(e);if(!n)throw new Error("".concat(e," is not a valid BusinessProfileTiers"));return n}return"string"===typeof e?t[e]:e}},NNru:function(e,n,a){"use strict";a.d(n,"k",(function(){return d})),a.d(n,"h",(function(){return c})),a.d(n,"i",(function(){return m})),a.d(n,"f",(function(){return g})),a.d(n,"j",(function(){return p})),a.d(n,"c",(function(){return t})),a.d(n,"b",(function(){return y})),a.d(n,"a",(function(){return v})),a.d(n,"g",(function(){return f})),a.d(n,"e",(function(){return b})),a.d(n,"d",(function(){return k}));var t,l=a("8meh"),i=a.n(l),r=a("q1tI"),s=a("jufJ"),o=a("szkJ"),u=a("NHI5"),d=60,c="http://businessprofilesinternalonly.pagedemo.co/#page-block-bgml6ougtfe",m="http://businessprofilesinternalonly.pagedemo.co/",g=function(e){var n,a=e.value;return r.createElement(s.c,{value:a},(n={},i()(n,u.a.free,"Free"),i()(n,u.a.professional,"Professional"),n))},p=function(e){var n,a=e.value;return r.createElement(s.c,{value:a},(n={},i()(n,o.a.traffic,"Traffic"),i()(n,o.a.lead_generation,"Lead generation"),i()(n,o.a.profile,"Profile"),n))};!function(e){e.internal="internal",e.external="external",e.editable="editable"}(t||(t={}));var f,b,y=4,v={MOBILE:{bottom:"-30%",left:"3%"},DESKTOP:{bottom:"-20%",left:"3%"}};function k(e){var n,a=e.type;return r.createElement(s.c,{value:a},(n={},i()(n,b.checkOut,"Check out"),i()(n,b.changePlan,"Change plan"),i()(n,b.downgradePlan,"Downgrade plan"),i()(n,b.upgradePlan,"Upgrade plan"),n))}!function(e){e.answerEditor="answerEditor",e.editProfile="editProfile"}(f||(f={})),function(e){e[e.checkOut=0]="checkOut",e[e.changePlan=1]="changePlan",e[e.downgradePlan=2]="downgradePlan",e[e.upgradePlan=3]="upgradePlan"}(b||(b={}))},NOjq:function(e,n,a){"use strict";a.d(n,"b",(function(){return r})),a.d(n,"c",(function(){return s})),a.d(n,"a",(function(){return o}));var t=a("AaDK"),l=a("Yc5t"),i=a("q1tI"),r=function(e,n){return Object(t.a)("ask_question_flow",{step:e,action:n,is_react:!0})},s=function(e,n,a){return Object(t.a)("ask_question_flow_transitions",{from_step:e,to_step:n,is_standalone:a,is_react:!0})},o=function(e){var n=e.stepType,a=e.customLog,r=e.children;return i.createElement(l.b,{onImpression:function(e){e&&Object(t.a)("ask_question_flow_impressions",{step:n,custom_log:a})}},r)}},P88G:function(e,n,a){"use strict";a.d(n,"a",(function(){return t})),a.d(n,"b",(function(){return u}));var t,l=a("8meh"),i=a.n(l),r=a("q1tI"),s=a("jufJ"),o=a("oigA");!function(e){e[e.learnMore=0]="learnMore",e[e.getTheApp=1]="getTheApp",e[e.applyNow=2]="applyNow",e[e.bookNow=3]="bookNow",e[e.contactUs=4]="contactUs",e[e.donateNow=5]="donateNow",e[e.download=6]="download",e[e.shopNow=7]="shopNow",e[e.signUp=8]="signUp",e[e.watchMore=9]="watchMore",e[e.getQuote=10]="getQuote",e[e.followUs=11]="followUs",e[e.playNow=12]="playNow",e[e.startNow=13]="startNow",e[e.freeTrial=14]="freeTrial",e[e.readMore=15]="readMore"}(t||(t={}));var u=function(e){var n,a=e.callToActionType;return r.createElement(s.J,null,r.createElement(s.c,{value:a},(n={},i()(n,o.a.learn_more,"Learn More"),i()(n,o.a.get_the_app,"Get the App"),i()(n,o.a.apply_now,"Apply Now"),i()(n,o.a.book_now,"Book Now"),i()(n,o.a.contact_us,"Contact Us"),i()(n,o.a.donate_now,"Donate Now"),i()(n,o.a.download,"Download"),i()(n,o.a.shop_now,"Shop Now"),i()(n,o.a.sign_up,"Sign Up"),i()(n,o.a.watch_more,"Watch More"),i()(n,o.a.get_quote,"Get Quote"),i()(n,o.a.follow_us,"Follow Us"),i()(n,o.a.play_now,"Play Now"),i()(n,o.a.start_now,"Start Now"),i()(n,o.a.free_trial,"Free Trial"),i()(n,o.a.read_more,"Read More"),n)))}},P8a8:function(e,n,a){"use strict";a.r(n),a.d(n,"default",(function(){return v}));var t=a("8ZkK"),l=a.n(t),i=a("tQZz"),r=a.n(i),s=a("10u2"),o=a.n(s),u=a("MMxs"),d=a.n(u),c=a("q1tI"),m=a("RA+f"),g=a("jufJ"),p=a("nW6E"),f=a("nwxp"),b=a("nqCt"),y=a("eL6j"),v=function(e){o()(a,e);var n=d()(a);function a(){return l()(this,a),n.apply(this,arguments)}return r()(a,[{key:"getTitleText",value:function(){return Object(g.Z)(c.createElement(g.J,null,"What is an owner?"))}},{key:"render",value:function(){var e=this.props.dismissModalFlow,n={titleText:this.getTitleText(),navButtonProps:{onClick:function(){return e()}}};return c.createElement(p.f,n,c.createElement(m.d,{pb:"medium"},c.createElement(m.r,null,c.createElement(g.J,null,"An owner of a Space is the admin who created the Space or has been granted ownership by the previous owner."," ",Object(b.a)("TribeEarningsProgramFeature",!1)?"They can invite or remove admins, delete the Space, and manage earnings for the Space.":"They can invite or remove admins and delete the Space."))),c.createElement(m.d,{mx:Object(f.e)()?"n_tiny":"n_small"},c.createElement(y.a,null)))}}]),a}(c.Component);v.displayName="TribeOwnerInfoModal"},QK84:function(e,n,a){"use strict";a.d(n,"b",(function(){return s})),a.d(n,"a",(function(){return o}));var t=a("UDrg"),l=a("QOfV"),i=a("zv2T"),r=function(e){return Object(i.d)()&&(e.producerDirectStatus===l.a.enabled||e.producerBundleStatus===l.a.enabled)},s=function(e,n){return!!n&&(!n.viewerCanContribute&&(e===t.a.post||e===t.a.answer)&&r(n))},o=function(e){return e&&!e.viewerCanAdmin&&(e.viewerCanContribute||e.viewerCanModerate)&&r(e)}},QOfV:function(e,n,a){"use strict";var t;!function(e){e.enabled="enabled",e.disabled="disabled",e.never_enrolled="never_enrolled"}(t||(t={})),n.a=t;new Map([[t.enabled,0],[t.disabled,1],[t.never_enrolled,2]]),new Map([[0,t.enabled],[1,t.disabled],[2,t.never_enrolled]])},QwTT:function(e,n,a){"use strict";var t=a("q1tI"),l=a("RA+f"),i=a("2yMK"),r=a("SseM"),s=a("szkJ"),o=a("HGXV"),u=a("jufJ"),d=a("oigA"),c=a("ZsYs"),m=a("NNru"),g=function p(e){var n,a,g,f,b,y=e.businessUid,v=e.businessName,k=e.businessLogoUrl,h=e.businessCustomAction,S=e.onCTAChange,F=e.isAnswerEdit,T=void 0!==F&&F,E=e.businessProfileAdFeaturesAvailable;return y?t.createElement(l.d,{mb:"medium"},t.createElement(c["default"],{businessUid:y,businessName:null!==v&&void 0!==v?v:"",profileImageUrl:null!==k&&void 0!==k?k:undefined,businessProfileAdFeaturesAvailable:E,objectiveType:null!==(n=null===h||void 0===h?void 0:h.objectiveType)&&void 0!==n?n:p.defaultCustomAction.objectiveType,cta:null!==(a=Object(d.b)(null!==(g=null===h||void 0===h?void 0:h.cta)&&void 0!==g?g:null))&&void 0!==a?a:p.defaultCustomAction.cta,landingPageUrl:null!==(f=null===h||void 0===h?void 0:h.landingPageUrl)&&void 0!==f?f:"",leadGenFormId:null!==(b=null===h||void 0===h?void 0:h.leadGenFormId)&&void 0!==b?b:undefined,showProfileCustomAction:!0,updateCustomAction:function(e){S(e)},customActionPlacement:m.g.answerEditor},(function(e){var n,a=e.openModalFlow;return t.createElement(l.i,{flexDirection:"column",p:"small",justifyContent:"center",alignItems:"center"},T?null:t.createElement(o.a,{placement:"top",trigger:"none",text:t.createElement(u.J,null,"Customize the answer action here."),displayOnMobile:!0,initiallyVisible:!0,isDismissable:!0,hideOnBodyClick:!0,hideTime:5e3}),t.createElement(l.e,{width:"100%",onClick:function(){a()}},t.createElement(i.a,{logoImageUrl:k,cta:(null===h||void 0===h?void 0:h.cta)||d.a.learn_more,objectiveType:null!==(n=null===h||void 0===h?void 0:h.objectiveType)&&void 0!==n?n:s.a.profile,businessName:null!==v&&void 0!==v?v:"",landingPageUrl:null,isEditMode:!0,formPlacement:r.a.business_answer,bannerActionType:m.c.editable})))}))):null};g.displayName="BusinessAnswerEditorCTABanner",g.defaultCustomAction={objectiveType:s.a.profile,cta:d.a.learn_more},n.a=g},RAJQ:function(e,n,a){"use strict";var t={};a.r(t),a.d(t,"default",(function(){return p}));var l,i=a("8ZkK"),r=a.n(i),s=a("tQZz"),o=a.n(s),u=a("10u2"),d=a.n(u),c=a("MMxs"),m=a.n(c),g={kind:"Fragment",name:"SubmissionRulesText_tribe",type:"Tribe",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"submissionRules",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"settings",storageKey:null,args:null,concreteType:"TribeSettings",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"submissionReviewPeriod",args:null,storageKey:null}]}],hash:"a1d8fdf240dc1ae32310ccb790b3601a"},p=g,f=a("q1tI"),b=a("nwxp"),y=a("SW3P"),v=a("VyO/"),k=a("jufJ"),h=a("RA+f"),S=a("wB5M"),F=a("AFGi"),T=a("Kh5g"),E=function(e){d()(a,e);var n=m()(a);function a(){return r()(this,a),n.apply(this,arguments)}return o()(a,[{key:"render",value:function(){var e=this.props.tribe,n=e.submissionRules,a=e.settings.submissionReviewPeriod,t=this.props.bg;if(!n)return null;var l=JSON.parse(n),i=a&&f.createElement(k.J,null,"The Space admins and moderators have"," ",f.createElement(k.o,{value:a}),f.createElement(k.H,{value:a},{ONE:" day ",OTHER:" days "}),"to review submissions. Submissions not accepted in that time will be automatically declined. You will be notified when your submission's status is updated."),r=f.createElement(f.Fragment,null,f.createElement(h.d,{borderTop:!0,p:"small",color:"gray"}),f.createElement(h.r,{color:"gray"},i));return Object(F.p)(l)?Object(y.a)("limit_submission_review_period")?i:f.createElement(k.J,null,"This Space's admins and moderators will review your submission before it's posted. You'll be notified if it's approved."):this.props.truncated?f.createElement(f.Fragment,null,f.createElement(h.d,{pb:"small"},f.createElement(S.a,{qt:l,bg:t,charLimit:Object(b.e)()?90:130})),Object(y.a)("limit_submission_review_period")&&r):f.createElement(f.Fragment,null,f.createElement(h.d,{pb:"small"},f.createElement(T.a,{qt:l,bg:t})),Object(y.a)("limit_submission_review_period")&&r)}}]),a}(f.Component);E.fragments={tribe:void 0!==l?l:l=t},E.defaultProps={truncated:!0},E.displayName="SubmissionRulesText";n.a=Object(v.b)(E)},Sa7g:function(e,n,a){"use strict";a.r(n);var t={};a.r(t),a.d(t,"default",(function(){return v}));var l={};a.r(l),a.d(l,"default",(function(){return F}));var i=a("iJoy"),r=a.n(i),s=a("8ZkK"),o=a.n(s),u=a("tQZz"),d=a.n(u),c=a("g8yt"),m=a.n(c),g=a("10u2"),p=a.n(g),f=a("MMxs"),b=a.n(f),y=function(){var e=[{kind:"LocalArgument",name:"recipientUid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"adminAction",type:"AdminActions!",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"adminMessageSend",storageKey:null,args:[{kind:"Variable",name:"adminAction",variableName:"adminAction"},{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"recipientUid",variableName:"recipientUid"}],concreteType:"AdminMessageSend",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"errorMsg",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"AdminMessageModal_adminMessageSend_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"AdminMessageModal_adminMessageSend_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"AdminMessageModal_adminMessageSend_Mutation",id:"28ea17c072cf743f7bcc485606c2e8e41137c0544215be332ffefce63c0cf4cc",text:null,metadata:{}}}}();y.hash="5ca0ff6ff57d0a11865f245263cf7246";var v=y,k=function(){var e=[{kind:"LocalArgument",name:"recipientUid",type:"BigInt!",defaultValue:null}],n=[{kind:"Variable",name:"uid",variableName:"recipientUid"}],a={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i=[l,t,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}];return{kind:"Request",fragment:{kind:"Fragment",name:"AdminMessageModalQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:n,concreteType:"User",plural:!1,selections:[a,{kind:"FragmentSpread",name:"UserName_user",args:null}]}]},operation:{kind:"Operation",name:"AdminMessageModalQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:n,concreteType:"User",plural:!1,selections:[a,t,l,{kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:i},{kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:i},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"annotate_with_ids",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}]}]}]},params:{operationKind:"query",name:"AdminMessageModalQuery",id:"c51ddbe104c286a0c65c7397498b1839ce11555610c27750c680ddeb5a49458c",text:null,metadata:{}}}}();k.hash="a108a9a9b8aaff91a598b99db95e6810";var h,S,F=k,T=a("q1tI"),E=a("VyO/"),w=a("nwxp"),C=a("nW6E"),_=a("7r18"),K=a("jufJ"),A=a("LNH1"),O=a("RA+f"),L=a("R+um"),M=a("AFGi"),I=a("EreF"),P=a("KOB0"),q=function(e){p()(a,e);var n=b()(a);function a(e){var t;return o()(this,a),(t=n.call(this,e)).editorRef=void 0,t.editorRef=T.createRef(),t.state={editorHasContent:!1},t.handleComposerMeaningfulChange=t.handleComposerMeaningfulChange.bind(m()(t)),t}return d()(a,[{key:"getTitle",value:function(){switch(this.props.extraProps.adminAction){case P.a.content_warning:return T.createElement(K.e,null,"Send Content Warning as Quora Moderation");case P.a.edit_block_warning:return T.createElement(K.e,null,"Warn about Blocking Edits as Quora Moderation");default:return T.createElement(K.e,null,"Send Message as Quora Moderation")}}},{key:"getStartingContent",value:function(){var e=[];switch(this.props.extraProps.adminAction){case P.a.content_warning:e=[Object(K.Z)(T.createElement(T.Fragment,null,"Hello,")),Object(K.Z)(T.createElement(T.Fragment,null,"[Message about content... Please cite sources.]")),Object(K.Z)(T.createElement(T.Fragment,null,"Quora Moderation"))];break;case P.a.edit_block_warning:e=[Object(K.Z)(T.createElement(T.Fragment,null,"Hello,")),Object(K.Z)(T.createElement(T.Fragment,null,"[Message about possibly blocking editing... Please cite sources.]")),Object(K.Z)(T.createElement(T.Fragment,null,"Quora Moderation"))]}return e.map((function(e){return Object(M.u)(e)})).reduce((function(e,n){var a;return(a=e.sections).push.apply(a,r()(n.sections)),e}),Object(M.h)())}},{key:"adminMessageSendMutation",value:function(e,n){var t=this.props,l=t.extraProps,i=t.dismissModalFlow,r=l.recipientUid;return Object(E.c)({mutation:a.mutations.adminMessageSend,variables:{recipientUid:r,content:JSON.stringify(e),adminAction:l.adminAction}}).then((function(e){var a,t=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.adminMessageSend,l=t.success,r=t.errorMsg;r?n(Object(K.Y)(r),A.d.error):l?(n(Object(K.X)("Your message was sent successfully."),A.d.success),i(),window.location.reload()):n.genericError()}))}},{key:"handleSubmit",value:function(e){var n,a=null===(n=this.editorRef.current)||void 0===n?void 0:n.save();a?Object(M.p)(a)?e(Object(K.X)("Please finish your message before sending."),A.d.error):this.adminMessageSendMutation(a,e):e.genericError()}},{key:"handleComposerMeaningfulChange",value:function(e){e&&e.isEmpty&&this.setState({editorHasContent:!e.isEmpty()})}},{key:"render",value:function(){var e=this,n=this.props,a=n.dismissModalFlow,t=n.queryResult,l=t.user;if(!l)throw Error("Query Result is ".concat(t," for AdminMessageModal."));return T.createElement(A.b,null,(function(n){return T.createElement(C.f,{header:T.createElement(_.m,null,e.getTitle()),hasPadding:!1,navButtonProps:{onClick:function(){return a()}},primaryButtonProps:{text:Object(K.X)("Send Message"),onClick:function(){return e.handleSubmit(n)},disabled:!e.state.editorHasContent},secondaryButtonProps:{text:Object(K.X)("Cancel"),onClick:function(){return a()}}},T.createElement(O.d,null,T.createElement(O.d,{mx:"large"},T.createElement(O.r,{bold:!0},T.createElement(K.J,null,"To: ",T.createElement(L.b,{user:l})))),T.createElement(O.d,{my:"large",mx:"large",maxHeight:Object(w.b)()?"400px":undefined,overflowY:Object(w.b)()?"scroll":undefined,borderAll:Object(w.b)()},T.createElement(I.a,{ref:e.editorRef,placeholder:Object(K.X)("Type a message..."),content:e.getStartingContent(),focusOnLoad:!0,toolbarOnWeb:!1,commandsToDisable:["horizontal-rule","video"],onMeaningfulChange:e.handleComposerMeaningfulChange}))))}))}}]),a}(T.Component);q.queries={onLoad:void 0!==h?h:h=l},q.mutations={adminMessageSend:void 0!==S?S:S=t},q.displayName="AdminMessageModal";n["default"]=q},SseM:function(e,n,a){"use strict";var t;a.d(n,"b",(function(){return i})),function(e){e.ad="ad",e.business_answer="business_answer",e.business_profile="business_profile"}(t||(t={})),n.a=t;var l=new Map([[t.ad,0],[t.business_answer,1],[t.business_profile,2]]);new Map([[0,t.ad],[1,t.business_answer],[2,t.business_profile]]);function i(e){return l.get(t[e])}},"Sw+x":function(e,n,a){"use strict";var t={};a.r(t),a.d(t,"default",(function(){return o}));var l=a("8meh"),i=a.n(l),r=function(){var e=[{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"contentType",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"contentOid",type:"BigInt",defaultValue:null},{kind:"LocalArgument",name:"contentUrl",type:"String",defaultValue:null}],n=[{kind:"Variable",name:"tribeId",variableName:"tribeId"}],a={kind:"ScalarField",alias:null,name:"isContentAlreadySharedInTribe",args:[{kind:"Variable",name:"contentOid",variableName:"contentOid"},{kind:"Variable",name:"contentType",variableName:"contentType"},{kind:"Variable",name:"contentUrl",variableName:"contentUrl"}],storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"ContentAlreadySharedInTribeBannerQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:n,concreteType:"Tribe",plural:!1,selections:[a,{kind:"FragmentSpread",name:"TribeName_tribe",args:null}]}]},operation:{kind:"Operation",name:"ContentAlreadySharedInTribeBannerQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:n,concreteType:"Tribe",plural:!1,selections:[a,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"rd_only_tribe_theme_color_on_names",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"colorHex",args:null,storageKey:null}]}]}]},params:{operationKind:"query",name:"ContentAlreadySharedInTribeBannerQuery",id:"a375860d59205e64e47a79a594445a3e75dc8af9821840acc066883bf8fc6162",text:null,metadata:{}}}}();r.hash="a104d6f4e309892d2540752685b4d8e3";var s,o=r,u=a("q1tI"),d=a("D5Zh"),c=a("UDrg"),m=a("RA+f"),g=a("cbxS"),p=a("jufJ"),f=a("PuWf"),b=a("I4NI"),y=void 0!==s?s:s=t,v=function(e){var n=e.tribeId,a=e.contentOid,t=e.contentType,l=e.contentUrl;return u.createElement(d.a,{query:y,variables:{tribeId:n,contentOid:a,contentType:t?Object(c.c)(t):null,contentUrl:l}},(function(e){var n,a,l=e.loading,r=e.error,s=e.data;return l||r?null:null!==s&&void 0!==s&&null!==(n=s.tribe)&&void 0!==n&&n.isContentAlreadySharedInTribe?u.createElement(m.d,{pt:"small"},u.createElement(g.a,{variant:"muted",dismissable:!1},u.createElement(p.J,null,"This"," ",t?u.createElement(p.c,{value:t},(a={},i()(a,c.a.question,"question"),i()(a,c.a.answer,"answer"),i()(a,c.a.quora_share,"share"),i()(a,c.a.post,"post"),a)):"item"," ","already exists in ",u.createElement(f.a,{tribe:null===s||void 0===s?void 0:s.tribe,isBolded:!0})))):null}))};v.displayName="ContentAlreadySharedInTribeBannerComponent",v.queries={ContentAlreadyExistsBannerQuery:y};var k=Object(b.a)(v,1e3,{leading:!0,trailing:!0});n.a=k},TbzU:function(e,n,a){"use strict";var t;!function(e){e.monthly="monthly",e.yearly="yearly",e.gift="gift"}(t||(t={})),n.a=t;new Map([[t.monthly,0],[t.yearly,1],[t.gift,2]]),new Map([[0,t.monthly],[1,t.yearly],[2,t.gift]])},U3fp:function(e,n,a){"use strict";var t={};a.r(t),a.d(t,"default",(function(){return b}));var l={};a.r(l),a.d(l,"default",(function(){return h}));var i=a("rhDr"),r=a.n(i),s=a("8ZkK"),o=a.n(s),u=a("tQZz"),d=a.n(u),c=a("10u2"),m=a.n(c),g=a("MMxs"),p=a.n(g),f={kind:"Fragment",name:"EditorHeader_credential",type:"Credential",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"FragmentSpread",name:"UserNameCredential_credential",args:null}],hash:"cdb22026d0a107544cf23c3912653c20"},b=f,y=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"EditorHeader_viewer",type:"Viewer",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[e,n,{kind:"FragmentSpread",name:"UserName_user",args:null},{kind:"FragmentSpread",name:"UserPhoto_user",args:null},{kind:"FragmentSpread",name:"UserNameCredential_user",args:null}]}]}}();y.hash="a0c74046554b08fa5c8b2a1936f2d84e";var v,k,h=y,S=a("q1tI"),F=a("VyO/"),T=a("vwvq"),E=a("r+vq"),w=a("RA+f"),C=a("jufJ"),_=a("QLaP"),K=a.n(_),A=a("VwdU"),O=a("HGXV"),L=function(e){m()(a,e);var n=p()(a);function a(){return o()(this,a),n.apply(this,arguments)}return d()(a,[{key:"render",value:function(){var e=this.props,n=e.viewer,a=e.credential,t=e.businessCredential,l=e.openModal,i=e.editCredentialHint,s=r()(e,["viewer","credential","businessCredential","openModal","editCredentialHint"]);return K()(n.user,"EditorHeader currently only works for logged in viewers."),S.createElement(w.d,s,S.createElement(w.i,{alignItems:"center",mx:"auto"},S.createElement(w.d,{mr:"small"},S.createElement(E.a,{user:n.user,size:40})),S.createElement(w.d,null,S.createElement(T.a,{user:n.user,credential:a,businessCredential:t}),S.createElement(A.a,{condition:Boolean(i),wrapper:function(e){return S.createElement(w.i,null,S.createElement(O.a,{placement:"bottom",trigger:"none",text:null!==i&&void 0!==i?i:S.createElement(S.Fragment,null),displayOnMobile:!0,initiallyVisible:!0,isDismissable:!0,hideOnBodyClick:!0,hideTime:5e3},e))}},S.createElement(w.r,{color:"gray"},S.createElement(w.e,{onClick:function(){return l()}},S.createElement(C.J,null,"Edit credential")))))))}}]),a}(S.Component);L.fragments={viewer:void 0!==v?v:v=l,credential:void 0!==k?k:k=t},L.displayName="EditorHeader";n.a=Object(F.b)(L)},VBcq:function(e,n,a){"use strict";var t={};a.r(t),a.d(t,"default",(function(){return m}));var l=a("jQsN"),i=a.n(l),r=a("tcRq"),s=a.n(r),o=a("yMAQ"),u=a.n(o),d=function(){var e=[{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"title",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"shouldQueue",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"embeddedUrl",type:"String",defaultValue:null}],n=[{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"embeddedUrl",variableName:"embeddedUrl"},{kind:"Variable",name:"shouldQueue",variableName:"shouldQueue"},{kind:"Variable",name:"title",variableName:"title"},{kind:"Variable",name:"tribeId",variableName:"tribeId"}],a={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"pid",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"queueItemId",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"contentType",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"AskQuestionStepShareLinkWrapper_postAdd_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"postAdd",storageKey:null,args:n,concreteType:"PostAdd",plural:!1,selections:[a,{kind:"LinkedField",alias:null,name:"post",storageKey:null,args:null,concreteType:"Post",plural:!1,selections:[t,l]},{kind:"LinkedField",alias:null,name:"queueItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i]},r]}]},operation:{kind:"Operation",name:"AskQuestionStepShareLinkWrapper_postAdd_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"postAdd",storageKey:null,args:n,concreteType:"PostAdd",plural:!1,selections:[a,{kind:"LinkedField",alias:null,name:"post",storageKey:null,args:null,concreteType:"Post",plural:!1,selections:[t,l,s]},{kind:"LinkedField",alias:null,name:"queueItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i,s]},r]}]},params:{operationKind:"mutation",name:"AskQuestionStepShareLinkWrapper_postAdd_Mutation",id:"43a2ce822cd53c5da089c73fbcc049e4ee1eeb5c4cb783fe56a0f2913b6e5dc5",text:null,metadata:{}}}}();d.hash="8729972a843114085659ef48d82d424c";var c,m=d,g=a("q1tI"),p=a("VyO/"),f=a("jufJ"),b=a("AFGi"),y=a("OMLc"),v=a("VEaG"),k=a("W+Km"),h=function S(e){var n=e.children,a=e.setToast,t=e.hyperlinkTribe,l=e.hyperlinkShareToFollowers,r=e.dismissModal,o=e.hyperlinkComment,d=void 0===o?"":o,c=e.hyperlinkUrl,m=void 0===c?"":c,h=e.addToTribeContentQueue,F=void 0!==h&&h,T=e.onSuccess,E=g.useState(!1),w=u()(E,2),C=w[0],_=w[1],K=function(){var e;return!!t&&(!t.viewerCanContribute&&(null===(e=t.settings)||void 0===e?void 0:e.isSubmissionEnabled))},A=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:F;return s()(i.a.mark((function n(){var l,s,o,u,c,g,y,v;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=t?t.tribeId:0,s=K(),_(!0),m){n.next=7;break}return a.error(Object(f.Z)("This link is invalid. Enter a valid URL.")),_(!1),n.abrupt("return");case 7:return o={mutation:S.mutations.postAdd,variables:{embeddedUrl:m,content:JSON.stringify(Object(b.u)(d)),title:JSON.stringify(Object(b.u)("")),tribeId:l,shouldQueue:e},onCompleted:function(){return _(!1)},onError:function(){return _(!1)}},n.next=10,Object(p.c)(o);case 10:u=n.sent,c=null===u||void 0===u?void 0:u.data,g=c.postAdd,y=g.success,v="",y?(null===T||void 0===T||T({resp:c}),e?(v=Object(f.Z)("Successfully added this question to the queue."),a.success(Object(f.Z)("Successfully added this question to the queue."))):s?(v=Object(f.Z)("Success! You\u2019ll be notified if your submission is approved."),a.success(Object(f.Z)("Success! You\u2019ll be notified if your submission is approved."))):(v=Object(f.Z)("Your share was successful!"),a.success(Object(f.Z)("Your share was successful!")))):(v=Object(f.Z)("Something went wrong. Please try again later."),a.genericError()),_(!1),null===r||void 0===r||r({success:y,toastMessage:v});case 18:case"end":return n.stop()}}),n)})))},O=Object(k.b)(A()),L=Object(k.b)(A(!0)),M=function(e){var n=e.shouldQueue;l||t?void 0!==n&&n?L():O():a.error(Object(f.Z)("Please choose a Space to share to."))},I=!K()&&!l&&!(null===t||void 0===t||!t.tribeId)&&(null===t||void 0===t?void 0:t.viewerCanCreateContentQueueItem)?{leftText:g.createElement(v.AskQuestionTabTypesText,{type:v.AskQuestionStepTabTypes.shareLink}),leftOnClick:M,rightIcon:g.createElement(y.a,{name:"ChevronDown"}),forceRightIconSize:16,rightPartHasPopoverMenu:!0,isSplitButton:!0,overflowMenuItems:function(){var e=[];return e.push({label:Object(f.Z)("Add to queue"),onSelected:function(){M({shouldQueue:!0})},isCheckable:!0,closeOnClick:!0,isOn:!1}),e}()}:undefined;return n({shareButtonOnClick:M,shareButtonDisabled:C,addToQueueButtonProps:I})};h.displayName="AskQuestionStepShareLinkWrapper",h.mutations={postAdd:void 0!==c?c:c=t};n.a=h},VEaG:function(e,n,a){"use strict";a.r(n),a.d(n,"AskQuestionStepTabs",(function(){return sn})),a.d(n,"QUESTION_CREATION_MUTATION",(function(){return on})),a.d(n,"AskQuestionStepTabTypes",(function(){return nn})),a.d(n,"AskQuestionTabTypesText",(function(){return un})),a.d(n,"onQuestionCreateSuccess",(function(){return dn}));var t={};a.r(t),a.d(t,"default",(function(){return L}));var l={};a.r(l),a.d(l,"default",(function(){return I}));var i={};a.r(i),a.d(i,"default",(function(){return le}));var r={};a.r(r),a.d(r,"default",(function(){return re}));var s={};a.r(s),a.d(s,"default",(function(){return oe}));var o={};a.r(o),a.d(o,"default",(function(){return Se}));var u={};a.r(u),a.d(u,"default",(function(){return Te}));var d={};a.r(d),a.d(d,"default",(function(){return Ce}));var c={};a.r(c),a.d(c,"default",(function(){return Me}));var m={};a.r(m),a.d(m,"default",(function(){return Pe}));var g={};a.r(g),a.d(g,"default",(function(){return xe}));var p=a("jQsN"),f=a.n(p),b=a("tcRq"),y=a.n(b),v=a("8ZkK"),k=a.n(v),h=a("tQZz"),S=a.n(h),F=a("g8yt"),T=a.n(F),E=a("10u2"),w=a.n(E),C=a("MMxs"),_=a.n(C),K=a("8meh"),A=a.n(K),O=function(){var e=[{kind:"LocalArgument",name:"canShowTranslationStep",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"targetOid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"isTribeOid",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"isUserOid",type:"Boolean!",defaultValue:null}],n={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"numQuestions",args:null,storageKey:null},l={name:"PaidSubscriptionEnabledForProducer",value:"true"},i={kind:"ScalarField",alias:null,name:"producerBundleStatus",args:null,storageKey:null},r={kind:"Condition",passingValue:!0,isCustom:!0,customValue:l,condition:"onFeature",selections:[i]},s={kind:"ScalarField",alias:null,name:"isPartner",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"shouldShowPartnersPolicyOnAskQuestion",args:null,storageKey:null},u={kind:"ScalarField",alias:"questionTitleMaxLength",name:"integerFeature",args:[{kind:"Literal",name:"name",value:"QuestionTitleMaxLength"}],storageKey:'integerFeature(name:"QuestionTitleMaxLength")'},d={kind:"ScalarField",alias:"hyperlinkFeature",name:"booleanFeature",args:[{kind:"Literal",name:"name",value:"HyperlinkFeature"}],storageKey:'booleanFeature(name:"HyperlinkFeature")'},c={kind:"ScalarField",alias:"shareCommentMaxLength",name:"integerFeature",args:[{kind:"Literal",name:"name",value:"QuoraShareAndPostTitleMaxLength"}],storageKey:'integerFeature(name:"QuoraShareAndPostTitleMaxLength")'},m={kind:"ScalarField",alias:null,name:"contentLanguageCode",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"nid",args:null,storageKey:null},p=[{kind:"LinkedField",alias:null,name:"contentTranslationPromptNetwork",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[n,a,m,g]}],f={kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[n,a,m]},b=[{kind:"Variable",name:"tribeId",variableName:"targetOid"}],y={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},v={kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"viewerCanContribute",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"viewerCanCreateContentQueueItem",args:null,storageKey:null},S=[{kind:"Variable",name:"uid",variableName:"targetOid"}],F={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},T={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},E={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},w={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},C={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},_={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},K={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},A=[a,n,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],O={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:A},L={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:A},M={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerBundleSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"consumerBundleActive",args:null,storageKey:null}]},I={kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null},P={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"annotate_with_ids",value:"true"},condition:"onGate",selections:[I]},q={kind:"ScalarField",alias:null,name:"iconUrl",args:[{kind:"Literal",name:"size",value:100}],storageKey:"iconUrl(size:100)"},x={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},j={kind:"ScalarField",alias:"iconRetinaUrl",name:"iconUrl",args:[{kind:"Literal",name:"size",value:200}],storageKey:"iconUrl(size:200)"},D={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"rd_only_tribe_theme_color_on_names",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"colorHex",args:null,storageKey:null}]},Q=[n,a,y,v,q,x,j,{kind:"ScalarField",alias:null,name:"submissionRules",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"settings",storageKey:null,args:null,concreteType:"TribeSettings",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"submissionReviewPeriod",args:null,storageKey:null},n,a,{kind:"ScalarField",alias:null,name:"isSubmissionEnabled",args:[{kind:"Literal",name:"contentType",value:49},{kind:"Literal",name:"isExternalHyperlinkShareSubmission",value:!0}],storageKey:"isSubmissionEnabled(contentType:49,isExternalHyperlinkShareSubmission:true)"}]},k,h,{kind:"ScalarField",alias:null,name:"viewerContentTypesCanAddInTribe",args:null,storageKey:null},D,{kind:"Condition",passingValue:!0,isCustom:!0,customValue:l,condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"viewerCanAdmin",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"defaultAccessOption",args:null,storageKey:null},i,{kind:"ScalarField",alias:null,name:"producerDirectStatus",args:null,storageKey:null}]}],N=[{kind:"Literal",name:"first",value:10}];return{kind:"Request",fragment:{kind:"Fragment",name:"AskQuestionStepQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[n,a,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[n,a,t,r]},s,o,u,d,c,{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"canShowTranslationStep",selections:p},{kind:"FragmentSpread",name:"AskQuestionStepAddQuestion_viewer",args:null},{kind:"FragmentSpread",name:"AskQuestionStepShareLink_viewer",args:null}]},f,{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"isTribeOid",selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:b,concreteType:"Tribe",plural:!1,selections:[n,a,y,v,k,h,{kind:"FragmentSpread",name:"AskQuestionStepAddQuestion_tribe",args:null}]}]},{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"isUserOid",selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:S,concreteType:"User",plural:!1,selections:[n,a,{kind:"FragmentSpread",name:"AskQuestionStepAddQuestion_a2aUser",args:null},{kind:"FragmentSpread",name:"UserName_user",args:null}]}]}]},operation:{kind:"Operation",name:"AskQuestionStepQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[n,a,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[n,a,t,F,T,E,w,C,_,K,O,L,r,M,P]},s,o,u,d,c,{kind:"ScalarField",alias:"noteModernStandardArabic",name:"booleanFeature",args:[{kind:"Literal",name:"name",value:"QuestionAskingNoteModernStandardArabic"}],storageKey:'booleanFeature(name:"QuestionAskingNoteModernStandardArabic")'},{kind:"LinkedField",alias:null,name:"audiencePickerTribesUserCanAddContentTo",storageKey:'audiencePickerTribesUserCanAddContentTo(contentType:"quora_share",sharedContentType:"hyperlink")',args:[{kind:"Literal",name:"contentType",value:"quora_share"},{kind:"Literal",name:"sharedContentType",value:"hyperlink"}],concreteType:"AudiencePickerTribesUserCanAddContentTo",plural:!1,selections:[n,a,{kind:"LinkedField",alias:null,name:"recentlyVisited",storageKey:null,args:null,concreteType:"Tribe",plural:!0,selections:Q},{kind:"LinkedField",alias:null,name:"recommended",storageKey:null,args:null,concreteType:"Tribe",plural:!0,selections:Q}]},{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"canShowTranslationStep",selections:p}]},f,{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"isTribeOid",selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:b,concreteType:"Tribe",plural:!1,selections:[n,a,y,v,k,h,x,q,j,D]}]},{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"isUserOid",selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:S,concreteType:"User",plural:!1,selections:[n,a,F,K,O,L,T,E,w,C,_,{kind:"ScalarField",alias:null,name:"isHostingSelfServeAma",args:null,storageKey:null},{kind:"LinkedField",alias:"requestedQuestionConnection",name:"selfServeAmaRequestedQuestionConnection",storageKey:"selfServeAmaRequestedQuestionConnection(first:10)",args:N,concreteType:"SelfServeAMARequestedQuestionConnection",plural:!1,selections:[a,{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[n,a,{kind:"ScalarField",alias:null,name:"qid",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanSendRequests",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isPartnerQuestion",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"asker",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[n,a,{kind:"ScalarField",alias:null,name:"isEmployee",args:null,storageKey:null}]},I,{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[n,a,{kind:"ScalarField",alias:null,name:"tribeItemId",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[v,n]}]},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[n,a,F]},x,{kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[g,n]}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},n]},n]},{kind:"LinkedHandle",alias:"requestedQuestionConnection",name:"selfServeAmaRequestedQuestionConnection",args:N,handle:"connection",key:"AskQuestionSelfServeAmaRequestedQuestionPagedList_requestedQuestionConnection",filters:null},P,M]}]}]},params:{operationKind:"query",name:"AskQuestionStepQuery",id:"b133e4efdcb7be701a976db5d4951c92ced404bb3696b8c484fcaeaa60327b12",text:null,metadata:{}}}}();O.hash="0578960da75b47a0b4eaa764f62b3457";var L=O,M=function(){var e=[{kind:"LocalArgument",name:"titlePlaintext",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"sourceUrl",type:"String",defaultValue:null},{kind:"LocalArgument",name:"sourceLocation",type:"BigInt",defaultValue:null},{kind:"LocalArgument",name:"limitedUserDistro",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"targetType",type:"BigInt",defaultValue:null},{kind:"LocalArgument",name:"targetOid",type:"BigInt",defaultValue:null},{kind:"LocalArgument",name:"shouldCheckDuplicate",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"shouldCheckCorrection",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"shouldQueue",type:"Boolean",defaultValue:null}],n=[{kind:"Variable",name:"limitedUserDistro",variableName:"limitedUserDistro"},{kind:"Variable",name:"shouldCheckCorrection",variableName:"shouldCheckCorrection"},{kind:"Variable",name:"shouldCheckDuplicate",variableName:"shouldCheckDuplicate"},{kind:"Variable",name:"shouldQueue",variableName:"shouldQueue"},{kind:"Variable",name:"sourceLocation",variableName:"sourceLocation"},{kind:"Variable",name:"sourceUrl",variableName:"sourceUrl"},{kind:"Variable",name:"targetOid",variableName:"targetOid"},{kind:"Variable",name:"targetType",variableName:"targetType"},{kind:"Variable",name:"titlePlaintext",variableName:"titlePlaintext"}],a={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"qid",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"sourceUrl",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},u={kind:"ScalarField",alias:null,name:"tribeItemId",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"shouldPromptFollowerInviteModal",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"failureType",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"a2aFailureReason",args:null,storageKey:null},g=[{kind:"ScalarField",alias:null,name:"correctionSuggestion",args:null,storageKey:null}],p={kind:"ScalarField",alias:null,name:"isPartnerQuestion",args:null,storageKey:null},f={kind:"LinkedField",alias:null,name:"asker",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[t,l,{kind:"ScalarField",alias:null,name:"isEmployee",args:null,storageKey:null}]},b={kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null},y={kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[t,l,u,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},t]}]},v={kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[t,l,{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null}]},k={kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"nid",args:null,storageKey:null},t]},h={kind:"ScalarField",alias:null,name:"answerCount",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"AskQuestionStep_questionCreate_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"questionCreate",storageKey:null,args:n,concreteType:"QuestionCreate",plural:!1,selections:[a,{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[t,l,i,r,s,o,{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[t,l,u,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[d]}]}]},{kind:"LinkedField",alias:null,name:"existingQuestion",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[t,l,o,{kind:"FragmentSpread",name:"DuplicateQuestionResult_exactQuestionMatch",args:null}]},c,m,{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"shouldCheckDuplicate",selections:[{kind:"LinkedField",alias:null,name:"duplicateSuggestions",storageKey:null,args:null,concreteType:"Question",plural:!0,selections:[t,l,o,{kind:"FragmentSpread",name:"DuplicateQuestionResult_dedupeQuestions",args:null}]}]},{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"shouldCheckCorrection",selections:g}]}]},operation:{kind:"Operation",name:"AskQuestionStep_questionCreate_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"questionCreate",storageKey:null,args:n,concreteType:"QuestionCreate",plural:!1,selections:[a,{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[t,l,i,r,s,o,{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[t,l,u,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[d,t]}]}]},{kind:"LinkedField",alias:null,name:"existingQuestion",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[t,l,o,i,r,p,f,b,y,v,k,h,{kind:"LinkedField",alias:null,name:"redirectToQuestion",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[t,l,h,i,r,p,f,b,y,v,o,k]}]},c,m,{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"shouldCheckDuplicate",selections:[{kind:"LinkedField",alias:null,name:"duplicateSuggestions",storageKey:null,args:null,concreteType:"Question",plural:!0,selections:[t,l,o,i,h,r,p,f,b,y,v,k]}]},{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"shouldCheckCorrection",selections:g}]}]},params:{operationKind:"mutation",name:"AskQuestionStep_questionCreate_Mutation",id:"efcf2178534b7b87f70893ce9c6c8f0c7594fa5d205938e4291d48f2559c6cf5",text:null,metadata:{}}}}();M.hash="511481bdd7842ee2c8c075dbe54efb8c";var I=M,P=a("q1tI"),q=a("VyO/"),x=a("AaDK"),j=a("NOjq"),D=a("dp7i"),Q=a("LNH1"),N=a("nW6E"),R=a("ZXE+"),V=a("RA+f"),U=a("jufJ"),B=a("Gnru"),z=a("yju1"),H=a("SKAY"),Z=a("nwxp"),J=a("UDrg"),W=a("E+oP"),G=a.n(W),Y=a("4oNN"),X=a("zLpq"),$=a("lI8z"),ee=a("3oqD"),ne=a("3v16"),ae=a("vOnD"),te={kind:"Fragment",name:"AskQuestionStepAddQuestion_a2aUser",type:"User",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isHostingSelfServeAma",args:null,storageKey:null},{kind:"FragmentSpread",name:"UserName_user",args:null},{kind:"FragmentSpread",name:"UserPhoto_user",args:null},{kind:"FragmentSpread",name:"AskQuestionSelector_user",args:null},{kind:"FragmentSpread",name:"AskQuestionSelfServeAmaRequestedQuestionPagedList_user",args:null}],hash:"1d55c5fa0fa6bf259eea2c2f5bab3c11"},le=te,ie={kind:"Fragment",name:"AskQuestionStepAddQuestion_tribe",type:"Tribe",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},{kind:"FragmentSpread",name:"TribeIcon_tribe",args:null},{kind:"FragmentSpread",name:"TribeName_tribe",args:null},{kind:"FragmentSpread",name:"AskQuestionSelector_tribe",args:null}],hash:"9196977e661e409ba26bf4455b064e34"},re=ie,se=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"AskQuestionStepAddQuestion_viewer",type:"Viewer",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:"noteModernStandardArabic",name:"booleanFeature",args:[{kind:"Literal",name:"name",value:"QuestionAskingNoteModernStandardArabic"}],storageKey:'booleanFeature(name:"QuestionAskingNoteModernStandardArabic")'},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[e,n,{kind:"FragmentSpread",name:"UserPhoto_user",args:null},{kind:"FragmentSpread",name:"UserName_user",args:null}]}]}}();se.hash="9d38f7a99e2f9d16b4a91c2b375823e2";var oe=se,ue=a("8lmh"),de=a("Yc5t"),ce=a("r+vq"),me=a("R+um"),ge=a("F0ZP"),pe=a("cbxS"),fe=a("n2ec"),be=a("PuWf"),ye=a("6sb5"),ve=a("xgmy"),ke=a("LsdO"),he=function(){var e=[{kind:"LocalArgument",name:"uid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int!",defaultValue:null},{kind:"LocalArgument",name:"after",type:"String",defaultValue:null}],n=[{kind:"Variable",name:"uid",variableName:"uid"}],a=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"first",variableName:"first"}],t={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},r=[i,l,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],s={kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"AskQuestionSelfServeAmaRequestedQuestionPagedList_Paging_Query",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:n,concreteType:"User",plural:!1,selections:[{kind:"FragmentSpread",name:"AskQuestionSelfServeAmaRequestedQuestionPagedList_user",args:a}]}]},operation:{kind:"Operation",name:"AskQuestionSelfServeAmaRequestedQuestionPagedList_Paging_Query",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:n,concreteType:"User",plural:!1,selections:[t,l,i,{kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:r},{kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:r},{kind:"LinkedField",alias:"requestedQuestionConnection",name:"selfServeAmaRequestedQuestionConnection",storageKey:null,args:a,concreteType:"SelfServeAMARequestedQuestionConnection",plural:!1,selections:[i,{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[l,i,{kind:"ScalarField",alias:null,name:"qid",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanSendRequests",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isPartnerQuestion",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"asker",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,i,{kind:"ScalarField",alias:null,name:"isEmployee",args:null,storageKey:null}]},s,{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,i,{kind:"ScalarField",alias:null,name:"tribeItemId",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},l]}]},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[l,i,t]},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"nid",args:null,storageKey:null},l]}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},l]},l]},{kind:"LinkedHandle",alias:"requestedQuestionConnection",name:"selfServeAmaRequestedQuestionConnection",args:a,handle:"connection",key:"AskQuestionSelfServeAmaRequestedQuestionPagedList_requestedQuestionConnection",filters:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"annotate_with_ids",value:"true"},condition:"onGate",selections:[s]}]}]},params:{operationKind:"query",name:"AskQuestionSelfServeAmaRequestedQuestionPagedList_Paging_Query",id:"f7acc8d189f04f3d9635f443db1724a4c464b9596e05c893619e3a87a3afca7d",text:null,metadata:{}}}}();he.hash="ba3ef3cd465f2e47ba78773947e1110f";var Se=he,Fe=function(){var e={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"AskQuestionSelfServeAmaRequestedQuestionPagedList_user",type:"User",metadata:{connection:[{count:"first",cursor:"after",direction:"forward",path:["requestedQuestionConnection"]}]},argumentDefinitions:[{kind:"LocalArgument",name:"first",type:"Int",defaultValue:10},{kind:"LocalArgument",name:"after",type:"String",defaultValue:null}],selections:[{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},{kind:"LinkedField",alias:"requestedQuestionConnection",name:"__AskQuestionSelfServeAmaRequestedQuestionPagedList_requestedQuestionConnection_connection",storageKey:null,args:null,concreteType:"SelfServeAMARequestedQuestionConnection",plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},e,{kind:"FragmentSpread",name:"SelfServeAmaRequestedQuestionListItem_question",args:null}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]}]},{kind:"FragmentSpread",name:"SelfServeAmaRequestedQuestionListItem_user",args:null}]}}();Fe.hash="66ee33055d503cf8d56662ea68f82b6a";var Te=Fe,Ee=a("m+xM"),we=function(){var e=[{kind:"LocalArgument",name:"qid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"answerer_uid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"a2a_type",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"action_source",type:"BigInt!",defaultValue:null}],n={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a=[{kind:"Variable",name:"uid",variableName:"answerer_uid"}],t=[{kind:"LinkedField",alias:null,name:"questionAskToAnswerAdd",storageKey:null,args:[{kind:"Variable",name:"a2aType",variableName:"a2a_type"},{kind:"Variable",name:"actionSource",variableName:"action_source"},{kind:"Variable",name:"answererUid",variableName:"answerer_uid"},{kind:"Variable",name:"qid",variableName:"qid"}],concreteType:"QuestionAskToAnswerAdd",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"translatedMessage",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[n,{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasAskedToAnswer",args:a,storageKey:null},{kind:"LinkedField",alias:null,name:"userAnswer",storageKey:null,args:a,concreteType:"Answer",plural:!1,selections:[n]}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"SelfServeAmaRequestedQuestionListItem_questionAskToAnswerAdd_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:t},operation:{kind:"Operation",name:"SelfServeAmaRequestedQuestionListItem_questionAskToAnswerAdd_Mutation",argumentDefinitions:e,selections:t},params:{operationKind:"mutation",name:"SelfServeAmaRequestedQuestionListItem_questionAskToAnswerAdd_Mutation",id:"206663112fe83ee5d459f9f48cd3939adc408b97e706c28578d4d450a19ac70f",text:null,metadata:{}}}}();we.hash="664bb06a4a8f9f81dbaa348cb32da70a";var Ce=we,_e=function(){var e=[{kind:"LocalArgument",name:"uid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"qid",type:"BigInt!",defaultValue:null}],n={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a=[{kind:"Variable",name:"uid",variableName:"uid"}],t=[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:[{kind:"Variable",name:"qid",variableName:"qid"}],concreteType:"Question",plural:!1,selections:[n,{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasAskedToAnswer",args:a,storageKey:null},{kind:"LinkedField",alias:null,name:"userAnswer",storageKey:null,args:a,concreteType:"Answer",plural:!1,selections:[n]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"SelfServeAmaRequestedQuestionListItemQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:t},operation:{kind:"Operation",name:"SelfServeAmaRequestedQuestionListItemQuery",argumentDefinitions:e,selections:t},params:{operationKind:"query",name:"SelfServeAmaRequestedQuestionListItemQuery",id:"d490a6bc53595b5e7dc6706e2381d86ef2e5144dd0166e6a59512e8be86464f1",text:null,metadata:{}}}}();_e.hash="312e21057ca6d17444ddb0b9ac8f801f";var Ke,Ae,Oe,Le,Me=_e,Ie={kind:"Fragment",name:"SelfServeAmaRequestedQuestionListItem_user",type:"User",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},{kind:"FragmentSpread",name:"UserName_user",args:null}],hash:"e6a0c8116e64eb427508520e48f9359e"},Pe=Ie,qe={kind:"Fragment",name:"SelfServeAmaRequestedQuestionListItem_question",type:"Question",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"qid",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanSendRequests",args:null,storageKey:null},{kind:"FragmentSpread",name:"QuestionTitle_question",args:null}],hash:"8cf44494a4bf574d87a2dbf4763f4361"},xe=qe,je=a("Kk/C"),De=a("9k9Z"),Qe=a("MI6j"),Ne=a("D5Zh"),Re=a("9G0N"),Ve=function(e){w()(a,e);var n=_()(a);function a(){var e;k()(this,a);for(var t=arguments.length,l=new Array(t),i=0;i<t;i++)l[i]=arguments[i];return(e=n.call.apply(n,[this].concat(l))).getMutationOptions=function(){var n=a.mutations.questionAskToAnswerAdd,t=e.props,l=t.question,i=t.user,r=l.qid,s=l.id,o=l.__typename;return{mutation:n,variables:{qid:r,answerer_uid:i.uid,a2a_type:Re.c.ama,action_source:Re.a.none},optimisticResponse:{questionAskToAnswerAdd:{success:!0,translatedMessage:null,question:{id:s,__typename:o,viewerHasAskedToAnswer:!0,userAnswer:null}}}}},e}return S()(a,[{key:"renderItem",value:function(e){var n=this.props,t=n.question,l=n.user,i=t.id,r=t.viewerCanSendRequests,s=t.qid,o=l.uid;return r?P.createElement(Ne.a,{fetchPolicy:"network-only",query:a.queries.userHasAskedQuery,variables:{qid:s,uid:o}},(function(n){var a,l,r,s=n.loading,o=n.data;return s?null:P.createElement(Qe.c,{key:i,mainText:P.createElement(je.a,{question:t,fontSize:"small",navStyle:"present",linked:!0}),includePageMargin:!1,secondaryComponent:!(null!==o&&void 0!==o&&null!==(a=o.question)&&void 0!==a&&a.userAnswer)&&P.createElement(De.a,{pressed:null===o||void 0===o||null===(l=o.question)||void 0===l?void 0:l.viewerHasAskedToAnswer,onClick:e,disabled:null===o||void 0===o||null===(r=o.question)||void 0===r?void 0:r.viewerHasAskedToAnswer}),propagateOnClickSecondaryComponent:!0})})):null}},{key:"render",value:function(){var e=this,n=this.props.user;return P.createElement(Q.b,null,(function(a){return P.createElement(q.a,e.getMutationOptions(),(function(t){return P.createElement(P.Fragment,null,e.renderItem((function(){t().then((function(e){var t=e.data.questionAskToAnswerAdd;(null===t||void 0===t?void 0:t.success)?a(Object(U.Z)(P.createElement(U.J,null,"You asked ",P.createElement(me.b,{user:n})," this question. You will be notified when they answer it.")),Q.d.success):a(null!==t&&void 0!==t&&t.translatedMessage?Object(U.Y)(t.translatedMessage):Object(U.Z)(Q.a),Q.d.error)}))})))}))}))}}]),a}(P.Component);Ve.fragments={question:void 0!==Ke?Ke:Ke=g,user:void 0!==Ae?Ae:Ae=m},Ve.queries={userHasAskedQuery:void 0!==Oe?Oe:Oe=c},Ve.mutations={questionAskToAnswerAdd:void 0!==Le?Le:Le=d},Ve.displayName="SelfServeAmaRequestedQuestionListItem";var Ue,Be,ze=Object(q.b)(Ve),He=function(e){w()(a,e);var n=_()(a);function a(){return k()(this,a),n.apply(this,arguments)}return S()(a,[{key:"render",value:function(){var e=this.props,n=e.relay,a=e.user;return P.createElement(Ee.c,{relayObject:n,autoPaged:{enabled:!0},connection:a.requestedQuestionConnection},(function(e){var n=e.node;return P.createElement(ze,{question:n,user:a})}))}}]),a}(P.Component);He.fragments={user:void 0!==Ue?Ue:Ue=u},He.queries={questionsPaging:void 0!==Be?Be:Be=o},He.connectionConfig={query:He.queries.questionsPaging,direction:"forward",getConnectionFromProps:function(e){return e.user.requestedQuestionConnection},getVariables:function(e,n){return{first:5,after:n.cursor,uid:e.user.uid}}},He.displayName="AskQuestionSelfServeAmaRequestedQuestionPagedList";var Ze,Je,We,Ge=Object(q.d)(He),Ye=Object(ae["default"])(pe.a).withConfig({displayName:"AskQuestionStepAddQuestion___StyledBanner",componentId:"wpgp1f-0"})(["& ul{list-style:disc;margin-left:20px;}"]),Xe=function(e){w()(a,e);var n=_()(a);function a(){return k()(this,a),n.apply(this,arguments)}return S()(a,[{key:"renderAudience",value:function(){var e=this.props,n=e.tribe,a=e.a2aUser;return n?this.renderTribeAudience():a?this.renderUserAudience(a):this.renderDistroSwitcher()}},{key:"renderTribeAudience",value:function(){var e=this.props.tribe;return e?P.createElement(V.i,{ml:"small"},P.createElement(ge.g,null,P.createElement(fe.a,{tribe:e})),P.createElement(ge.i,null,P.createElement(V.i,{alignItems:"center"},P.createElement(U.J,null,P.createElement(be.a,{tribe:e}))))):null}},{key:"renderUserAudience",value:function(e){return P.createElement(V.i,{ml:"small"},P.createElement(ge.g,null,P.createElement(ce.a,{user:e})),P.createElement(ge.i,null,P.createElement(V.i,{alignItems:"center"},P.createElement(U.J,null,P.createElement(me.b,{user:e})))))}},{key:"renderDistroSwitcher",value:function(){var e=this,n=this.props,a=n.distributionState,t=n.distributionSwitcherHeight,l=[{label:Object(U.Z)("Public"),subLabel:Object(U.Z)("Others will see your identity alongside this question on your profile and in their feeds."),isOn:a===ee.a.PUBLIC,onSelected:function(){e.props.setAskQuestionStepDistributionState(ee.a.PUBLIC)},isCheckable:!0,closeOnClick:!0}];return l.push({label:Object(U.Z)("Limited"),subLabel:Object(U.Z)("Your identity will be shown but this question will not appear in your followers' feeds or your profile."),isOn:a===ee.a.LIMITED,onSelected:function(){e.props.setAskQuestionStepDistributionState(ee.a.LIMITED)},isCheckable:!0,closeOnClick:!0}),P.createElement(V.d,{ml:"small"},P.createElement(Y.a,{alignment:"bottom-end",title:Object(U.Z)("Audience"),menuItems:l,isInModal:!0},(function(n){return P.createElement(N.d,{modalFlowProps:{transitionName:"StandaloneModal",initialModalProps:{name:"AskQuestionDistributionSwitcher",extraProps:{currentDistributionState:a}},initialFlowData:{},containerProps:{easyDismissEnabled:!0,legacy:!1,mobileHeight:t},postDismissCallback:function(n){if(n){var a=n.distributionState;null!=a&&e.props.setAskQuestionStepDistributionState(a)}}}},(function(e){var t=e.openModalFlow;return P.createElement(ee.b,{currentState:a,onClick:Object(Z.g)()?function(){return t()}:n})}))})))}},{key:"renderTribeSubmissionBanner",value:function(){return P.createElement(pe.a,{dismissable:!1,variant:"muted",mt:"small"},P.createElement(U.J,null,"This Space's admins will review your submission before it's posted. You'll be notified when it's approved."))}},{key:"getRequestTarget",value:function(){return this.props.a2aUser}},{key:"renderReason",value:function(){var e=this.props,n=e.viewer,a=e.tribe,t=e.a2aUser;return"user"===e.controllerSetting&&t?null:n.user?P.createElement(ge.j,null,P.createElement(ge.g,null,P.createElement(ce.a,{user:n.user})),P.createElement(ge.i,null,P.createElement(V.i,{alignItems:"center",whiteSpace:"pre"},a?P.createElement(U.J,null,P.createElement(me.b,{user:n.user})," asks"):P.createElement(U.J,null,P.createElement(me.b,{user:n.user})," asked"),this.renderAudience()))):(Object(ue.logJsError)("react-AskQuestionStepAddQuestion","Rendered for logged-out user"),null)}},{key:"renderPartnersBanner",value:function(){return P.createElement(de.b,{ratioThreshold:1,minTimeInViewMs:1e3,onImpression:function(){return Object(x.a)("log_partners_policy_on_ask_question",{})}},P.createElement(pe.a,{dismissable:!1,mb:"medium"},P.createElement(U.J,null,P.createElement(V.r,{fontSize:"small",bold:!0},"Partner Program Question Policy")),P.createElement("ul",null,P.createElement("li",null,P.createElement(ye.a,null),P.createElement(U.J,null,P.createElement(V.r,{as:"span",fontSize:"small"},"Ask unique questions; avoid asking multiple variations of the same question"))),P.createElement("li",null,P.createElement(ye.a,null),P.createElement(U.J,null,P.createElement(V.r,{as:"span",fontSize:"small"},"Use the third person (he, she, they) when asking questions unless it\u2019s about your personal experiences"))))))}},{key:"renderTipsBanner",value:function(){var e=this.props.viewer;return P.createElement(Ye,{dismissable:!1,mb:"medium"},P.createElement(U.J,null,P.createElement(V.r,{bold:!0},"Tips on getting good answers quickly")),P.createElement("ul",null,P.createElement("li",null,P.createElement(U.J,null,"Make sure your question has not been asked already")),P.createElement("li",null,P.createElement(U.J,null,"Keep your question short and to the point")),P.createElement("li",null,e.noteModernStandardArabic?P.createElement(U.J,null,"Double-check grammar and spelling and use Modern Standard Arabic"):P.createElement(U.J,null,"Double-check grammar and spelling"))))}},{key:"render",value:function(){var e,n=this,a=this.props,t=a.a2aUser,l=a.tribe,i=a.questionText,r=a.shouldShowTips,s=a.shouldShowTribeBanner,o=a.shouldRenderPartnerBanner,u=r?this.renderTipsBanner():o?this.renderPartnersBanner():null;return P.createElement(V.d,{mt:Object(Z.b)()?"huge":"medium",mb:"medium"},u,P.createElement(V.d,null,this.renderReason(),s&&this.renderTribeSubmissionBanner(),P.createElement(ke.a,{handleInputChange:function(e){return n.props.setAskQuestionStepQuestionText(e)},initialInput:i,getCharLimit:this.props.getCharLimit,requestTarget:null!==(e=this.getRequestTarget())&&void 0!==e?e:undefined,inputPlaceholder:Object(U.Z)('Start your question with "What", "How", "Why", etc.'),user:t,tribe:l}),P.createElement(ve.a,{onSourceUrlChange:this.props.setAskQuestionStepSourceUrl,currentUrl:this.props.sourceUrl}),(null===t||void 0===t?void 0:t.isHostingSelfServeAma)&&P.createElement(de.b,{onImpression:function(){return Object(x.a)("ama_self_serve_impression",{})}},P.createElement(V.d,{mt:Object(Z.b)()?"huge":"medium",mb:"medium"},P.createElement(U.J,null,"All requested questions"),P.createElement(Ge,{user:t})))))}}]),a}(P.Component);Xe.fragments={viewer:void 0!==Ze?Ze:Ze=s,tribe:void 0!==Je?Je:Je=r,a2aUser:void 0!==We?We:We=i},Xe.displayName="AskQuestionStepAddQuestion";var $e,en,nn,an=Object(q.b)(Xe),tn=a("xdZJ"),ln=a("VBcq"),rn=a("W+Km"),sn={ADD_QUESTION:0,SHARE_LINK:1},on=void 0!==$e?$e:$e=l;!function(e){e[e.addQuestion=0]="addQuestion",e[e.shareLink=1]="shareLink"}(nn||(nn={}));var un=function(e){var n,a,t=e.type,l=e.tribe;return Object(Z.e)()?P.createElement(U.J,null,P.createElement(U.c,{value:t},(n={},A()(n,nn.addQuestion,"Add"),A()(n,nn.shareLink,"Share"),n))):P.createElement(U.J,null,P.createElement(U.c,{value:t},(a={},A()(a,nn.addQuestion,l?"Add to Space":"Add question"),A()(a,nn.shareLink,"Share link"),a)))},dn=function(e,n,a){var t=e.controllerSetting,l=e.actionSetting,i="index"===t&&"index"===l;e.qid=n,e.redirectUrl=i?"/":a},cn=function(e){w()(a,e);var n=_()(a);function a(e){var t,l,i;k()(this,a),(i=n.call(this,e)).toolbarSubmitCallback=undefined,i.setToastFn=void 0,i.createQuestionAndSetFlowData=Object(rn.b)(y()(f.a.mark((function u(){var e,n,t,l,r,s,o,d,c,m,g,p,b,y,v,k,h,S,F,T,E,w;return f.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(e=i.props,n=e.flowData,t=e.queryResult){u.next=3;break}return u.abrupt("return");case 3:if(l=t.network){u.next=6;break}return u.abrupt("return");case 6:return r=l.contentLanguageCode,i.setIsLoading(!0),n.questionText=i.state.questionText,n.sourceUrl=i.state.sourceUrl,n.distributionState=i.state.distributionState,s=i.state.questionText,o={mutation:a.mutations.questionCreate,variables:i.getCreateQuestionMutationOptions(),onCompleted:function(){return i.setIsLoading(!1)},onError:function(){return i.setIsLoading(!1)}},u.next=15,Object(q.c)(o);case 15:d=u.sent,c=null===d||void 0===d?void 0:d.data,m=c.questionCreate,g=m.success,p=m.question,b=m.failureType,y=m.duplicateSuggestions,v=m.existingQuestion,(k=m.correctionSuggestion)&&Object(x.a)("question_correction_logger",{question_text:s,suggestion_text:k}),k||v||y||(S=!!n.targetType&&[J.a.ama,J.a.user].includes(n.targetType),F=i.getQuestionCharLimit(s),T=Object(tn.c)(g,b,S?null===(h=i.props.queryResult)||void 0===h?void 0:h.user:undefined,r,F),n.toastMessage=T),n.success=g,k?n.suggestedEdit=k:v?(n.exactQuestionMatch=v,n.dedupeQuestions=null):y&&(n.exactQuestionMatch=null,n.dedupeQuestions=y),g&&p&&(E=p.qid,w=p.url,dn(n,E,w)),i.setIsLoading(!1),(g||k||v||y)&&i.triggerTransition();case 26:case"end":return u.stop()}}),u)})))),i.getInitialQuestionText=function(){var e=i.props.flowData,n=e.queryText,a=e.questionText,t=e.shareData,l=n||a,r=null===t||void 0===t?void 0:t.initialQuery;return r&&l===r?r:null!==l&&void 0!==l?l:""},i.getInitialShareLink=function(){var e=i.props.flowData.shareData,n=null===e||void 0===e?void 0:e.initialLink;return n&&!G()(n)?n:""},i.getInitialTab=function(){return i.props.flowData.initialTab},i.createQuestionButtonOnClick=function(e){var n=e.logEvent;i.state.currentTab===sn.ADD_QUESTION&&n("QuestionAskFlowStarted"),i.createQuestionAndSetFlowData()},i.renderModalLayout=function(e){var n=e.primaryButtonProps,a=e.canShareLink,t=e.modalMainContent,l=i.props,r=l.dismissModal,s=l.queryResult.viewer;return P.createElement(N.f,{navButton:"close",navButtonProps:{onClick:function(){null===r||void 0===r||r()}},header:i.renderHeader({canShareLink:a&&(null===s||void 0===s?void 0:s.hyperlinkFeature)}),hasPadding:!1,primaryButtonProps:n,secondaryButtonProps:Object(Z.e)()?undefined:{text:Object(U.Z)("Cancel"),onClick:function(){null===r||void 0===r||r()}}},t)},i.props.flowData.translateSecondaryButtonText=Object(U.Z)("Skip"),i.props.flowData.contentTranslationLanguageCode=undefined;var r=(null!==(t=null===(l=i.props.queryResult)||void 0===l?void 0:l.viewer)&&void 0!==t?t:{}).contentTranslationPromptNetwork;r&&(i.props.flowData.contentTranslationLanguageCode=r.contentLanguageCode,i.props.flowData.contentTranslationNid=r.nid);var s=sn.ADD_QUESTION,o=i.getInitialTab();return i.getInitialShareLink()?s=sn.SHARE_LINK:o&&(s=o),i.state={currentTab:s,fallbackAddQuestionInput:"",isLoading:!1,questionText:i.getInitialQuestionText(),distributionState:ee.a.PUBLIC,sourceUrl:"",hyperlinkUrl:i.getInitialShareLink(),hyperlinkComment:"",hyperlinkTribe:null,hyperlinkShareToFollowers:!0,addToTribeContentQueue:!1,initialWindowHeight:window.innerHeight},i.getQuestionCharLimit=i.getQuestionCharLimit.bind(T()(i)),i}return S()(a,[{key:"triggerTransition",value:function(){Object(Z.g)()&&(this.toolbarSubmitCallback&&(Object(H.removeMessageHandler)("askToolbarSubmit",this.toolbarSubmitCallback),this.toolbarSubmitCallback=undefined),Object(z.a)("hideAskToolbar")),this.props.triggerTransition()}},{key:"shouldEnableAddOrShareButton",value:function(){var e,n,a,t=this.state,l=t.currentTab,i=t.questionText,r=t.hyperlinkComment;return l===sn.ADD_QUESTION?i.length<=this.getQuestionCharLimit(i):r.length<=(null!==(e=null===(n=this.props.queryResult)||void 0===n||null===(a=n.viewer)||void 0===a?void 0:a.shareCommentMaxLength)&&void 0!==e?e:0)}},{key:"getQuestionCharLimit",value:function(e){var n,a;if(Object(R.b)(e))return 2e3;var t=null===(n=this.props.queryResult)||void 0===n||null===(a=n.viewer)||void 0===a?void 0:a.questionTitleMaxLength;return t||250}},{key:"setIsLoading",value:function(e){this.setState({isLoading:e})}},{key:"getCreateQuestionMutationOptions",value:function(){var e=this.state,n=e.questionText,a=e.sourceUrl,t=e.distributionState,l=this.props.flowData,i=l.targetType,r=l.sourceLocation,s=l.targetOid;0===s&&(s=undefined);var o=t===ee.a.LIMITED;return l.limitedUserDistro=o,{titlePlaintext:n,sourceUrl:a,sourceLocation:r,limitedUserDistro:o,targetType:i?Object(J.c)(i):undefined,targetOid:s,shouldCheckDuplicate:i!==J.a.tribe,shouldCheckCorrection:i!==J.a.tribe}}},{key:"componentDidMount",value:function(){Object(j.b)(D.b.ask_question_step,D.a.modal_open)}},{key:"shouldRenderPartnerBanner",value:function(){var e=this.props.queryResult;if(!e)return!1;var n=e.viewer,a=n.isPartner,t=n.shouldShowPartnersPolicyOnAskQuestion;return a&&t}},{key:"shouldShowTips",value:function(){var e,n,a,t=this.props.queryResult;return(null!==(e=null===t||void 0===t||null===(n=t.viewer)||void 0===n||null===(a=n.user)||void 0===a?void 0:a.numQuestions)&&void 0!==e?e:1)<1}},{key:"shouldShowTribesBanner",value:function(){var e=this.props.queryResult;return!(null===e||void 0===e||!e.tribe||e.tribe.viewerCanContribute)}},{key:"getDefaultContainerHeight",value:function(){var e=this.props.queryResult;return this.shouldRenderPartnerBanner()&&this.shouldShowTips()&&this.shouldShowTribesBanner()?"600px":this.shouldRenderPartnerBanner()||this.shouldShowTips()||this.shouldShowTribesBanner()?"450px":e&&e.tribe?"340px":"284px"}},{key:"renderHeader",value:function(e){var n=this,a=e.canShareLink,t=this.state.currentTab,l=P.createElement(V.i,{alignItems:"center",justifyContent:Object(Z.b)()?"center":undefined},P.createElement(V.r,{fontSize:"button",ml:"tiny"},Object(U.Z)(P.createElement(U.J,null,"Add question"))));if(a){var i=[];return a&&(i.push({label:Object(U.Z)(P.createElement(U.J,null,"Add question")),onSelected:function(){n.setState({currentTab:sn.ADD_QUESTION})}}),i.push({label:Object(U.Z)(P.createElement(U.J,null,"Share link")),onSelected:function(){n.setState({currentTab:sn.SHARE_LINK})}})),P.createElement(V.i,{alignItems:"center",justifyContent:Object(Z.b)()?"center":undefined},P.createElement(Y.a,{menuItems:i,alignment:"auto"},(function(e){return P.createElement(X.a,{text:t===sn.SHARE_LINK?Object(U.Z)(P.createElement(U.J,null,"Share link")):Object(U.Z)(P.createElement(U.J,null,"Add question")),onClick:e,chevronSuffix:"down"})})))}return l}},{key:"render",value:function(){var e,n,a,t=this,l=this.state,i=l.currentTab,r=l.initialWindowHeight,s=l.addToTribeContentQueue,o=l.sourceUrl,u=l.isLoading,d=l.hyperlinkComment,c=l.hyperlinkUrl,m=l.hyperlinkTribe,g=l.hyperlinkShareToFollowers,p=this.props,f=p.queryResult,b=p.flowData,y=p.dismissModal;if(!f)throw Error("QueryResult is expected for AskQuestionStep.");var v=b.controllerSetting,k=i===sn.ADD_QUESTION,h=this.shouldEnableAddOrShareButton(),S=f.user,F=f.tribe,T=f.viewer,E=!S&&!F&&(null===T||void 0===T?void 0:T.hyperlinkFeature),w=Object($.g)({writerBundleStatus:null===(e=T.user)||void 0===e?void 0:e.producerBundleStatus,selectedTribe:m?{producerDirectStatus:m.producerDirectStatus,producerBundleStatus:m.producerBundleStatus,viewerCanAdmin:m.viewerCanAdmin}:undefined,isShareToFollowers:g}),C=P.createElement(V.d,{px:Object(Z.b)()?"huge":"medium",height:null!==(n=Object(Z.b)()?this.getDefaultContainerHeight():null)&&void 0!==n?n:undefined,overflowY:"scroll"},P.createElement(j.a,{stepType:D.b.ask_question_step},k&&P.createElement(an,{viewer:f.viewer,questionText:this.state.questionText,contextLink:"",distributionState:this.state.distributionState,tribe:f.tribe||null,isPartner:f.viewer.isPartner,shouldShowPartnersPolicyOnAskQuestion:f.viewer.shouldShowPartnersPolicyOnAskQuestion,a2aUser:f.user||null,getCharLimit:this.getQuestionCharLimit,distributionSwitcherHeight:r,controllerSetting:v,setAskQuestionStepDistributionState:function(e){t.setState({distributionState:e})},setAskQuestionStepQuestionText:function(e){t.setState({questionText:e})},setAskQuestionStepSourceUrl:function(e){t.setState({sourceUrl:e})},shouldRenderPartnerBanner:this.shouldRenderPartnerBanner(),shouldShowTips:this.shouldShowTips(),shouldShowTribeBanner:this.shouldShowTribesBanner(),sourceUrl:o}),!k&&E&&P.createElement(ne.b,{viewer:f.viewer,onShareLinkChange:function(e){t.setState((function(n){return Object.assign({},n,e)}))},audiencePickerHeight:r,selectedTribe:this.state.hyperlinkTribe,hyperlinkShareToFollowers:this.state.hyperlinkShareToFollowers,addToTribeContentQueue:s,shareCommentMaxLength:null!==(a=null===T||void 0===T?void 0:T.shareCommentMaxLength)&&void 0!==a?a:0,initialUrl:this.state.hyperlinkUrl,hyperlinkComment:this.state.hyperlinkComment})));return u?P.createElement(N.g,null):P.createElement(Q.b,null,(function(e){return t.setToastFn=e,P.createElement(B.ClientLogConsumer,null,(function(n){return P.createElement(ln.a,{hyperlinkComment:d,hyperlinkShareToFollowers:g,hyperlinkTribe:m,hyperlinkUrl:c,addToTribeContentQueue:s,setToast:e,dismissModal:y},(function(e){var a=e.shareButtonOnClick,l=e.shareButtonDisabled,i=e.addToQueueButtonProps,r={primaryButtonProps:!i||k||w?{text:!k&&w?P.createElement(U.d,null,"Next"):P.createElement(un,{type:k?nn.addQuestion:nn.shareLink,tribe:!(null===f||void 0===f||!f.tribe)}),onClick:k?function(){return t.createQuestionButtonOnClick({logEvent:n})}:w?function(){b.shouldSetContentAccess=!0,b.hyperlinkComment=d,b.hyperlinkShareToFollowers=g,b.hyperlinkTribe=m,b.hyperlinkUrl=c,t.triggerTransition()}:function(){return a({})},disabled:!h||l}:i,canShareLink:E,modalMainContent:C};return Object(Z.e)()?t.renderModalLayout(r):P.createElement(V.i,{flexDirection:"column"},t.renderModalLayout(r))}))}))}))}}]),a}(P.Component);cn.queries={onLoad:void 0!==en?en:en=t},cn.mutations={questionCreate:on},cn.displayName="AskQuestionStep";n["default"]=cn},Vx0C:function(e,n,a){"use strict";a.d(n,"a",(function(){return Y}));var t={};a.r(t),a.d(t,"default",(function(){return k}));var l={};a.r(l),a.d(l,"default",(function(){return S}));var i={};a.r(i),a.d(i,"default",(function(){return T}));var r={};a.r(r),a.d(r,"default",(function(){return w}));var s={};a.r(s),a.d(s,"default",(function(){return _}));var o={};a.r(o),a.d(o,"default",(function(){return A}));var u={};a.r(u),a.d(u,"default",(function(){return D}));var d=a("8ZkK"),c=a.n(d),m=a("tQZz"),g=a.n(m),p=a("10u2"),f=a.n(p),b=a("MMxs"),y=a.n(b),v=function(){var e=[{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"qid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null}],n=[{kind:"LinkedField",alias:"answerSubmit",name:"tribeSubmissionAnswerAdd",storageKey:null,args:[{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"qid",variableName:"qid"},{kind:"Variable",name:"tribeId",variableName:"tribeId"}],concreteType:"TribeSubmissionAnswerAdd",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"msg",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"AnswerEditorMutation_tribeSubmissionAnswerAdd_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"AnswerEditorMutation_tribeSubmissionAnswerAdd_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"AnswerEditorMutation_tribeSubmissionAnswerAdd_Mutation",id:"ecd9744455648ff619e26fc8d40495eb3cac513bbd7038981b27fc0d6954f372",text:null,metadata:{}}}}();v.hash="9d1c805bcc9396e756467de1801ca174";var k=v,h=function(){var e=[{kind:"LocalArgument",name:"qid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"tribeId",type:"BigInt",defaultValue:null},{kind:"LocalArgument",name:"attachDisclaimer",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"businessUid",type:"BigInt",defaultValue:null},{kind:"LocalArgument",name:"businessCustomAction",type:"BusinessCustomActionInput",defaultValue:null},{kind:"LocalArgument",name:"accessOption",type:"AccessOptionTypes",defaultValue:null}],n=[{kind:"Variable",name:"accessOption",variableName:"accessOption"},{kind:"Variable",name:"attachDisclaimer",variableName:"attachDisclaimer"},{kind:"Variable",name:"businessCustomAction",variableName:"businessCustomAction"},{kind:"Variable",name:"businessUid",variableName:"businessUid"},{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"qid",variableName:"qid"},{kind:"Variable",name:"tribeId",variableName:"tribeId"}],a={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"errorType",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"msg",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"aid",args:null,storageKey:null},u={kind:"LinkedField",alias:null,name:"businessCredential",storageKey:null,args:null,concreteType:"BusinessCredential",plural:!1,selections:[i,r,{kind:"ScalarField",alias:null,name:"translatedString",args:null,storageKey:null}]},d={kind:"ScalarField",alias:null,name:"viewerAnswerUrl",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"redirectUrl",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"AnswerEditorMutation_answerCreate_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:"answerSubmit",name:"answerCreate",storageKey:null,args:n,concreteType:"AnswerCreate",plural:!1,selections:[a,t,l,{kind:"LinkedField",alias:null,name:"answer",storageKey:null,args:null,concreteType:"Answer",plural:!1,selections:[i,r,s,o,u,{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[d]}]},c]}]},operation:{kind:"Operation",name:"AnswerEditorMutation_answerCreate_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:"answerSubmit",name:"answerCreate",storageKey:null,args:n,concreteType:"AnswerCreate",plural:!1,selections:[a,t,l,{kind:"LinkedField",alias:null,name:"answer",storageKey:null,args:null,concreteType:"Answer",plural:!1,selections:[i,r,s,o,u,{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[d,i]}]},c]}]},params:{operationKind:"mutation",name:"AnswerEditorMutation_answerCreate_Mutation",id:"acb92476c681717d35960e02e08c25c101084b6b9905977fbea4fe1f0391068d",text:null,metadata:{}}}}();h.hash="fa55f87997c8d45856f6ec6669ebdd7e";var S=h,F=function(){var e=[{kind:"LocalArgument",name:"aid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"toggleDisclaimer",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"businessUid",type:"BigInt",defaultValue:null},{kind:"LocalArgument",name:"businessCustomAction",type:"BusinessCustomActionInput",defaultValue:null}],n=[{kind:"Variable",name:"aid",variableName:"aid"},{kind:"Variable",name:"businessCustomAction",variableName:"businessCustomAction"},{kind:"Variable",name:"businessUid",variableName:"businessUid"},{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"toggleDisclaimer",variableName:"toggleDisclaimer"}],a={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"errorType",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"msg",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"hasDisclaimer",args:null,storageKey:null},u={kind:"LinkedField",alias:null,name:"businessCredential",storageKey:null,args:null,concreteType:"BusinessCredential",plural:!1,selections:[i,r,{kind:"ScalarField",alias:null,name:"translatedString",args:null,storageKey:null}]},d={kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[i,r,{kind:"ScalarField",alias:null,name:"qid",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasDrafted",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerShouldShowWriteAnswer",args:null,storageKey:null}]},c={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"logoUrl",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"objectiveType",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"cta",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"landingPageUrl",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"leadGenFormId",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"AnswerEditorMutation_answerEdit_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:"answerSubmit",name:"answerEdit",storageKey:null,args:n,concreteType:"AnswerEdit",plural:!1,selections:[a,t,l,{kind:"LinkedField",alias:null,name:"answer",storageKey:null,args:null,concreteType:"Answer",plural:!1,selections:[i,r,s,o,u,d,{kind:"LinkedField",alias:null,name:"businessAnswer",storageKey:null,args:null,concreteType:"BusinessAnswer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"businessProfile",storageKey:null,args:null,concreteType:"BusinessProfile",plural:!1,selections:[c,m]},{kind:"LinkedField",alias:null,name:"businessCustomAction",storageKey:null,args:null,concreteType:"BusinessCustomAction",plural:!1,selections:[g,p,f,b]}]}]}]}]},operation:{kind:"Operation",name:"AnswerEditorMutation_answerEdit_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:"answerSubmit",name:"answerEdit",storageKey:null,args:n,concreteType:"AnswerEdit",plural:!1,selections:[a,t,l,{kind:"LinkedField",alias:null,name:"answer",storageKey:null,args:null,concreteType:"Answer",plural:!1,selections:[i,r,s,o,u,d,{kind:"LinkedField",alias:null,name:"businessAnswer",storageKey:null,args:null,concreteType:"BusinessAnswer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"businessProfile",storageKey:null,args:null,concreteType:"BusinessProfile",plural:!1,selections:[c,m,i]},{kind:"LinkedField",alias:null,name:"businessCustomAction",storageKey:null,args:null,concreteType:"BusinessCustomAction",plural:!1,selections:[g,p,f,b,i]},i]}]}]}]},params:{operationKind:"mutation",name:"AnswerEditorMutation_answerEdit_Mutation",id:"b220dabec228e46d30aef2a9643447296d914b11ce9991a3312df55dd5cadf17",text:null,metadata:{}}}}();F.hash="7adb518bb9325623c417495c14fcf1aa";var T=F,E=function(){var e=[{kind:"LocalArgument",name:"qid",type:"BigInt!",defaultValue:null}],n={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},t=[{kind:"LinkedField",alias:null,name:"answerDraftClear",storageKey:null,args:[{kind:"Variable",name:"qid",variableName:"qid"}],concreteType:"AnswerDraftClear",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[n,a,{kind:"LinkedField",alias:null,name:"viewerDraft",storageKey:null,args:null,concreteType:"AnswerDraft",plural:!1,selections:[n,a,{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"saveTime",args:null,storageKey:null}]}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"AnswerEditorMutation_answerDraftClear_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:t},operation:{kind:"Operation",name:"AnswerEditorMutation_answerDraftClear_Mutation",argumentDefinitions:e,selections:t},params:{operationKind:"mutation",name:"AnswerEditorMutation_answerDraftClear_Mutation",id:"8e631f40f836567a7be996636aebe57ed6f48ae5733b688696c2fb25ff459f49",text:null,metadata:{}}}}();E.hash="30e385f9006cd0ee0482cb0881879558";var w=E,C=function(){var e=[{kind:"LocalArgument",name:"qid",type:"BigInt",defaultValue:null},{kind:"LocalArgument",name:"aid",type:"BigInt",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"isAutoSaved",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"isAnswerEdit",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"hasDisclaimer",type:"Boolean",defaultValue:null}],n=[{kind:"Variable",name:"aid",variableName:"aid"},{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"hasDisclaimer",variableName:"hasDisclaimer"},{kind:"Variable",name:"isAutoSaved",variableName:"isAutoSaved"},{kind:"Variable",name:"qid",variableName:"qid"}],a={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i=[t,l,{kind:"LinkedField",alias:null,name:"viewerDraft",storageKey:null,args:null,concreteType:"AnswerDraft",plural:!1,selections:[t,l,{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"saveTime",args:null,storageKey:null}]}],r=[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:i}],s=[{kind:"LinkedField",alias:null,name:"answer",storageKey:null,args:null,concreteType:"Answer",plural:!1,selections:i}];return{kind:"Request",fragment:{kind:"Fragment",name:"AnswerEditorMutation_answerDraftSave_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"answerDraftSave",storageKey:null,args:n,concreteType:"AnswerDraftSave",plural:!1,selections:[a,{kind:"Condition",isCustom:!1,customValue:null,passingValue:!1,condition:"isAnswerEdit",selections:r},{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"isAnswerEdit",selections:s}]}]},operation:{kind:"Operation",name:"AnswerEditorMutation_answerDraftSave_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"answerDraftSave",storageKey:null,args:n,concreteType:"AnswerDraftSave",plural:!1,selections:[a,{kind:"Condition",passingValue:!1,isCustom:!1,customValue:null,condition:"isAnswerEdit",selections:r},{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"isAnswerEdit",selections:s}]}]},params:{operationKind:"mutation",name:"AnswerEditorMutation_answerDraftSave_Mutation",id:"42c227ebb336dfe9509dfc88e8721330311b8f1af97c44dbb6eec9bca90451a6",text:null,metadata:{}}}}();C.hash="3dfc8027c79dfa0d541c22f606dd8683";var _=C,K=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},a={kind:"LinkedField",alias:null,name:"viewerDraft",storageKey:null,args:null,concreteType:"AnswerDraft",plural:!1,selections:[e,n]};return{kind:"Fragment",name:"AnswerEditorMutation_answer",type:"Answer",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:null,name:"aid",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasDisclaimer",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[e,n,{kind:"ScalarField",alias:null,name:"qid",args:null,storageKey:null},a]},a]}}();K.hash="00445ccb5a78f2807476a4a257ac831d";var A=K,O=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"producerBundleStatus",args:null,storageKey:null};return{kind:"Fragment",name:"AnswerEditorMutation_question",type:"Question",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:null,name:"qid",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,n,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[e,n,{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanCreateAnswerSubmissions",args:null,storageKey:null},a,{kind:"ScalarField",alias:null,name:"producerDirectStatus",args:null,storageKey:null}]}]},{kind:"LinkedField",alias:null,name:"viewerDraft",storageKey:null,args:null,concreteType:"AnswerDraft",plural:!1,selections:[e,n]},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"PaidSubscriptionEnabledForProducer",value:"true"},condition:"onFeature",selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[a]}]}]}]}}();O.hash="da42c67f805e5f4750bea2ea0ebbe22d";var L,M,I,P,q,x,j,D=O,Q=a("q1tI"),N=a("VyO/"),R=a("Gnru"),V=a("vkEr"),U=a("AFGi"),B=a("jufJ"),z=a("bqYg"),H=a("LNH1"),Z=a("szkJ"),J=a("QOfV"),W=a("zv2T"),G=a("oigA"),Y=function(e){var n=e.errorType;return Q.createElement(B.J,null,Q.createElement(B.c,{value:n},{add_answer_exception:H.a,no_permission_on_question:"You do not have permission to answer this question.",no_permission_on_answer:"You do not have permission to edit this answer.",question_deleted:"This question has been deleted.",add_answer_throttled:"You have reached your answer limit for today.",edit_answer_throttled:"You have reached your answer limit for today.",no_empty_answers:"Your answer cannot be blank.",answer_too_long:"Your answer is too long.",add_answer_block:"Your Draft has been saved. Please confirm your email before submitting an answer.",one_answer_per_question:"You may only write one answer for each question, but you can edit your existing answer.",one_answer_per_question_tribe:"This cannot be approved because this person has already written an answer for the question.",existing_pending_answer:"You already have a pending answer to this question.",answer_contains_unready_videos:"Submit your answer from the device the video was originally created, or delete the video to continue submission.",question_hidden_from_tribe:"This question has been removed from the Space.",business_account_unapproved:"Your business account is pending approval. You do not have permission to answer this question until your account is approved."}))},X=function(e){f()(a,e);var n=y()(a);function a(){return c()(this,a),n.apply(this,arguments)}return g()(a,[{key:"saveDraftMutationOptions",value:function(e,n,a,t){var l=this.props,i=l.isAnswerEdit,r=l.question,s=l.answer,o=i?{answer:s?{id:s.id,__typename:s.__typename,viewerDraft:s.viewerDraft?{id:s.viewerDraft.id,__typename:s.viewerDraft.__typename,content:JSON.stringify(e),saveTime:Object(V.n)()}:null}:null,question:null}:{question:r?{id:r.id,__typename:r.__typename,viewerDraft:r.viewerDraft?{id:r.viewerDraft.id,__typename:r.viewerDraft.__typename,content:JSON.stringify(e),saveTime:Object(V.n)()}:null}:null,answer:null};return{variables:{aid:i?null===s||void 0===s?void 0:s.aid:null,qid:i?null:null===r||void 0===r?void 0:r.qid,content:JSON.stringify(e),isAutoSaved:n,isAnswerEdit:!!i,hasDisclaimer:t},optimisticResponse:{answerDraftSave:Object.assign({success:!0},o)},onCompleted:function(e){var n;!i&&null!==e&&void 0!==e&&null!==(n=e.answerDraftSave)&&void 0!==n&&n.success&&a("QuestionSaveDraft",{qid:null===r||void 0===r?void 0:r.qid})}}}},{key:"editAnswerMutationOptions",value:function(e,n,a,t,l){var i=this.props,r=i.answer,s=i.toggleDisclaimer;if(!r)return undefined;var o=r.id,u=r.aid,d=r.question,c=r.hasDisclaimer,m=s?!c:c;return{variables:{aid:u,content:JSON.stringify(e),toggleDisclaimer:s,businessUid:n,businessCustomAction:t?Object.assign({},t,{cta:Object(G.c)(t.cta),objectiveType:Object(Z.c)(t.objectiveType)}):null},optimisticResponse:{answerSubmit:{success:!0,errorType:null,msg:null,answer:{id:o,__typename:"Answer",hasDisclaimer:m,content:JSON.stringify(e),question:{id:d.id,__typename:"Question",qid:d.qid,viewerHasDrafted:!1,viewerShouldShowWriteAnswer:!1},businessCredential:a?{id:a.id,__typename:"BusinessCredential",translatedString:a.translatedString}:null,businessAnswer:null}}},onCompleted:l}}},{key:"render",value:function(){var e,n,t,l,i=this,r=this.props,s=r.children,o=r.question,u=r.answer,d=r.isAnswerEdit,c=null!==(e=null===o||void 0===o||null===(n=o.tribeItem)||void 0===n?void 0:n.tribe)&&void 0!==e?e:{},m=c.tribeId,g=c.viewerCanCreateAnswerSubmissions,p=c.producerBundleStatus,f=c.producerDirectStatus,b=this.props.toggleDisclaimer,y=null!==o&&void 0!==o&&o.tribeItem?f===J.a.enabled||p===J.a.enabled:(null===o||void 0===o||null===(t=o.viewer)||void 0===t||null===(l=t.user)||void 0===l?void 0:l.producerBundleStatus)===J.a.enabled,v=Object(W.d)()&&!d&&y;return Q.createElement(z.a.Consumer,null,(function(e){return Q.createElement(R.ClientLogConsumer,null,(function(n){return Q.createElement(N.a,{mutation:a.mutations.saveDraft,onError:function(){}},(function(t){return Q.createElement(N.a,{mutation:a.mutations.clearDraft},(function(l){return Q.createElement(N.a,{mutation:a.mutations.createAnswer},(function(r){return Q.createElement(N.a,{mutation:a.mutations.createAnswerSubmission},(function(c){return Q.createElement(N.a,{mutation:a.mutations.editAnswer},(function(a){return Q.createElement(Q.Fragment,null,s({saveDraft:function(e,a,r){if(Object(U.p)(e)){var s,c=d?null===u||void 0===u||null===(s=u.question)||void 0===s?void 0:s.qid:null===o||void 0===o?void 0:o.qid;return l({variables:{qid:c||0},onCompleted:function(){d||n("QuestionSaveDraft",{qid:null===o||void 0===o?void 0:o.qid})}})}return t(i.saveDraftMutationOptions(e,a,n,r))},submitAnswer:function(t,l,s,u,p){return d?a(i.editAnswerMutationOptions(t,l,s,u)):g||null!==e&&void 0!==e&&e.viewerCanCreateAnswerSubmissions?c({variables:{qid:(null===o||void 0===o?void 0:o.qid)||0,tribeId:m||(null===e||void 0===e?void 0:e.tribeId)||0,content:JSON.stringify(t)},onCompleted:function(e){var a;null!==e&&void 0!==e&&null!==(a=e.answerSubmit)&&void 0!==a&&a.success&&n("AddAnswer",{qid:null===o||void 0===o?void 0:o.qid})}}):r({variables:{qid:(null===o||void 0===o?void 0:o.qid)||0,content:JSON.stringify(t),tribeId:m||(null===e||void 0===e?void 0:e.tribeId),attachDisclaimer:b,businessUid:l,businessCustomAction:u?Object.assign({},u,{cta:Object(G.c)(u.cta),objectiveType:Object(Z.c)(u.objectiveType)}):null,accessOption:v&&null!==p&&p!==undefined?p:null},onCompleted:function(e){var a;null!==e&&void 0!==e&&null!==(a=e.answerSubmit)&&void 0!==a&&a.success&&n("AddAnswer",{qid:null===o||void 0===o?void 0:o.qid})}})},isTribeSubmission:g||(null===e||void 0===e?void 0:e.viewerCanCreateAnswerSubmissions)||!1}))}))}))}))}))}))}))}))}}]),a}(Q.Component);X.fragments={question:void 0!==L?L:L=u,answer:void 0!==M?M:M=o},X.mutations={saveDraft:void 0!==I?I:I=s,clearDraft:void 0!==P?P:P=r,editAnswer:void 0!==q?q:q=i,createAnswer:void 0!==x?x:x=l,createAnswerSubmission:void 0!==j?j:j=t},X.displayName="AnswerEditorMutation";n.b=Object(N.b)(X)},"W+Km":function(e,n,a){"use strict";a.d(n,"a",(function(){return i})),a.d(n,"b",(function(){return r}));var t=a("DzJC"),l=a.n(t),i=250,r=function(e){return l()(e,3e3,{leading:!0,trailing:!1})}},WtxK:function(e,n,a){"use strict";a.d(n,"c",(function(){return i})),a.d(n,"a",(function(){return r})),a.d(n,"b",(function(){return s}));var t=a("q1tI"),l=a("jufJ"),i={Answer:"answer",AnswerTribeItem:"answer",Question:"question",QuestionTribeItem:"question",HyperLink:"link",Post:"post",BoardItem:"post",PostTribeItem:"post",AnswerShare:"share",GenericShare:"share",HyperlinkShare:"share",TribePostShare:"share",ShareTribeItem:"share",Reshare:"share"},r=function(e){return t.createElement(l.c,{value:e},{Answer:"answer",AnswerTribeItem:"answer",Question:"question",QuestionTribeItem:"question",HyperLink:"link",Post:"post",BoardItem:"post",PostTribeItem:"post",AnswerShare:"share",GenericShare:"share",HyperlinkShare:"share",TribePostShare:"share",ShareTribeItem:"share",Reshare:"share",DEFAULT:"item"})},s=function(e){return t.createElement(l.c,{value:e},{Answer:"Answer",AnswerTribeItem:"Answer",Question:"Question",QuestionTribeItem:"Question",HyperLink:"Link",Post:"Post",BoardItem:"Post",PostTribeItem:"Post",AnswerShare:"Share",GenericShare:"Share",HyperlinkShare:"Share",TribePostShare:"Share",ShareTribeItem:"Share",Reshare:"Share",DEFAULT:"Item"})}},"WxC/":function(e,n,a){"use strict";a.d(n,"b",(function(){return o})),a.d(n,"d",(function(){return u})),a.d(n,"a",(function(){return d})),a.d(n,"c",(function(){return c})),a.d(n,"e",(function(){return m}));var t=a("8meh"),l=a.n(t),i=a("q1tI"),r=a("jufJ"),s=a("amAD"),o=function(e){var n,a=e.level;return i.createElement(r.J,null,i.createElement(r.c,{value:a},(n={},l()(n,s.a.admin,"Admin"),l()(n,s.a.contributor,"Contributor"),l()(n,s.a.follower,"Follower"),l()(n,s.a.moderator,"Moderator"),n)))},u=function(e){var n,a=e.level;return i.createElement(r.c,{value:a},(n={},l()(n,s.a.admin,"admin"),l()(n,s.a.moderator,"moderator"),l()(n,s.a.contributor,"contributor"),l()(n,s.a.follower,"follower"),n))},d=function(e){var n,a=e.level;return i.createElement(r.J,null,i.createElement(r.c,{value:a},(n={},l()(n,s.a.admin,"Admins"),l()(n,s.a.contributor,"Contributors"),l()(n,s.a.follower,"Followers"),l()(n,s.a.moderator,"Moderators"),n)))},c=function(e){var n,a=e.level;return i.createElement(r.c,{value:a},(n={},l()(n,s.a.admin,"admins"),l()(n,s.a.moderator,"moderators"),l()(n,s.a.contributor,"contributors"),l()(n,s.a.follower,"followers"),n))},m=function(e){var n=e.level;return i.createElement(r.K,null,n===s.a.admin?"an ":"a ",i.createElement(u,{level:n}))}},"Y+rj":function(e,n,a){"use strict";a.r(n),a.d(n,"default",(function(){return I}));var t={};a.r(t),a.d(t,"default",(function(){return p}));var l={};a.r(l),a.d(l,"default",(function(){return v}));var i=a("8ZkK"),r=a.n(i),s=a("tQZz"),o=a.n(s),u=a("10u2"),d=a.n(u),c=a("MMxs"),m=a.n(c),g=function(){var e=[{kind:"LocalArgument",name:"qid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"titlePlaintext",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"sourceUrl",type:"String",defaultValue:null}],n=[{kind:"Variable",name:"qid",variableName:"qid"},{kind:"Variable",name:"sourceUrl",variableName:"sourceUrl"},{kind:"Variable",name:"titlePlaintext",variableName:"titlePlaintext"}],a={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"errorMessage",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"sourceUrl",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"qid",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"QuestionEditorModal_questionEdit_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"questionEdit",storageKey:null,args:n,concreteType:"QuestionEdit",plural:!1,selections:[a,t,{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[l,i,{kind:"LinkedField",alias:null,name:"linkedQuestion",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[r,s]}]}]}]},operation:{kind:"Operation",name:"QuestionEditorModal_questionEdit_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"questionEdit",storageKey:null,args:n,concreteType:"QuestionEdit",plural:!1,selections:[a,t,{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[l,i,{kind:"LinkedField",alias:null,name:"linkedQuestion",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[r,s,o]},o]}]}]},params:{operationKind:"mutation",name:"QuestionEditorModal_questionEdit_Mutation",id:"8c89a28913f9c2e216369cf6017627fc5032d2e6c294881071d33e64e402fa7d",text:null,metadata:{}}}}();g.hash="8ed1371a0e44c8a8b7dfb34699e893a7";var p=g,f=function(){var e=[{kind:"LocalArgument",name:"qid",type:"BigInt!",defaultValue:null}],n=[{kind:"Variable",name:"qid",variableName:"qid"}],a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"qid",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"sourceUrl",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"QuestionEditorModalQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:n,concreteType:"Question",plural:!1,selections:[a,t,l,i,r,{kind:"LinkedField",alias:null,name:"linkedQuestion",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[l,s]},{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[a,{kind:"FragmentSpread",name:"TribeNameWithIcon_tribe",args:null},{kind:"FragmentSpread",name:"TribeQuestionAskedInTribeHeader_tribe",args:null}]}]}]}]},operation:{kind:"Operation",name:"QuestionEditorModalQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:n,concreteType:"Question",plural:!1,selections:[a,t,l,i,r,{kind:"LinkedField",alias:null,name:"linkedQuestion",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[l,s,a]},{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[t,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[a,t,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},s,{kind:"ScalarField",alias:null,name:"iconUrl",args:[{kind:"Literal",name:"size",value:100}],storageKey:"iconUrl(size:100)"},{kind:"ScalarField",alias:"iconRetinaUrl",name:"iconUrl",args:[{kind:"Literal",name:"size",value:200}],storageKey:"iconUrl(size:200)"},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"rd_only_tribe_theme_color_on_names",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"colorHex",args:null,storageKey:null}]}]},a]}]}]},params:{operationKind:"query",name:"QuestionEditorModalQuery",id:"3b0844df589fa6f7cb03a502f14cdcb613eba537f069002ed298b13fb4841267",text:null,metadata:{}}}}();f.hash="e1454fc5a0fc18aa83bb54ca4499a960";var b,y,v=f,k=a("q1tI"),h=a("VyO/"),S=a("LNH1"),F=a("RA+f"),T=a("AFGi"),E=a("F6zL"),w=a("nW6E"),C=a("jufJ"),_=a("xgmy"),K=a("LW3J"),A=a("cbxS"),O=a("8lmh"),L=a("9GZO"),M=a("rAPm"),I=function(e){d()(a,e);var n=m()(a);function a(e){var t;r()(this,a),t=n.call(this,e);var l=e.queryResult.question,i=null!==l&&void 0!==l?l:{},s=i.title,o=void 0===s?"":s,u=i.sourceUrl,d=void 0===u?null:u;return t.state={title:Object(T.s)(o,{includeMathTags:!0}),sourceUrl:d,canSubmit:!1,isLoading:!1},t}return o()(a,[{key:"onInputUpdates",value:function(e,n){var a=this.props.queryResult.question;null!=a&&(e===Object(T.s)(a.title,{includeMathTags:!0})&&n===a.sourceUrl?this.setState({title:e,sourceUrl:n,canSubmit:!1}):this.setState({title:e,sourceUrl:n,canSubmit:!0}))}},{key:"render",value:function(){var e=this,n=this.props,t=n.queryResult.question,l=n.dismissModalFlow,i=this.state,r=i.title,s=i.sourceUrl,o=i.canSubmit,u=i.isLoading;Object(O.tempFailureInvariant)(t,"question is ".concat(t));var d=t.linkedQuestion,c=t.tribeItem;return k.createElement(S.b,null,(function(n){return k.createElement(h.a,{mutation:a.mutations.questionEdit,onCompleted:function(){return e.setState({isLoading:!1})},onError:function(){return e.setState({isLoading:!1})}},(function(a){var i,m;return k.createElement(w.f,{titleText:Object(C.Z)("Edit Question"),navButtonProps:{onClick:function(){return l()}},secondaryButtonProps:{onClick:function(){return l()},text:Object(C.Z)("Cancel")},primaryButtonProps:{text:d?Object(C.Z)("Unlink and Save"):Object(C.Z)("Save"),disabled:!o,loading:u,onClick:function(){t&&(e.setState({isLoading:!0}),a({variables:{qid:t.qid,titlePlaintext:r,sourceUrl:s}}).then((function(e){var a,t,i=null!==(a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.questionEdit)&&void 0!==a?a:{},r=i.success,s=i.errorMessage,o=i.question;r?(l(),c?d&&o&&!o.linkedQuestion?n(Object(C.Z)("Your edits are saved. This question is now unlinked from the parent question."),S.d.success):n(Object(C.Z)("Your edits are saved."),S.d.success):n(Object(C.Z)("Thank you for your change. Your edit is being reviewed."),S.d.success)):s?n.error(Object(C.Y)(s)):n.error(Object(C.Z)("Could not save question. Please retry."))})))}}},k.createElement(F.d,{borderAll:!0,borderRadius:"small"},k.createElement(F.d,{p:"small",pb:"tiny",borderBottom:!0},(null===t||void 0===t||null===(i=t.tribeItem)||void 0===i?void 0:i.tribe)&&k.createElement(M.a,{mb:"tiny"},k.createElement(K.a,null,k.createElement(L.a,{tribe:t.tribeItem.tribe,inline:!0}),d&&k.createElement(F.o,{href:d.url,color:"gray_light",navStyle:"present"},k.createElement(C.J,null,"See parent question")))),k.createElement(E.c,{value:r,useTextArea:!0,noBorder:!0,autosize:!0,variant:"large",placeholder:Object(C.Z)("What is your question?"),onChange:function(n){return e.onInputUpdates(n.target.value,s)}})),k.createElement(F.d,{p:"small",pt:0},k.createElement(_.a,{onSourceUrlChange:function(n){return e.onInputUpdates(r,n)},currentUrl:null!==s&&void 0!==s?s:undefined}))),(null===t||void 0===t||null===(m=t.tribeItem)||void 0===m?void 0:m.tribe)&&d&&k.createElement(A.a,{mt:"small",variant:"muted",title:k.createElement(C.J,null,"This question text is linked to"," ",k.createElement(F.o,{href:d.url,navStyle:"present"},"a parent question")," ","that shows the best answers across Quora. Editing this will unlink from the parent question and hide answers from this Space on the parent question.")}))}))}))}}]),a}(k.Component);I.queries={onLoad:void 0!==b?b:b=l},I.mutations={questionEdit:void 0!==y?y:y=t},I.displayName="QuestionEditorModal"},YKuC:function(e,n,a){"use strict";var t={};a.r(t),a.d(t,"default",(function(){return b}));var l=a("rhDr"),i=a.n(l),r=a("8ZkK"),s=a.n(r),o=a("tQZz"),u=a.n(o),d=a("10u2"),c=a.n(d),m=a("MMxs"),g=a.n(m),p=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"AnswerEditorHeader_question",type:"Question",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:null,name:"qid",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"viewerDisplayCredential",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,n,{kind:"FragmentSpread",name:"EditorHeader_credential",args:null}]},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[e,n,{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"businessProfiles",storageKey:"businessProfiles(acceptedOnly:true,currentNetworkMembersOnly:true,paidSubscribersOnly:true)",args:[{kind:"Literal",name:"acceptedOnly",value:!0},{kind:"Literal",name:"currentNetworkMembersOnly",value:!0},{kind:"Literal",name:"paidSubscribersOnly",value:!0}],concreteType:"BusinessProfile",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isBusiness",args:null,storageKey:null}]},{kind:"FragmentSpread",name:"EditorHeader_viewer",args:null}]},{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e]}]}}();p.hash="2d8bc4f2f98234d67d9bc5a6023dc877";var f,b=p,y=a("q1tI"),v=a("QLaP"),k=a.n(v),h=a("U3fp"),S=a("nW6E"),F=a("ttvG"),T=a("SW3P"),E=a("VyO/"),w=a("jufJ"),C=a("UDrg"),_=function(e){c()(a,e);var n=g()(a);function a(){var e;s()(this,a);for(var t=arguments.length,l=new Array(t),i=0;i<t;i++)l[i]=arguments[i];return(e=n.call.apply(n,[this].concat(l))).allowEditBusinessCredentials=function(){var n,a,t,l,i,r,s=null===(n=e.props.question)||void 0===n?void 0:n.viewer,o=Boolean(null===(a=e.props)||void 0===a||null===(t=a.question)||void 0===t?void 0:t.tribeItem),u=null!==(l=null===s||void 0===s||null===(i=s.user)||void 0===i?void 0:i.isBusiness)&&void 0!==l&&l;return Object(T.a)("enable_business_services")&&!o&&Boolean(null===s||void 0===s||null===(r=s.businessProfiles)||void 0===r?void 0:r.length)&&!u},e}return u()(a,[{key:"render",value:function(){var e=this.props,n=e.question,a=e.isAnswerEdit,t=void 0!==a&&a,l=e.businessUid,r=e.businessCredential,s=e.handleEditBusinessCredential,o=e.editCredentialHint,u=i()(e,["question","isAnswerEdit","businessUid","businessCredential","handleEditBusinessCredential","editCredentialHint"]),d=n.id,c=n.qid,m=n.viewer,g=n.viewerDisplayCredential,p=m.uid;k()(p,"AnswerEditorHeader currently only works for logged in viewers.");var f=this.allowEditBusinessCredentials(),b=t?undefined:y.createElement(w.J,null,"Edit credential or profile here");return y.createElement(S.d,{modalFlowProps:{initialModalProps:{name:"EditCredentials",queryVariables:{uid:p,choose:!0,nodeId:d}},initialFlowData:{chooseCredentialContentType:C.a.question,chooseCredentialOid:c},transitionName:"editCredentialsTransition"}},(function(e){var n=e.openModalFlow;return y.createElement(F["default"],{businessProfileUid:l,handleEditCredentials:function(e){if(e){var a=e.useBusinessCredentialFlow,t=e.businessUid,l=e.businessCredential,i=e.businessName,r=e.businessLogoUrl;a?null===s||void 0===s||s({businessUid:null!==t&&void 0!==t?t:null,businessCredential:null!==l&&void 0!==l?l:null,businessName:null!==i&&void 0!==i?i:null,businessLogoUrl:null!==r&&void 0!==r?r:null}):(g&&(null===s||void 0===s||s({businessUid:null,businessCredential:null,businessName:null,businessLogoUrl:null})),n())}}},(function(e){var a=e.openModalFlow;return y.createElement(h.a,Object.assign({openModal:function(){f?a():n()},credential:g,businessCredential:r,viewer:m,editCredentialHint:f?null!==o&&void 0!==o?o:b:undefined},u))}))}))}}]),a}(y.Component);_.fragments={question:void 0!==f?f:f=t},_.displayName="AnswerEditorHeader";n.a=Object(E.b)(_)},"ZMf+":function(e,n,a){"use strict";a.r(n),a.d(n,"ContentTypeTabs",(function(){return Ye})),a.d(n,"SubmitType",(function(){return Xe})),a.d(n,"getPostAddToastContent",(function(){return an}));var t={};a.r(t),a.d(t,"default",(function(){return w}));var l={};a.r(l),a.d(l,"default",(function(){return _}));var i={};a.r(i),a.d(i,"default",(function(){return A}));var r={};a.r(r),a.d(r,"default",(function(){return L}));var s={};a.r(s),a.d(s,"default",(function(){return I}));var o={};a.r(o),a.d(o,"default",(function(){return W}));var u={};a.r(u),a.d(u,"default",(function(){return Y}));var d={};a.r(d),a.d(d,"default",(function(){return ae}));var c={};a.r(c),a.d(c,"default",(function(){return Ae}));var m={};a.r(m),a.d(m,"default",(function(){return Qe}));var g={};a.r(g),a.d(g,"default",(function(){return Re}));var p=a("8ZkK"),f=a.n(p),b=a("tQZz"),y=a.n(b),v=a("10u2"),k=a.n(v),h=a("MMxs"),S=a.n(h),F=a("8meh"),T=a.n(F),E=function(){var e=[{kind:"LocalArgument",name:"pid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"postEdit",storageKey:null,args:[{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"pid",variableName:"pid"}],concreteType:"PostEdit",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"post",storageKey:null,args:null,concreteType:"Post",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"UniversalComposerModal_postEdit_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"UniversalComposerModal_postEdit_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"UniversalComposerModal_postEdit_Mutation",id:"689df670dc487ee87ffb6ae4c544914a043df81bb6c36d08ceb14bde7165bbbf",text:null,metadata:{}}}}();E.hash="f4a84206e3ef736f3c3ee620da921575";var w=E,C=function(){var e=[{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"title",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"shouldQueue",type:"Boolean!",defaultValue:null}],n=[{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"shouldQueue",variableName:"shouldQueue"},{kind:"Variable",name:"title",variableName:"title"},{kind:"Variable",name:"tribeId",variableName:"tribeId"}],a={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"failureType",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"tribeItemId",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"shouldPromptFollowerInviteModal",args:null,storageKey:null},o={kind:"LinkedField",alias:null,name:"viewerPostDraft",storageKey:null,args:null,concreteType:"PostDraft",plural:!1,selections:[l,i,{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null}]},u={kind:"LinkedField",alias:"addContent",name:"tribeNuxStep",storageKey:'tribeNuxStep(name:"ContentStep")',args:[{kind:"Literal",name:"name",value:"ContentStep"}],concreteType:"TribeNuxStep",plural:!1,selections:[l,i,{kind:"ScalarField",alias:null,name:"completedSubtasks",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isCompleted",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"shouldShow",args:null,storageKey:null}]},d={kind:"ScalarField",alias:null,name:"numViewerPendingSubmissionsInTribe",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"contentType",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"UniversalComposerModal_postAdd_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"postAdd",storageKey:null,args:n,concreteType:"PostAdd",plural:!1,selections:[a,t,{kind:"LinkedField",alias:null,name:"post",storageKey:null,args:null,concreteType:"Post",plural:!1,selections:[l,i,{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,i,r,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[s,o,u]}]}]},{kind:"LinkedField",alias:null,name:"share",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,i,{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,i,r,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[s,o]}]}]},{kind:"LinkedField",alias:null,name:"queueItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[o]}]},{kind:"LinkedField",alias:null,name:"submission",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[d,o]}]},c]}]},operation:{kind:"Operation",name:"UniversalComposerModal_postAdd_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"postAdd",storageKey:null,args:n,concreteType:"PostAdd",plural:!1,selections:[a,t,{kind:"LinkedField",alias:null,name:"post",storageKey:null,args:null,concreteType:"Post",plural:!1,selections:[l,i,{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,i,r,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[s,o,u,l]}]}]},{kind:"LinkedField",alias:null,name:"share",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,i,{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,i,r,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[s,o,l]}]}]},{kind:"LinkedField",alias:null,name:"queueItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[o,l]},l]},{kind:"LinkedField",alias:null,name:"submission",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[d,o,l]},l]},c]}]},params:{operationKind:"mutation",name:"UniversalComposerModal_postAdd_Mutation",id:"3ffc31d0d3d62d61e49d5e677de7322b7acbcc8405acffd2929d26030ae5eaef",text:null,metadata:{}}}}();C.hash="7b5d8fd8e46638a69cb21bc042b09a29";var _=C,K=function(){var e=[{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"pid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"isPostEdit",type:"Boolean!",defaultValue:null}],n=[{kind:"Variable",name:"tribeId",variableName:"tribeId"}],a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"viewerContentTypesCanAddInTribe",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"viewerCanContribute",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"viewerCanCreateContentQueueItem",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"viewerHasSentFollowInvites",args:null,storageKey:null},u={kind:"ScalarField",alias:null,name:"submissionReviewPeriod",args:null,storageKey:null},d={name:"PaidSubscriptionEnabledForProducer",value:"true"},c={kind:"ScalarField",alias:null,name:"isFollowing",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"viewerCanAdmin",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"viewerCanModerate",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"producerBundleStatus",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"producerDirectStatus",args:null,storageKey:null},b={kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[a,t,{kind:"ScalarField",alias:null,name:"contentLanguageCode",args:null,storageKey:null}]},y={kind:"ScalarField",alias:"questionTitleMaxLength",name:"integerFeature",args:[{kind:"Literal",name:"name",value:"QuestionTitleMaxLength"}],storageKey:'integerFeature(name:"QuestionTitleMaxLength")'},v={kind:"ScalarField",alias:"postTitleMaxLength",name:"integerFeature",args:[{kind:"Literal",name:"name",value:"QuoraShareAndPostTitleMaxLength"}],storageKey:'integerFeature(name:"QuoraShareAndPostTitleMaxLength")'},k=[{kind:"Variable",name:"pid",variableName:"pid"}],h={kind:"ScalarField",alias:null,name:"pid",args:null,storageKey:null},S={kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},F={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},T=[t,a,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}];return{kind:"Request",fragment:{kind:"Fragment",name:"UniversalComposerModalQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:n,concreteType:"Tribe",plural:!1,selections:[a,t,l,i,r,s,o,{kind:"LinkedField",alias:null,name:"settings",storageKey:null,args:null,concreteType:"TribeSettings",plural:!1,selections:[u]},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:d,condition:"onFeature",selections:[c,m,g,p,f,{kind:"FragmentSpread",name:"ContentMonetizationDisclaimerPrompt_tribe",args:null}]},{kind:"FragmentSpread",name:"TribeNameWithIcon_tribe",args:null},{kind:"FragmentSpread",name:"TribeName_tribe",args:null},{kind:"FragmentSpread",name:"SubmissionRulesBanner_tribe",args:null},{kind:"FragmentSpread",name:"PostComposerEditor_tribe",args:null}]},b,{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[y,v,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"FragmentSpread",name:"ComposerHeader_user",args:null},{kind:"FragmentSpread",name:"UserPhoto_user",args:null},{kind:"FragmentSpread",name:"UserName_user",args:null}]},{kind:"FragmentSpread",name:"UniversalComposerNuxBanner_viewer",args:null}]},{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"isPostEdit",selections:[{kind:"LinkedField",alias:null,name:"post",storageKey:null,args:k,concreteType:"Post",plural:!1,selections:[h,S,F]}]}]},operation:{kind:"Operation",name:"UniversalComposerModalQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:n,concreteType:"Tribe",plural:!1,selections:[a,t,l,i,r,s,o,{kind:"LinkedField",alias:null,name:"settings",storageKey:null,args:null,concreteType:"TribeSettings",plural:!1,selections:[u,a]},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"iconUrl",args:[{kind:"Literal",name:"size",value:100}],storageKey:"iconUrl(size:100)"},{kind:"ScalarField",alias:"iconRetinaUrl",name:"iconUrl",args:[{kind:"Literal",name:"size",value:200}],storageKey:"iconUrl(size:200)"},{kind:"ScalarField",alias:null,name:"submissionRules",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"viewerPostDraft",storageKey:null,args:null,concreteType:"PostDraft",plural:!1,selections:[a,t,S,F,{kind:"ScalarField",alias:null,name:"saveTime",args:null,storageKey:null}]},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:d,condition:"onFeature",selections:[c,m,g,p,f,p,{kind:"ScalarField",alias:null,name:"defaultAccessOption",args:null,storageKey:null},f,{kind:"ScalarField",alias:null,name:"isAdsRevenueShareEnabled",args:null,storageKey:null},g]},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"rd_only_tribe_theme_color_on_names",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"colorHex",args:null,storageKey:null}]}]},b,{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[y,v,{kind:"ScalarField",alias:null,name:"hasSeenComposerTooltip",args:[{kind:"Literal",name:"tooltipType",value:1}],storageKey:"hasSeenComposerTooltip(tooltipType:1)"},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[a,{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},t,{kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:T},{kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:T},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerBundleSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"consumerBundleActive",args:null,storageKey:null}]},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"annotate_with_ids",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}]}]},a]},{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"isPostEdit",selections:[{kind:"LinkedField",alias:null,name:"post",storageKey:null,args:k,concreteType:"Post",plural:!1,selections:[h,S,F,a]}]}]},params:{operationKind:"query",name:"UniversalComposerModalQuery",id:"fee86913cdc0e12f339dd491edf87a91c3757c882bf4278923c107559bfb50a9",text:null,metadata:{}}}}();K.hash="c83528dfbc54aa02526e7bc13a532936";var A=K,O=function(){var e=[{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null}],n=[{kind:"Variable",name:"tribeId",variableName:"tribeId"}],a=[{kind:"Literal",name:"name",value:"ContentStep"}],t={kind:"ScalarField",alias:null,name:"shouldShow",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"UniversalComposerModalTribeNuxAddContentQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:n,concreteType:"Tribe",plural:!1,selections:[{kind:"LinkedField",alias:"addContent",name:"tribeNuxStep",storageKey:'tribeNuxStep(name:"ContentStep")',args:a,concreteType:"TribeNuxStep",plural:!1,selections:[t]}]}]},operation:{kind:"Operation",name:"UniversalComposerModalTribeNuxAddContentQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:n,concreteType:"Tribe",plural:!1,selections:[{kind:"LinkedField",alias:"addContent",name:"tribeNuxStep",storageKey:'tribeNuxStep(name:"ContentStep")',args:a,concreteType:"TribeNuxStep",plural:!1,selections:[t,l]},l]}]},params:{operationKind:"query",name:"UniversalComposerModalTribeNuxAddContentQuery",id:"67bd715657856220e7514446a2a1550a709d3374b39bee670f15290bd7067698",text:null,metadata:{}}}}();O.hash="0a46ed7177c7aebf05ed4ba221e83c8d";var L=O,M=function(){var e=[{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null}],n=[{kind:"Variable",name:"tribeId",variableName:"tribeId"}],a={kind:"ScalarField",alias:null,name:"viewerShouldShowSubmissionPendingBanner",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"numViewerPendingSubmissionsInTribe",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"numViewerSubmissionsInTribe",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"tabType",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"hasBadge",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"UniversalComposerModalSubmissionQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:n,concreteType:"Tribe",plural:!1,selections:[a,t,l,{kind:"LinkedField",alias:null,name:"pageTabs",storageKey:null,args:null,concreteType:"PageTab",plural:!0,selections:[i,r,s]}]}]},operation:{kind:"Operation",name:"UniversalComposerModalSubmissionQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:n,concreteType:"Tribe",plural:!1,selections:[a,t,l,{kind:"LinkedField",alias:null,name:"pageTabs",storageKey:null,args:null,concreteType:"PageTab",plural:!0,selections:[i,r,s,o]},o]}]},params:{operationKind:"query",name:"UniversalComposerModalSubmissionQuery",id:"6aee189fd7378611f3a0c3d2a78214d93567c4d2111894d6d419ba0125dafe37",text:null,metadata:{}}}}();M.hash="cf26f3f95716a707797dca67c2f15b41";var I=M,P=a("q1tI"),q=a("AaDK"),x=a("VyO/"),j=a("yju1"),D=a("8lmh"),Q=a("nwxp"),N=a("SW3P"),R=a("jufJ"),V=a("LNH1"),U=a("RA+f"),B=a("nW6E"),z=a("PuWf"),H=a("iJoy"),Z=a.n(H),J=function(){var e=[{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null}],n={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},t=[{kind:"LinkedField",alias:null,name:"postDraftClear",storageKey:null,args:[{kind:"Variable",name:"tribeId",variableName:"tribeId"}],concreteType:"PostDraftClear",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[n,a,{kind:"LinkedField",alias:null,name:"viewerPostDraft",storageKey:null,args:null,concreteType:"PostDraft",plural:!1,selections:[n,a,{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null}]}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"PostComposerEditor_postDraftClear_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:t},operation:{kind:"Operation",name:"PostComposerEditor_postDraftClear_Mutation",argumentDefinitions:e,selections:t},params:{operationKind:"mutation",name:"PostComposerEditor_postDraftClear_Mutation",id:"9103dc4f89dd768a3414f36c24c3079b45a3c5ec7efe35def7d6c71b0f4c384d",text:null,metadata:{}}}}();J.hash="ef7768a660b93766416a4b02d609c607";var W=J,G=function(){var e=[{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"title",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"isAutoSaved",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"draftId",type:"BigInt",defaultValue:null}],n={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},t=[{kind:"LinkedField",alias:null,name:"postDraftSave",storageKey:null,args:[{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"draftId",variableName:"draftId"},{kind:"Variable",name:"isAutoSaved",variableName:"isAutoSaved"},{kind:"Variable",name:"title",variableName:"title"},{kind:"Variable",name:"tribeId",variableName:"tribeId"}],concreteType:"PostDraftSave",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[n,a,{kind:"LinkedField",alias:null,name:"viewerPostDraft",storageKey:null,args:null,concreteType:"PostDraft",plural:!1,selections:[n,a,{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null}]}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"PostComposerEditor_postDraftSave_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:t},operation:{kind:"Operation",name:"PostComposerEditor_postDraftSave_Mutation",argumentDefinitions:e,selections:t},params:{operationKind:"mutation",name:"PostComposerEditor_postDraftSave_Mutation",id:"cb839cc62c80a6a26f44720e16dd1ef2151432b96897ba815ba8d7cddcb5833a",text:null,metadata:{}}}}();G.hash="e0ba6e7f23395f23809c5e3721036cd4";var Y=G,X=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"PostComposerEditor_tribe",type:"Tribe",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"viewerPostDraft",storageKey:null,args:null,concreteType:"PostDraft",plural:!1,selections:[e,n,{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"saveTime",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"viewerCanContribute",args:null,storageKey:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"PaidSubscriptionEnabledForProducer",value:"true"},condition:"onFeature",selections:[{kind:"FragmentSpread",name:"ContentMonetizationDisclaimerButtonWrapper_tribe",args:null}]}]}}();X.hash="4431805d74c4cdf9d03ca325fa2ed1c0";var $,ee,ne,ae=X,te=a("sEfC"),le=a.n(te),ie=a("LJFN"),re=a("EreF"),se=a("AFGi"),oe=a("4Xda"),ue=a("SKAY"),de=a("rS24"),ce=a("qU4x"),me=le()((function(e){var n=e.title,a=e.content;return(0,e.saveDraft)(n,a,!0)}),750,{maxWait:1e4,leading:!0}),ge=function(e){k()(a,e);var n=S()(a);function a(e){var t;f()(this,a),(t=n.call(this,e)).editorRef=void 0,t.shouldSaveOnClose=void 0,t.bodyPlaceholder=void 0,t.photoPermissionMessageHandler=void 0,t.componentMounted=!1,t.updateSubmitButton=function(e){t.props.toggleCanSubmit(!e)},t.updatePhotoSelectorPreviewVisibility=function(e){Object(Q.g)()&&Object(j.a)("setPhotoSelectorPreviewVisibility",{visible:e})},t.editorRef=P.createRef();var l=t.getCurrentDraft();t.state={content:l,hyperlinkUrl:"",isDraftSaving:!1},t.shouldSaveOnClose=!0;var i=t.props.bodyPlaceholder;return t.bodyPlaceholder=i||Object(R.Z)("Say something..."),t}return y()(a,[{key:"componentDidMount",value:function(){this.setupEditor(),Object(Q.g)()&&this.photoPermissionMessageHandler!==undefined&&Object(ue.registerMessageHandler)("imageButtonTapped",this.photoPermissionMessageHandler),this.componentMounted=!0}},{key:"setupEditor",value:function(){Object(Q.g)()&&Object(j.a)("setupEditor",{hasDraft:!1})}},{key:"getQTextContent",value:function(){return this.editorRef.current?this.editorRef.current.save():this.state.content}},{key:"clearDraft",value:function(){var e,n=this.props.tribe;var t=n.id,l=n.__typename,i=n.viewerPostDraft;if(i){null===(e=this.editorRef.current)||void 0===e||e.clearState();var r=i.id,s=i.__typename;Object(x.c)({mutation:a.mutations.clearDraft,variables:{tribeId:n.tribeId},optimisticResponse:{postDraftClear:{tribe:{id:t,__typename:l,viewerPostDraft:{id:r,__typename:s,title:null,content:null}}}}}),this.shouldSaveOnClose=!1}else Object(D.logJsError)("PostComposerEditor","Invalid viewerPostDraft: ".concat(i))}},{key:"getSerializedQTextTitle",value:function(){var e=arguments.length>0&&arguments[0]!==undefined&&arguments[0];if(e){var n,a=this.getQTextContent(),t=null===a||void 0===a||null===(n=a.sections)||void 0===n?void 0:n[0];if("heading"===t.type)return JSON.stringify({sections:[t]})}return JSON.stringify(Object(se.u)(""))}},{key:"getSerializedQTextContent",value:function(){var e=arguments.length>0&&arguments[0]!==undefined&&arguments[0];if(e){var n,a=this.getQTextContent(),t=null===a||void 0===a||null===(n=a.sections)||void 0===n?void 0:n[0];if("heading"===t.type){var l=a.sections.slice(1);return JSON.stringify({sections:l})}}return JSON.stringify(this.getQTextContent())}},{key:"getCurrentDraft",value:function(){var e=this.props,n=e.tribe,a=e.post,t=e.isPostEdit,l=e.shareData,i=n.viewerPostDraft,r=Object(se.h)(),s=Object(se.h)(),o=t?null===a||void 0===a?void 0:a.title:null===i||void 0===i?void 0:i.title,u=t?null===a||void 0===a?void 0:a.content:null===i||void 0===i?void 0:i.content;return o&&(r=JSON.parse(o)),u&&(s=JSON.parse(u)),s=t?function(e,n){var a,t,l,i,r;return(null===e||void 0===e||null===(a=e.sections)||void 0===a||null===(t=a[0])||void 0===t||null===(l=t.spans)||void 0===l||null===(i=l[0])||void 0===i||null===(r=i.text)||void 0===r?void 0:r.length)>0&&(e.sections[0].type="heading"),{sections:[].concat(Z()(Object(se.p)(e)?[]:e.sections),Z()(n.sections))}}(r,s):s,null!==l&&void 0!==l&&l.shareText&&(s=function(e,n){var a=Object(se.u)(n);return{sections:[].concat(Z()(e.sections),Z()(a.sections))}}(s,l.shareText)),s}},{key:"appendSharedImages",value:function(){var e=this.props.shareData;null!==e&&void 0!==e&&e.shareImages&&Object(ue.handleMessage)("nativeShareImages",e)}},{key:"getStartingBody",value:function(){return this.state.content||Object(se.h)()}},{key:"isTitleAndBodyEmpty",value:function(){return!(this.editorRef.current&&!this.editorRef.current.state.doc.isOnlyWhiteSpace())}},{key:"isDirty",value:function(){var e,n;return null!==(e=null===(n=this.editorRef.current)||void 0===n?void 0:n.isDirty())&&void 0!==e&&e}},{key:"onSubmit",value:function(){this.shouldSaveOnClose=!1}},{key:"renderPhotoPermissionModal",value:function(){var e=this;return P.createElement(de.a,null,(function(n){return e.photoPermissionMessageHandler||(e.photoPermissionMessageHandler=function(e){var a;return n(null!==(a=null===e||void 0===e?void 0:e.photoAuthorizationStatus)&&void 0!==a?a:0)}),null}))}},{key:"renderQTextEditor",value:function(e){var n=this;return P.createElement(oe.a.Consumer,null,(function(a){return P.createElement(re.a,{placeholder:n.bodyPlaceholder,content:n.getStartingBody(),settingOverrides:{imageRemoveButtonEnabled:!0,qtext_hyperlink_embed:!0,qtextReactHyperlinkEmbed:!0,lightWeightContentToolbar:Object(ie.d)(),h1ButtonEnabled:Object(ie.d)(),isDarkModeOn:a.isDarkModeOn,eagerImageUploading:!0,minHeight:Object(Q.e)()?"50vh":"260px"},ref:n.editorRef,isToolbarBottom:!Object(Q.f)(),editorPaddingReset:!0,onMeaningfulChange:function(e){var a=Object(se.s)(n.getSerializedQTextContent());(a.endsWith("?")||a.endsWith(Object(R.Z)("?")))&&n.props.onQuestionMarkTyped(),n.updateSubmitButton(e.isEmpty()),n.updatePhotoSelectorPreviewVisibility(e.isEmpty()),n.props.shouldAutosaveDraft&&n.saveDraft()},onEditorSetup:function(e){n.updateSubmitButton(e.isEmpty()),setTimeout((function(){n.updatePhotoSelectorPreviewVisibility(e.isEmpty())}),200),setTimeout((function(){n.appendSharedImages()}),500)},editorKey:"post-".concat(n.props.tribe.tribeId),onImageUploadStatusChange:n.props.onImageUploadStatusChange,stickyButtonInfo:e})}))}},{key:"focusEditor",value:function(){this.editorRef.current.focusEditor()}},{key:"render",value:function(){var e=this,n=this.props,a=n.tribe,t=n.shouldShowContentMonetizationDisclaimer;return P.createElement(P.Fragment,null,t?P.createElement(ce.a,{tribe:a},(function(n){var a=n.stickyButtonInfo;return e.renderQTextEditor(a)})):this.renderQTextEditor(),Object(Q.g)()&&this.renderPhotoPermissionModal())}},{key:"componentWillUnmount",value:function(){this.shouldSaveOnClose&&this.saveDraft(),Object(Q.g)()&&this.photoPermissionMessageHandler!==undefined&&Object(ue.removeMessageHandler)("imageButtonTapped",this.photoPermissionMessageHandler),this.updatePhotoSelectorPreviewVisibility(!1),this.componentMounted=!1}},{key:"saveDraft",value:function(){var e=this,n=this.props,t=n.tribe,l=n.isPostEdit,i=this.getSerializedQTextTitle(),r=this.getSerializedQTextContent(),s=t.id,o=t.__typename,u=t.viewerPostDraft;if(u){var d=u.id,c=u.__typename;if(!l){me({title:i,content:r,saveDraft:function(n,l){if(!e.state.isDraftSaving&&e.componentMounted){e.setState({isDraftSaving:!0});var i=function(){e.componentMounted&&e.setState({isDraftSaving:!1})};Object(x.c)({mutation:a.mutations.saveDraft,variables:{tribeId:t.tribeId,title:n,content:l,isAutoSaved:!0},optimisticResponse:{postDraftSave:{tribe:{id:s,__typename:o,viewerPostDraft:{id:d,__typename:c,title:n,content:l}},success:!0}},onCompleted:i,onError:i})}}})}}else Object(D.logJsError)("PostComposerEditor","Invalid viewerPostDraft: ".concat(u))}}]),a}(P.Component);ge.fragments={tribe:void 0!==$?$:$=d},ge.mutations={saveDraft:void 0!==ee?ee:ee=u,clearDraft:void 0!==ne?ne:ne=o},ge.displayName="PostComposerEditor";var pe=Object(x.b)(ge),fe=a("LsdO"),be=a("xgmy"),ye=function(e){k()(a,e);var n=S()(a);function a(e){var t;return f()(this,a),(t=n.call(this,e)).questionSelectorRef=void 0,t.questionSelectorRef=P.createRef(),t.state={sourceUrl:t.props.initialSourceUrl||""},t}return y()(a,[{key:"render",value:function(){var e=this;return P.createElement(P.Fragment,null,P.createElement(fe.a,{handleInputChange:function(n){e.props.handleInputChange&&e.props.handleInputChange(n)},initialInput:this.props.initialInput,requestTarget:undefined,inputPlaceholder:Object(R.Z)("What is your question?"),showDuplicateQuestions:!1,useTextArea:!0,borderBottom:this.props.borderBottom,ref:this.questionSelectorRef,user:null,tribe:null,withCharLimit:!1}),P.createElement(be.a,{onSourceUrlChange:function(n){e.props.handleSourceUrlChange&&e.props.handleSourceUrlChange(n),e.setState({sourceUrl:n})},currentUrl:this.state.sourceUrl}))}}]),a}(P.Component);ye.defaultProps={initialInput:"",initialSourceUrl:""},ye.displayName="QuestionComposerEditor";var ve,ke=a("dp7i"),he=a("VEaG"),Se=a("xdZJ"),Fe=a("4oNN"),Te=a("zLpq"),Ee=a("OMLc"),we=a("VwdU"),Ce=a("HGXV"),_e=a("QK84"),Ke={kind:"Fragment",name:"ContentMonetizationDisclaimerPrompt_tribe",type:"Tribe",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},{kind:"FragmentSpread",name:"ContentMonetizationDisclaimer_tribe",args:null}],hash:"f6df298195c72892b3a9e47263295643"},Ae=Ke,Oe=function(e){var n=e.tribe;return P.createElement(B.j,null,(function(e){var a=e.openStandaloneModal;return P.createElement(Te.a,{tooltipPlacement:"bottom",tooltipText:P.createElement(R.d,null,"Monetization and access"),icon:P.createElement(Ee.a,{size:20,name:"Money"}),onClick:function(){return a({modalProps:{name:"ContentMonetizationDisclaimerModal",queryVariables:{tribeId:n.tribeId},extraProps:{contentType:"Post"}},containerProps:{easyDismissEnabled:!0}})}})}))};Oe.displayName="ContentMonetizationDisclaimerPrompt",Oe.fragments={tribe:void 0!==ve?ve:ve=c};var Le=Object(x.b)(Oe),Me=a("UDrg"),Ie=a("x43M"),Pe=a("QLaP"),qe=a.n(Pe),xe=function(){var e={kind:"ScalarField",alias:null,name:"hasSeenComposerTooltip",args:[{kind:"Literal",name:"tooltipType",value:1}],storageKey:"hasSeenComposerTooltip(tooltipType:1)"};return{kind:"Request",fragment:{kind:"Fragment",name:"UniversalComposerNuxBanner_markComposerTooltipAsSeen_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"markComposerTooltipAsSeen",storageKey:null,args:null,concreteType:"MarkComposerTooltipAsSeen",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[e]}]}]},operation:{kind:"Operation",name:"UniversalComposerNuxBanner_markComposerTooltipAsSeen_Mutation",argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"markComposerTooltipAsSeen",storageKey:null,args:null,concreteType:"MarkComposerTooltipAsSeen",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[e,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}]},params:{operationKind:"mutation",name:"UniversalComposerNuxBanner_markComposerTooltipAsSeen_Mutation",id:"ed7f65bb1c4ecffacd11cee1d150200d8478d315d480e0518c964666b546fe85",text:null,metadata:{}}}}();xe.hash="98373dc2f23cd4cd3517d1f7c470085b";var je,De,Qe=xe,Ne={kind:"Fragment",name:"UniversalComposerNuxBanner_viewer",type:"Viewer",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"hasSeenComposerTooltip",args:[{kind:"Literal",name:"tooltipType",value:1}],storageKey:"hasSeenComposerTooltip(tooltipType:1)"}],hash:"1f8d0dfe238130b507bd4355aa16078e"},Re=Ne,Ve=a("cbxS"),Ue=a("Yc5t"),Be=a("6sb5"),ze=function(e){k()(a,e);var n=S()(a);function a(e){var t;return f()(this,a),(t=n.call(this,e)).state={hasClosedNuxBanner:!1},t}return y()(a,[{key:"shouldComponentUpdate",value:function(e,n){return this.state.hasClosedNuxBanner!==n.hasClosedNuxBanner}},{key:"render",value:function(){var e=this;return!this.props.viewer.hasSeenComposerTooltip&&!this.state.hasClosedNuxBanner&&P.createElement(Ue.b,{ratioThreshold:1,minTimeInViewMs:1e3,onImpression:function(){Object(x.c)({mutation:a.mutations.markComposerTooltipAsSeen})}},P.createElement(U.p,null,P.createElement(U.a,{right:"small",top:"small",zIndex:"popover"},P.createElement(U.e,{onClick:function(n){n.preventDefault(),e.setState({hasClosedNuxBanner:!0}),e.props.onClose()},hover:{bg:"darken"},borderRadius:"circle"},P.createElement(Ee.a,{color:"gray",name:"SmallClose"}))),P.createElement(Ve.a,{dismissable:!1,mb:"large",p:"medium",variant:"muted"},P.createElement("ul",null,P.createElement("li",null,P.createElement(Be.a,null),P.createElement(R.J,null,P.createElement(U.r,{as:"span",fontSize:"small"},"To add a link, paste the URL directly into your post."))),P.createElement("li",null,P.createElement(Be.a,null),P.createElement(R.J,null,P.createElement(U.r,{as:"span",fontSize:"small"},"To add a title (",P.createElement(R.M,null,P.createElement(Ee.a,{size:16,name:"H1Font"})),"), create a list, access more formatting options, tap"," ",P.createElement(R.M,null,P.createElement(Ee.a,{size:20,verticalAlign:"bottom",name:"EditorTextFormatting"})),".")))))))}}]),a}(P.Component);ze.fragments={viewer:void 0!==je?je:je=g},ze.mutations={markComposerTooltipAsSeen:void 0!==De?De:De=m},ze.displayName="UniversalComposerNuxBanner";var He,Ze,Je,We,Ge,Ye,Xe,$e=Object(x.b)(ze),en=a("6pmM"),nn=function(){return Object(Q.b)()?"web":Object(Q.a)()?"android":Object(Q.c)()?"iphone":Object(Q.f)()?"mweb":"device_unknown"};!function(e){e.Post="Post",e.Question="Question",e.Link="Link"}(Ye||(Ye={})),function(e){e.Post="Post",e.Question="Question",e.Queue="Queue"}(Xe||(Xe={}));var an=function(e,n){var a;return Object(R.Z)(P.createElement(R.c,{value:n},(a={},T()(a,Ie.a.generic,"Something went wrong when posting to this Space. Please try again later."),T()(a,Ie.a.insufficient_permissions,"You do not have permission to post in this Space."),T()(a,Ie.a.title_and_content_empty,"Post may not be empty."),T()(a,Ie.a.title_empty,"Post may not be empty."),T()(a,Ie.a.content_empty,"Post may not be empty."),T()(a,Ie.a.title_too_long,"Your title is too long."),T()(a,Ie.a.content_too_long,"Your post is too long."),T()(a,Ie.a.rate_limit_exceeded,"You have created too many posts. Please try again later."),T()(a,Ie.a.requires_external_links,"This Space does not accept posts without external links."),T()(a,Ie.a.requires_quora_links,"This Space does not accept posts without links to Quora content."),T()(a,Ie.a.requires_text,"This Space does not accept posts without text."),T()(a,"DEFAULT","Something went wrong when posting to this Space. Please try again later."),a)))},tn=void 0!==He?He:He=s,ln=void 0!==Ze?Ze:Ze=r,rn=function(e){k()(a,e);var n=S()(a);function a(e){var t,l,i,r;return f()(this,a),(r=n.call(this,e)).postEditorRef=void 0,r.questionEditorRef=void 0,r.handleImageUploadStatusChange=function(e){r.setState({imageUploadStatus:e})},r.handleToggleCanSubmit=function(e){e!==r.state.canSubmitPost&&r.setState({canSubmitPost:e})},r.blockActionIfImageIsUploading=function(e,n){return function(){r.state.imageUploadStatus===ie.b.uploading?n(Object(R.Z)("Your images are still uploading. Please wait and try again soon."),V.d.error):e()}},r.renderOverflowMenuItems=function(e){var n=r.props.dismissModalFlow,a=r.state.activeTabName,t=[];return t.push({label:Object(R.Z)("Add to queue"),onSelected:function(){r.setState((function(e){return{shouldQueue:!e.shouldQueue}})),r.submit(a,n,e,!0)},isCheckable:!0,closeOnClick:!0,isOn:r.state.shouldQueue}),t},r.postEditorRef=P.createRef(),r.questionEditorRef=P.createRef(),r.state={activeTabName:r.getInitialContentTypeTab(),showQuestionTooltip:!1,isSubmitting:!1,canSubmitPost:!1,canSubmitQuestion:!1,imageUploadStatus:ie.b.ready,hasCopiedPostInputToQuestionInput:!1,hasClosedNuxBanner:!1,questionInput:null!==(t=null===(l=r.props.extraProps)||void 0===l?void 0:l.initialQuestionInput)&&void 0!==t?t:"",questionSourceUrl:"",shouldQueue:!1,shareData:null===(i=r.props.extraProps)||void 0===i?void 0:i.shareData},r}return y()(a,[{key:"maybeShowQuestionTooltip",value:function(){var e,n,a,t=this;if(!(null!==(e=this.props.extraProps)&&void 0!==e&&e.isPostEdit||null!==(n=this.props.extraProps)&&void 0!==n&&n.isDraftEdit)){var l=null===(a=this.postEditorRef.current)||void 0===a?void 0:a.getQTextContent(),i=Object(se.k)(l,"plain");Object(Q.b)()&&i&&!this.state.showQuestionTooltip&&!this.state.hasCopiedPostInputToQuestionInput&&(setTimeout((function(){t.setState({showQuestionTooltip:!0})}),300),Object(q.a)("scribe_only",{scribe_category:"universal_composer_show_question_tooltip",log_viewer:!0,platform:nn()}))}}},{key:"shouldAutosavePostDraft",value:function(){var e;return!(null!==(e=this.props.extraProps)&&void 0!==e&&e.isPostEdit)}},{key:"getInitialQuestionInput",value:function(){var e,n,a=null===(e=this.postEditorRef)||void 0===e||null===(n=e.current)||void 0===n?void 0:n.getSerializedQTextContent();return this.state.showQuestionTooltip&&!this.state.hasCopiedPostInputToQuestionInput&&a?Object(se.s)(a):this.state.questionInput}},{key:"renderBody",value:function(e){var n,a,t=this;if(null===(n=this.props.queryResult)||void 0===n||!n.tribe)return null;var l=this.props.queryResult,i=l.tribe,r=l.viewer,s=l.post,o=null===r||void 0===r?void 0:r.postTitleMaxLength,u=this.getInitialQuestionInput();return P.createElement(P.Fragment,null,this.shouldShowPostTab()&&e===Ye.Post&&P.createElement(U.d,null,P.createElement(pe,{ref:this.postEditorRef,titleCharLimit:o,titlePlaceholder:Object(R.Z)(P.createElement(P.Fragment,null,"Say something to ",P.createElement(z.a,{tribe:i}),"...")),tribe:i,post:s||undefined,isPostEdit:null===(a=this.props.extraProps)||void 0===a?void 0:a.isPostEdit,onQuestionMarkTyped:function(){return t.maybeShowQuestionTooltip()},toggleCanSubmit:this.handleToggleCanSubmit,onImageUploadStatusChange:this.handleImageUploadStatusChange,shouldAutosaveDraft:this.shouldAutosavePostDraft(),shouldShowContentMonetizationDisclaimer:Object(Q.e)()&&!!Object(_e.a)(i),shareData:this.state.shareData})),this.shouldShowQuestionTab()&&e===Ye.Question&&P.createElement(U.d,null,P.createElement(ye,{ref:this.questionEditorRef,borderBottom:!1,initialInput:u,initialSourceUrl:this.state.questionSourceUrl,handleInputChange:function(e){t.setState({questionInput:e}),t.setState({canSubmitQuestion:e.length>0})},handleSourceUrlChange:function(e){t.setState({questionSourceUrl:e})}})))}},{key:"submit",value:function(e,n,a,t){try{e===Ye.Post?(this.submitPost(n,a,t),this.postEditorRef.current.shouldSaveOnClose=!1):e===Ye.Question&&this.submitQuestion(n,a,t)}catch(l){Object(D.logJsError)("UniversalComposerModal-submit","Error: ".concat(l.message)),this.setState({isSubmitting:!1})}}},{key:"editPost",value:function(e){var n,t=this,l=this.props.queryResult;if(null!==l&&void 0!==l&&l.post){var i=l.post,r=null===(n=this.postEditorRef.current)||void 0===n?void 0:n.getSerializedQTextContent();r&&Object(x.c)({mutation:a.mutations.postEdit,variables:{pid:i.pid,content:r}}).then((function(n){var a,l=n.data;null!==l&&void 0!==l&&null!==(a=l.postEdit)&&void 0!==a&&a.success&&e({reason:"edit_success"}),t.setState((function(){return{isSubmitting:!1}}))}))["catch"]((function(e){Object(D.logJsError)("UniversalComposerModal-submit","Error: ".concat(e.message)),t.setState({isSubmitting:!1})}))}}},{key:"focusEditorInner",value:function(){var e;this.state.activeTabName===Ye.Post&&(null===(e=this.postEditorRef.current)||void 0===e||e.focusEditor())}},{key:"focusEditor",value:function(e){var n=this;e!==undefined?setTimeout((function(){n.focusEditorInner()}),e):this.focusEditorInner()}},{key:"parseMutationResults",value:function(e,n){switch(n){case Me.a.post:var a,t,l,i,r=e.postAdd;if(!r)throw new Error("postAdd invalid: ".concat(r));var s=r.post,o=void 0===s?null:s,u=r.share,d=void 0===u?null:u,c=r.failureType,m=r.success,g=r.contentType,p=(null===o||void 0===o||null===(a=o.tribeItem)||void 0===a?void 0:a.tribeItemId)||(null===d||void 0===d||null===(t=d.tribeItem)||void 0===t?void 0:t.tribeItemId),f=(null===o||void 0===o||null===(l=o.tribeItem)||void 0===l||null===(i=l.tribe)||void 0===i?void 0:i.shouldPromptFollowerInviteModal)||!1;return{tribeItemId:p,success:null!==m&&void 0!==m&&m,isSubmission:Object(Me.b)(g)===Me.a.tribe_submission,failureType:c,shouldPromptFollowerInviteModal:f};case Me.a.question:var b=e.questionCreate;if(!b)throw new Error("questionCreate invalid: ".concat(b));var y=b.failureType;if(y===Se.a.shouldBeTribeSubmission)return{success:!0,tribeItemId:null,isSubmission:!0,failureType:y};if(y===Se.a.shouldBeTribeContentQueueItem)return{success:!0,tribeItemId:null,isSubmission:!1,failureType:y};var v,k,h,S=b.question,F=b.success,T=(null===S||void 0===S||null===(v=S.tribeItem)||void 0===v||null===(k=v.tribe)||void 0===k?void 0:k.shouldPromptFollowerInviteModal)||!1;return{success:null!==F&&void 0!==F&&F,tribeItemId:null===S||void 0===S||null===(h=S.tribeItem)||void 0===h?void 0:h.tribeItemId,isSubmission:!1,failureType:y,shouldPromptFollowerInviteModal:T};default:qe()(!1,"Unexpected content type ".concat(n))}throw new Error("unreachable")}},{key:"getSubmissionSuccessToastContent",value:function(){var e,n=this.props.queryResult;if(!Object(N.a)("limit_submission_review_period")||Object(N.a)("limit_submission_review_period_grace_period")||null===n||void 0===n||null===(e=n.tribe)||void 0===e||!e.settings)return Object(R.Z)("Your submission was successful.");var a=n.tribe.settings.submissionReviewPeriod;return P.createElement(R.J,null,"Submission successful. The Space has"," ",P.createElement(R.o,{value:a})," ",P.createElement(R.H,{value:a},{ONE:"day to review.",OTHER:"days to review."}))}},{key:"getToastContent",value:function(e,n,a,t){var l;return n?t?this.getSubmissionSuccessToastContent():this.state.shouldQueue?Object(R.Z)(P.createElement(R.J,null,"Successfully added this",P.createElement(R.c,{value:e},(l={},T()(l,Me.a.post," post "),T()(l,Me.a.question," question "),T()(l,Me.a.hyperlink," share "),T()(l,Me.a.quora_share," share "),T()(l,Me.a.answer," answer "),T()(l,"DEFAULT"," "),l)),"to the queue.")):null:e===Me.a.question?Object(Se.c)(n,a):e===Me.a.post?(qe()(null!==a,"Failure type must be set when success is false"),an(n,Object(Ie.b)(a))):Object(R.Z)("You can't submit this content.")}},{key:"showToastAndMaybeDismissModal",value:function(e,n,a,t,l){var i=this.parseMutationResults(e,n),r=i.tribeItemId,s=i.success,o=i.isSubmission,u=void 0!==o&&o,d=i.failureType,c=i.shouldPromptFollowerInviteModal,m=void 0!==c&&c,g=this.getToastContent(n,s,d,u);if(g&&t(g,s?V.d.success:V.d.error),s){var p,f,b,y,v,k,h=null===(p=this.props.queryResult)||void 0===p||null===(f=p.tribe)||void 0===f?void 0:f.tribeId;if(u&&h&&function(e){Object(x.e)({query:tn,variables:{tribeId:e},fetchPolicy:"network-only"})}(h),n===Me.a.post)null===(v=this.postEditorRef.current)||void 0===v||v.onSubmit(),null===(k=this.postEditorRef.current)||void 0===k||k.clearDraft();var S=m&&!this.state.shouldQueue&&!(null!==(b=this.props.queryResult)&&void 0!==b&&null!==(y=b.tribe)&&void 0!==y&&y.viewerHasSentFollowInvites),F=l?Xe.Queue:n===Me.a.post?Xe.Post:Xe.Question;a({reason:"submit_success",tribeItemId:null!==r&&void 0!==r?r:undefined,showInviteModal:S,submitType:F,toastContent:g}),h&&function(e){Object(x.e)({query:ln,variables:{tribeId:e},fetchPolicy:"network-only"})}(h)}}},{key:"submitPost",value:function(e,n,t){var l=this,i=this.props.queryResult;if(null!==i&&void 0!==i&&i.tribe){var r=i.tribe;qe()(null!==this.postEditorRef.current,"No post editor found");var s=this.postEditorRef.current.getSerializedQTextTitle(!0),o=this.postEditorRef.current.getSerializedQTextContent(!0);Object(x.c)({mutation:a.mutations.postAdd,variables:{tribeId:r.tribeId,title:s,content:o,shouldQueue:t}}).then((function(a){var i=a.data;l.setState((function(){return{isSubmitting:!1}})),l.showToastAndMaybeDismissModal(i,Me.a.post,e,n,t)}))["catch"]((function(e){Object(D.logJsError)("UniversalComposerModal-submit","Error: ".concat(e.message)),l.setState({isSubmitting:!1})}))}}},{key:"submitQuestion",value:function(e,n,t){var l=this,i=this.props.queryResult;if(null!==i&&void 0!==i&&i.tribe){var r=i.tribe,s=this.state.questionInput,o=this.state.questionSourceUrl;Object(x.c)({mutation:a.mutations.questionCreate,variables:{titlePlaintext:s,sourceUrl:o,sourceLocation:ke.c.tribes,limitedUserDistro:!1,targetType:Object(Me.c)(Me.a.tribe),targetOid:r.tribeId,shouldCheckDuplicate:!1,shouldCheckCorrection:!1,shouldQueue:t},onError:function(){l.setState((function(){return{isSubmitting:!1}})),n.genericError()}}).then((function(a){var i=a.data;l.setState((function(){return{isSubmitting:!1}})),l.showToastAndMaybeDismissModal(i,Me.a.question,e,n,t),l.shouldAutosavePostDraft()&&l.state.showQuestionTooltip&&l.clearPostDraft()}))["catch"]((function(e){Object(D.logJsError)("UniversalComposerModal-submit","Error: ".concat(e.message)),l.setState({isSubmitting:!1})}))}}},{key:"clearPostDraft",value:function(){if(this.postEditorRef.current)this.postEditorRef.current.clearDraft();else{var e,n=null===(e=this.props.queryResult)||void 0===e?void 0:e.tribe;if(!n)return;Object(x.c)({mutation:pe.mutations.clearDraft,variables:{tribeId:n.tribeId}})}}},{key:"shouldShowPostTab",value:function(){var e,n;if(null!==(e=this.props.extraProps)&&void 0!==e&&e.isPostEdit)return!0;if(null===(n=this.props.queryResult)||void 0===n||!n.tribe)return null;var a=this.props.queryResult.tribe.viewerContentTypesCanAddInTribe;return a.includes(Object(Me.c)(Me.a.quora_share))||a.includes(Object(Me.c)(Me.a.post))}},{key:"shouldShowQuestionTab",value:function(){var e,n;if(null===(e=this.props.queryResult)||void 0===e||!e.tribe)return null;var a=(null===(n=this.props.queryResult)||void 0===n?void 0:n.tribe).viewerContentTypesCanAddInTribe;return(void 0===a?[]:a).includes(Object(Me.c)(Me.a.question))}},{key:"getInitialContentTypeTab",value:function(){return this.props.extraProps.defaultTab?this.props.extraProps.defaultTab:this.shouldShowPostTab()?Ye.Post:Ye.Question}},{key:"isPostEditorEmpty",value:function(){var e;return!this.shouldShowPostTab()||(null===(e=this.postEditorRef.current)||void 0===e?void 0:e.isTitleAndBodyEmpty())}},{key:"renderHeader",value:function(e){var n,a,t,l=this;if(null===(n=this.props.queryResult)||void 0===n||!n.tribe)return null;var i=this.state.activeTabName,r=P.createElement(U.i,{alignItems:"center",justifyContent:Object(Q.b)()?"center":undefined},P.createElement(Ee.a,{name:"Pen"}),P.createElement(U.r,{fontSize:"14px",ml:"tiny"},Object(R.Z)(P.createElement(R.J,{context:R.V.noun},"Post")))),s=P.createElement(U.i,{alignItems:"center",justifyContent:Object(Q.b)()?"center":undefined},P.createElement(Ee.a,{name:"AskQuestion"}),P.createElement(U.r,{fontSize:"14px",ml:"tiny"},Object(R.Z)(P.createElement(R.J,{context:R.V.noun},"Question"))));if(null!==(a=this.props.extraProps)&&void 0!==a&&a.isPostEdit||null!==(t=this.props.extraProps)&&void 0!==t&&t.isDraftEdit||!this.shouldShowQuestionTab())return r;if(this.shouldShowPostTab()){var o=[];return this.shouldShowPostTab()&&o.push({label:Object(R.Z)(P.createElement(R.J,{context:R.V.noun},"Post")),subLabel:Object(R.Z)("Post what's on your mind"),onSelected:function(){l.setState((function(e){return{activeTabName:Ye.Post,hasCopiedPostInputToQuestionInput:e.hasCopiedPostInputToQuestionInput||e.showQuestionTooltip&&e.activeTabName===Ye.Question,showQuestionTooltip:!1,shareData:undefined}}))}}),this.shouldShowPostTab()&&o.push({label:Object(R.Z)(P.createElement(R.J,{context:R.V.noun},"Question")),subLabel:Object(R.Z)("Ask others for answers"),onSelected:this.blockActionIfImageIsUploading((function(){l.state.showQuestionTooltip&&!l.state.hasCopiedPostInputToQuestionInput&&Object(q.a)("scribe_only",{scribe_category:"universal_composer_switch_to_question_tab_after_question_tooltip",log_viewer:!0,platform:nn()}),l.setState({activeTabName:Ye.Question,shareData:undefined})}),e)}),P.createElement(U.i,{alignItems:"center",justifyContent:Object(Q.b)()?this.shouldRenderContentMonetizationDisclaimer()?"space-between":"center":undefined},this.shouldRenderContentMonetizationDisclaimer()&&P.createElement(U.i,null),P.createElement(Fe.a,{menuItems:o,alignment:"auto"},(function(e){return P.createElement(we.a,{condition:l.state.showQuestionTooltip,wrapper:function(e){return P.createElement(Ce.a,{text:Object(R.Z)("Is this a question?"),subText:Object(R.Z)("Asking a question means you will get more answers"),placement:"bottom",hideTime:null,isDismissable:!0,hideOnAnchorClick:!0,displayOnMobile:!0,initiallyVisible:!0,size:"large",variant:"blue",trigger:"none"},e)}},P.createElement(Te.a,{icon:P.createElement(Ee.a,{name:i===Ye.Post?"Pen":"AskQuestion"}),text:i===Ye.Post?Object(R.Z)(P.createElement(R.J,{context:R.V.noun},"Post")):Object(R.Z)(P.createElement(R.J,{context:R.V.noun},"Question")),onClick:e,chevronSuffix:"down_flippable"}))})),this.shouldRenderContentMonetizationDisclaimer()&&P.createElement(Le,{tribe:this.props.queryResult.tribe}))}return s}},{key:"shouldRenderContentMonetizationDisclaimer",value:function(){var e=this.props.queryResult.tribe;return!Object(Q.e)()&&(Object(Q.b)()&&Object(_e.a)(e)&&this.state.activeTabName===Ye.Post)}},{key:"renderPrimaryButton",value:function(e){var n=this,a=this.props,t=a.dismissModalFlow,l=a.triggerTransition,i=a.flowData,r=a.extraProps,s=a.queryResult;if(null===s||void 0===s||!s.tribe)return null;var o=s.tribe.viewerCanCreateContentQueueItem,u=this.state.activeTabName,d=null;d=r.canMonetize&&!r.isPostEdit&&u===Ye.Post?{text:Object(R.W)("Next"),onClick:function(){var e,a,t;i.serializedQTextTitle=null===(e=n.postEditorRef.current)||void 0===e?void 0:e.getSerializedQTextTitle(!0),i.serializedQTextContent=null===(a=n.postEditorRef.current)||void 0===a?void 0:a.getSerializedQTextContent(!0),null===(t=n.postEditorRef.current)||void 0===t||t.onSubmit(),l()}}:r.isPostEdit?{text:Object(R.Z)("Update"),onClick:function(){n.state.isSubmitting||n.setState({isSubmitting:!0},(function(){n.editPost(t)}))}}:o?{leftText:this.getTranslatedSubmitButtonLabel(),leftOnClick:function(){n.state.isSubmitting||n.setState({isSubmitting:!0},(function(){n.submit(u,t,e,n.state.shouldQueue)}))},rightIcon:P.createElement(Ee.a,{name:"ChevronDown"}),forceRightIconSize:16,isSplitButton:!0,rightPartHasPopoverMenu:!0,overflowMenuItems:this.renderOverflowMenuItems(e)}:{text:this.getTranslatedSubmitButtonLabel(),onClick:function(){n.state.isSubmitting||n.setState({isSubmitting:!0},(function(){n.submit(u,t,e,n.state.shouldQueue)}))}};var c=this.state.activeTabName===Ye.Post&&!this.state.canSubmitPost||this.state.imageUploadStatus===ie.b.uploading||this.state.activeTabName===Ye.Question&&!this.state.canSubmitQuestion;return Object.assign({},d,{disabled:this.state.isSubmitting||c,useHaptics:!0})}},{key:"getTranslatedSubmitButtonLabel",value:function(){var e=this.props.queryResult.tribe;if(!e)throw new Error("invalid tribe ".concat(e));return!e.viewerCanContribute?Object(R.Z)(P.createElement(R.J,{context:R.V.verb},"Submit")):this.state.activeTabName===Ye.Post?Object(R.Z)(P.createElement(R.J,{context:R.V.verb},"Post")):Object(R.Z)(P.createElement(R.J,{context:R.V.verb},"Ask"))}},{key:"render",value:function(){var e=this,n=this.props,a=n.dismissModalFlow,t=n.queryResult;if(null===t||void 0===t||!t.tribe)throw Error("queryResult and Tribe info are expected for UniversalComposerModal.");var l=t.tribe,i=t.viewer,r=!l.viewerCanContribute,s=this.state.activeTabName,o=r?{buttonComponent:P.createElement(B.j,{standaloneModalProps:{containerProps:{mobileHeight:"45%"},modalProps:{name:"TribeSubmissionRulesModal",queryVariables:{tribeId:l.tribeId},desktopWidth:650,extraProps:{showContentMonetizationDisclaimer:this.state.activeTabName===Ye.Post&&Object(_e.b)(Me.a.post,l)}},postDismissCallback:function(){e.focusEditor(300)}}},(function(e){var n=e.openStandaloneModal;return P.createElement(Te.a,{key:"rules",onClick:function(e){e.preventDefault(),n()},mr:"small",icon:P.createElement(Ee.a,{name:"Info"}),text:Object(R.Z)("Rules"),size:Object(Q.e)()?"small":"regular"})}))}:null;return P.createElement(V.b,null,(function(n){var t;return P.createElement(B.f,{navButton:"close",primaryButtonProps:e.renderPrimaryButton(n),secondaryButtonProps:o,hasPadding:!1,navButtonProps:{onClick:function(){var t,l,i,r=null===(t=e.postEditorRef.current)||void 0===t?void 0:t.getQTextContent(),s=!!r&&!Object(se.p)(r)||(null===(l=e.postEditorRef.current)||void 0===l?void 0:l.isDirty());null!==(i=e.props.extraProps)&&void 0!==i&&i.isPostEdit||!s||!Object(Q.e)()||e.state.activeTabName!==Ye.Post?a({reason:"close"}):Object(j.a)("showActionSheet",{title:"",buttonTitles:[Object(R.Z)("Clear Draft"),Object(R.Z)("Save Draft"),Object(R.Z)("Keep Editing")],destructiveButtonIndex:0},(function(t){var l,i=t.buttonIndex,r=function(e){Object(Q.g)()?a({reason:e}):setTimeout((function(){a({reason:e})}),500)};0===i?(null===(l=e.postEditorRef.current)||void 0===l||l.clearDraft(),r("close_clear_draft")):1===i&&e.blockActionIfImageIsUploading((function(){var n;null===(n=e.postEditorRef.current)||void 0===n||n.saveDraft(),r("close_save_draft")}),n)()}))}},header:null!==(t=e.renderHeader(n))&&void 0!==t?t:undefined,footerExtra:Object(Q.b)()?P.createElement(U.d,{id:"modal_footer_portal_container",width:"100%",height:"38px"}):undefined,displayFooterExtraInline:!0},P.createElement(U.d,{px:"medium",pt:"small"},e.state.activeTabName===Ye.Post&&P.createElement($e,{viewer:i,onClose:function(){var n;return null===(n=e.postEditorRef.current)||void 0===n?void 0:n.focusEditor()}}),P.createElement(U.d,{mb:Object(Q.g)()?"medium":"small"},P.createElement(en.a,{user:i.user,tribeId:null===l||void 0===l?void 0:l.tribeId})),e.renderBody(s)))}))}}]),a}(P.Component);rn.queries={onLoad:void 0!==Je?Je:Je=i},rn.mutations={postAdd:void 0!==We?We:We=l,postEdit:void 0!==Ge?Ge:Ge=t,questionCreate:he.QUESTION_CREATION_MUTATION};n["default"]=rn},ZR8f:function(e,n,a){"use strict";a.r(n),a.d(n,"default",(function(){return B}));var t={};a.r(t),a.d(t,"default",(function(){return p}));var l=a("8ZkK"),i=a.n(l),r=a("tQZz"),s=a.n(r),o=a("10u2"),u=a.n(o),d=a("MMxs"),c=a.n(d),m=function(){var e=[{kind:"LocalArgument",name:"aid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"qid",type:"BigInt",defaultValue:null},{kind:"LocalArgument",name:"isAnswerEdit",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"hasContextualTribe",type:"Boolean!",defaultValue:null}],n={kind:"ScalarField",alias:"businessProfileAdFeaturesAvailable",name:"booleanFeature",args:[{kind:"Literal",name:"name",value:"BusinessProfileAdFeaturesAvailable"}],storageKey:'booleanFeature(name:"BusinessProfileAdFeaturesAvailable")'},a=[{kind:"Literal",name:"acceptedOnly",value:!0},{kind:"Literal",name:"currentNetworkMembersOnly",value:!0},{kind:"Literal",name:"paidSubscribersOnly",value:!0}],t={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"isBusiness",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"logoUrl",args:null,storageKey:null},u={kind:"ScalarField",alias:null,name:"hasPaidFeaturesAccess",args:null,storageKey:null},d=[{kind:"Variable",name:"qid",variableName:"qid"}],c={kind:"ScalarField",alias:null,name:"qid",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"viewerHasSubmissionToQuestion",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},p={kind:"LinkedField",alias:null,name:"viewerDraft",storageKey:null,args:null,concreteType:"AnswerDraft",plural:!1,selections:[l,r,g]},f={kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},y={kind:"ScalarField",alias:null,name:"submissionReviewPeriod",args:null,storageKey:null},v={kind:"LinkedField",alias:null,name:"settings",storageKey:null,args:null,concreteType:"TribeSettings",plural:!1,selections:[y]},k={kind:"FragmentSpread",name:"TribeQuestionAskedInTribeHeader_tribe",args:null},h={kind:"FragmentSpread",name:"TribeContextProvider_tribe",args:null},S={kind:"FragmentSpread",name:"SubmissionRulesBanner_tribe",args:null},F={name:"PaidSubscriptionEnabledForProducer",value:"true"},T={kind:"ScalarField",alias:null,name:"producerBundleStatus",args:null,storageKey:null},E={kind:"ScalarField",alias:null,name:"producerDirectStatus",args:null,storageKey:null},w={kind:"ScalarField",alias:null,name:"viewerCanContribute",args:null,storageKey:null},C={kind:"ScalarField",alias:null,name:"viewerCanAdmin",args:null,storageKey:null},_={kind:"ScalarField",alias:null,name:"viewerCanModerate",args:null,storageKey:null},K={kind:"Condition",passingValue:!0,isCustom:!0,customValue:F,condition:"onFeature",selections:[T,E,w,C,_,{kind:"FragmentSpread",name:"ContentMonetizationDisclaimerButtonWrapper_tribe",args:null}]},A={kind:"FragmentSpread",name:"AnswerEditorHeader_question",args:null},O={kind:"FragmentSpread",name:"QuestionTitle_question",args:null},L=[{kind:"Variable",name:"aid",variableName:"aid"}],M={kind:"ScalarField",alias:null,name:"aid",args:null,storageKey:null},I={kind:"ScalarField",alias:null,name:"objectiveType",args:null,storageKey:null},P={kind:"ScalarField",alias:null,name:"cta",args:null,storageKey:null},q={kind:"ScalarField",alias:null,name:"landingPageUrl",args:null,storageKey:null},x={kind:"ScalarField",alias:null,name:"leadGenFormId",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"translatedString",args:null,storageKey:null},D={kind:"LinkedField",alias:null,name:"businessCredential",storageKey:null,args:null,concreteType:"BusinessCredential",plural:!1,selections:[l,r,j]},Q=[{kind:"Variable",name:"tribeId",variableName:"tribeId"}],N={kind:"LinkedField",alias:null,name:"businessProfiles",storageKey:"businessProfiles(acceptedOnly:true,currentNetworkMembersOnly:true,paidSubscribersOnly:true)",args:a,concreteType:"BusinessProfile",plural:!0,selections:[t,l]},R={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},V={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},U={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},B={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},z={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},H={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},Z=[r,l,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],J={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:Z},W={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:Z},G={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerBundleSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"consumerBundleActive",args:null,storageKey:null}]},Y={kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null},X={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"annotate_with_ids",value:"true"},condition:"onGate",selections:[Y]},$={kind:"LinkedField",alias:null,name:"settings",storageKey:null,args:null,concreteType:"TribeSettings",plural:!1,selections:[y,l]},ee={kind:"ScalarField",alias:null,name:"iconUrl",args:[{kind:"Literal",name:"size",value:100}],storageKey:"iconUrl(size:100)"},ne={kind:"ScalarField",alias:"iconRetinaUrl",name:"iconUrl",args:[{kind:"Literal",name:"size",value:200}],storageKey:"iconUrl(size:200)"},ae={kind:"ScalarField",alias:null,name:"viewerCanCreateContentQueueItem",args:null,storageKey:null},te={kind:"ScalarField",alias:null,name:"viewerCanCreateAnswerSubmissions",args:null,storageKey:null},le={kind:"ScalarField",alias:null,name:"submissionRules",args:null,storageKey:null},ie={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"rd_only_tribe_theme_color_on_names",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"colorHex",args:null,storageKey:null}]},re={kind:"Condition",passingValue:!0,isCustom:!0,customValue:F,condition:"onFeature",selections:[T,E,w,C,_]},se={kind:"ScalarField",alias:null,name:"tribeItemId",args:null,storageKey:null},oe={kind:"LinkedField",alias:null,name:"viewerDisplayCredential",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,r,{kind:"ScalarField",alias:null,name:"credentialId",args:null,storageKey:null},j]},ue={kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[l,r,i,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,r,i,H,J,W,R,V,U,B,z,s,X,G]},N]},de={kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},ce={kind:"ScalarField",alias:null,name:"isPartnerQuestion",args:null,storageKey:null},me={kind:"LinkedField",alias:null,name:"asker",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,r,{kind:"ScalarField",alias:null,name:"isEmployee",args:null,storageKey:null}]},ge={kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"nid",args:null,storageKey:null},l]};return{kind:"Request",fragment:{kind:"Fragment",name:"AnswerEditorModalQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[n,{kind:"LinkedField",alias:null,name:"businessProfiles",storageKey:"businessProfiles(acceptedOnly:true,currentNetworkMembersOnly:true,paidSubscribersOnly:true)",args:a,concreteType:"BusinessProfile",plural:!0,selections:[t]},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,i,r,s,{kind:"LinkedField",alias:null,name:"businessProfile",storageKey:null,args:null,concreteType:"BusinessProfile",plural:!1,selections:[i,t,o,u]},{kind:"FragmentSpread",name:"ComposerHeader_user",args:null},{kind:"FragmentSpread",name:"UserPhoto_user",args:null},{kind:"FragmentSpread",name:"UserName_user",args:null}]}]},{kind:"Condition",isCustom:!1,customValue:null,passingValue:!1,condition:"isAnswerEdit",selections:[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:d,concreteType:"Question",plural:!1,selections:[l,r,c,m,p,{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,r,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[l,f,r,b,v,k,h,S,K]}]},A,{kind:"FragmentSpread",name:"AnswerEditorMutation_question",args:null},O]}]},{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"isAnswerEdit",selections:[{kind:"LinkedField",alias:null,name:"answer",storageKey:null,args:L,concreteType:"Answer",plural:!1,selections:[l,r,M,g,{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[l,r,c,O,A]},p,{kind:"LinkedField",alias:null,name:"businessAnswer",storageKey:null,args:null,concreteType:"BusinessAnswer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"businessProfile",storageKey:null,args:null,concreteType:"BusinessProfile",plural:!1,selections:[i,t,o]},{kind:"LinkedField",alias:null,name:"businessCustomAction",storageKey:null,args:null,concreteType:"BusinessCustomAction",plural:!1,selections:[I,P,q,x]}]},D,{kind:"FragmentSpread",name:"AnswerEditorMutation_answer",args:null}]}]},{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"hasContextualTribe",selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:Q,concreteType:"Tribe",plural:!1,selections:[b,f,v,K,k,h,S]}]}]},operation:{kind:"Operation",name:"AnswerEditorModalQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[n,N,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,i,r,R,V,U,B,z,H,J,W,s,{kind:"LinkedField",alias:null,name:"businessProfile",storageKey:null,args:null,concreteType:"BusinessProfile",plural:!1,selections:[i,t,o,u,l]},G,X]},l]},{kind:"Condition",passingValue:!1,isCustom:!1,customValue:null,condition:"isAnswerEdit",selections:[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:d,concreteType:"Question",plural:!1,selections:[l,r,c,m,p,{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,r,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[l,f,r,b,$,t,ee,ne,ae,te,w,le,T,E,ie,re]},se]},oe,ue,de,ce,me,Y,b,ge,{kind:"Condition",passingValue:!0,isCustom:!0,customValue:F,condition:"onFeature",selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[T,l]},l]}]}]}]},{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"isAnswerEdit",selections:[{kind:"LinkedField",alias:null,name:"answer",storageKey:null,args:L,concreteType:"Answer",plural:!1,selections:[l,r,M,g,{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[l,r,c,de,ce,me,Y,{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,r,se,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[f,l]}]},ue,b,ge,oe,{kind:"LinkedField",alias:null,name:"viewerDraft",storageKey:null,args:null,concreteType:"AnswerDraft",plural:!1,selections:[l,r]}]},p,{kind:"LinkedField",alias:null,name:"businessAnswer",storageKey:null,args:null,concreteType:"BusinessAnswer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"businessProfile",storageKey:null,args:null,concreteType:"BusinessProfile",plural:!1,selections:[i,t,o,l]},{kind:"LinkedField",alias:null,name:"businessCustomAction",storageKey:null,args:null,concreteType:"BusinessCustomAction",plural:!1,selections:[I,P,q,x,l]},l]},D,{kind:"ScalarField",alias:null,name:"hasDisclaimer",args:null,storageKey:null}]}]},{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"hasContextualTribe",selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:Q,concreteType:"Tribe",plural:!1,selections:[b,f,$,l,r,t,ee,ne,ae,te,w,le,re,ie]}]}]},params:{operationKind:"query",name:"AnswerEditorModalQuery",id:"20fc520a6ebd0537bf3b0c054d5c0549994926f9a8a49837f4477a9a03f329e6",text:null,metadata:{}}}}();m.hash="99be691a055fe5e093f85a94b7621127";var g,p=m,f=a("q1tI"),b=a("LNH1"),y=a("nwxp"),v=a("AaDK"),k=a("Gnru"),h=a("SW3P"),S=a("nW6E"),F=a("AFGi"),T=a("VwdU"),E=a("Kk/C"),w=a("zm58"),C=a("jufJ"),_=a("RA+f"),K=a("bqYg"),A=a("OMLc"),O=a("QwTT"),L=a("zLpq"),M=a("6pmM"),I=a("UDrg"),P=a("QK84"),q=a("zv2T"),x=a("szkJ"),j=a("qU4x"),D=a("vN+2"),Q=a.n(D),N=a("oigA"),R=a("Vx0C"),V=a("YKuC"),U=function(e){var n=e.isAnswerEdit,a=e.pageFramework,t=e.sourceComponent,l=e.clientLogMetadata,i=void 0===l?{}:l;return f.useEffect((function(){n||Object(k.logEvent)(i,"AnswerAddModalOpen",{})}),[i,n]),f.useEffect((function(){Object(v.a)("answer_editor_opened",{pageFramework:a,editorFramework:"react",editorType:"modal",sourceComponent:t})}),[a,t]),null},B=function(e){u()(a,e);var n=c()(a);function a(e){var t,l,r,s,o,u,d,c,m;i()(this,a),(m=n.call(this,e)).stickyButtonInfo=void 0,m.allowEditBusinessCredentials=function(){var e,n,a=m.props.queryResult.viewer,t=void 0===a?null:a,l=Boolean(null===t||void 0===t||null===(e=t.businessProfiles)||void 0===e?void 0:e.length),i=null===t||void 0===t||null===(n=t.user)||void 0===n?void 0:n.isBusiness;return Object(h.a)("enable_business_services")&&(l||i)};var g=m.props.queryResult,p=g.answer,f=g.viewer,b=null!==(t=null===p||void 0===p||null===(l=p.businessAnswer)||void 0===l?void 0:l.businessProfile)&&void 0!==t?t:null===f||void 0===f||null===(r=f.user)||void 0===r?void 0:r.businessProfile,y=null===p||void 0===p||null===(s=p.businessAnswer)||void 0===s?void 0:s.businessCustomAction;return m.state={isSubmitting:!1,content:null,businessUid:null!==(o=null===b||void 0===b?void 0:b.uid)&&void 0!==o?o:null,businessCredential:null!==(u=null===p||void 0===p?void 0:p.businessCredential)&&void 0!==u?u:null,businessName:null!==(d=null===b||void 0===b?void 0:b.name)&&void 0!==d?d:null,businessLogoUrl:null!==(c=null===b||void 0===b?void 0:b.logoUrl)&&void 0!==c?c:null,businessCustomAction:y?Object.assign({},y,{cta:Object(N.b)(y.cta),objectiveType:Object(x.b)(y.objectiveType)}):O.a.defaultCustomAction},m}return s()(a,[{key:"getStartingContent",value:function(){var e=this.props,n=e.queryResult,a=n.question,t=n.answer,l=e.extraProps.isAnswerEdit,i=(null===t||void 0===t?void 0:t.viewerDraft)||(null===a||void 0===a?void 0:a.viewerDraft);if(!i)return Object(F.h)();if(null!==i&&void 0!==i&&i.content){var r=JSON.parse(i.content);if(!Object(F.p)(r))return r}return l&&t&&t.content?JSON.parse(t.content):Object(F.h)()}},{key:"getEditorKey",value:function(){var e=this.props,n=e.queryResult,a=n.question,t=void 0===a?null:a,l=n.answer,i=void 0===l?null:l,r=e.extraProps.isAnswerEdit,s=r?"answer":"question",o=r?null===i||void 0===i?void 0:i.aid:null===t||void 0===t?void 0:t.qid;return"".concat(s,"-").concat(o)}},{key:"renderMonetizationStickyButton",value:function(){var e,n=this,a=this.props.queryResult,t=a.question,l=a.tribe,i=(null===t||void 0===t||null===(e=t.tribeItem)||void 0===e?void 0:e.tribe)||l;return!Object(y.b)()&&i&&Object(P.a)(i)?f.createElement(j.a,{tribe:i},(function(e){var a=e.stickyButtonInfo;return n.stickyButtonInfo=a,null})):null}},{key:"isBusinessAnswer",value:function(){var e,n,a=this.props.queryResult,t=a.question,l=void 0===t?null:t,i=a.tribe,r=a.viewer,s=(null===l||void 0===l||null===(e=l.tribeItem)||void 0===e?void 0:e.tribe)||i,o=null===r||void 0===r||null===(n=r.user)||void 0===n?void 0:n.businessProfile;return Object(h.a)("enable_business_services")&&this.state.businessUid&&(!o||(null===o||void 0===o?void 0:o.hasPaidFeaturesAccess))&&!s}},{key:"render",value:function(){var e,n=this,a=this.props,t=a.queryResult,l=t.question,i=void 0===l?null:l,r=t.answer,s=void 0===r?null:r,o=t.tribe,u=t.viewer,d=a.dismissModalFlow,c=a.extraProps,m=c.isAnswerEdit,g=c.pageFramework,p=c.sourceComponent,h=c.clientLogMetadata,F=void 0===h?"{}":h,x=c.editCredentialHint,j=c.canMonetize,D=a.triggerTransition,N=a.flowData,B=(null===i||void 0===i||null===(e=i.tribeItem)||void 0===e?void 0:e.tribe)||o,z=this.state,H=z.isSubmitting,Z=z.content,J=m?null===s||void 0===s?void 0:s.question:i,W=null===u||void 0===u?void 0:u.businessProfileAdFeaturesAvailable,G=s?{type:I.a.answer,oid:s.aid}:i?{type:I.a.question,oid:i.qid}:undefined;return f.createElement(k.ClientLogProvider,{value:JSON.parse(F)},f.createElement(T.a,{condition:!!B,wrapper:function(e){return B?f.createElement(K.b,{tribe:B},n.renderMonetizationStickyButton(),e):e}},f.createElement(f.Fragment,null,f.createElement(U,{isAnswerEdit:m,pageFramework:g,sourceComponent:p,clientLogMetadata:F}),f.createElement(R.b,{question:i,answer:s,isAnswerEdit:m},(function(e){var a=e.saveDraft,t=e.submitAnswer,l=e.isTribeSubmission;return f.createElement(b.b,null,(function(e){var i;return f.createElement(w.a,{editorKey:n.getEditorKey(),header:f.createElement(_.d,{bg:"white",borderBottom:!1},f.createElement(_.d,{px:"medium"},f.createElement(M.a,{user:null===u||void 0===u?void 0:u.user,tribeId:null===B||void 0===B?void 0:B.tribeId}),J&&f.createElement(E.a,{question:J}),(Object(y.b)()||n.allowEditBusinessCredentials())&&J&&f.createElement(V.a,{question:J,isAnswerEdit:m,businessUid:null!==(i=n.state.businessUid)&&void 0!==i?i:undefined,businessCredential:n.state.businessCredential,handleEditBusinessCredential:function(e){var a=e.businessUid,t=e.businessCredential,l=e.businessName,i=e.businessLogoUrl;n.setState((function(e){return{businessUid:a,businessCredential:t,businessName:l,businessLogoUrl:i,businessCustomAction:a===e.businessUid?e.businessCustomAction:O.a.defaultCustomAction}}))},editCredentialHint:x,pt:"medium"}))),footer:n.isBusinessAnswer()?f.createElement(O.a,{businessUid:n.state.businessUid,businessName:n.state.businessName,businessProfileAdFeaturesAvailable:W,businessLogoUrl:n.state.businessLogoUrl,businessCustomAction:n.state.businessCustomAction,onCTAChange:function(e){return n.setState((function(){return{businessCustomAction:e}}))},isAnswerEdit:m}):undefined,saveDraft:function(e,n){return a(e,n)},primaryButtonText:j&&!m?Object(C.W)("Next"):l&&B?Object(C.Z)("Submit"):f.createElement(C.J,{context:C.V.verb},"Post"),onPrimaryButtonClick:function(i){if(Object(v.a)("answer_editor_modal_submit",{qid:null===J||void 0===J?void 0:J.qid,pageFramework:g,editorFramework:"react",sourceComponent:p}),j&&!m)return a(i,!0),N.businessUid=n.state.businessUid,N.businessCredential=n.state.businessCredential,N.businessCustomAction=n.state.businessCustomAction,void D();n.setState((function(){return{isSubmitting:!0}})),H||t(i,n.state.businessUid,n.state.businessCredential,n.state.businessCustomAction).then((function(a){var t,i;n.setState((function(){return{isSubmitting:!1}}));var r=null!==(t=null===a||void 0===a||null===(i=a.data)||void 0===i?void 0:i.answerSubmit)&&void 0!==t?t:{},s=r.errorType,o=r.success,u=r.redirectUrl,c=r.msg;if(o)if(l){var m,g=null===B||void 0===B||null===(m=B.settings)||void 0===m?void 0:m.submissionReviewPeriod;d({submission:!0,submissionReviewPeriod:g})}else d({redirectUrl:u,submission:!0});else"add_answer_block"===s?d({submission:!1,shouldOpenUnconfirmedEmailModal:!0}):s?e(f.createElement(R.a,{errorType:s}),b.d.error):c&&e(Object(C.Y)(c),b.d.error)}))},secondaryButtonProps:l&&B&&{buttonComponent:f.createElement(S.j,{standaloneModalProps:{containerProps:{mobileHeight:"45%"},modalProps:{name:"TribeSubmissionRulesModal",queryVariables:{tribeId:B.tribeId},desktopWidth:650,extraProps:{showContentMonetizationDisclaimer:Object(P.b)(I.a.answer,B)}}}},(function(e){var n=e.openStandaloneModal;return f.createElement(L.a,{key:"rules",onClick:function(){n()},mr:"small",icon:f.createElement(A.a,{name:"Info"}),text:Object(C.Z)("Rules"),size:Object(y.e)()?"small":"regular"})}))},onNavButtonClick:function(){return d({submission:!1})},navButton:"close",startingContent:n.getStartingContent(),titleText:Object(C.Z)(m?"Edit your answer":""),onFirstChange:function(){return Object(v.a)("answer_editor_modal_first_type",{pageFramework:g,editorFramework:"react",sourceComponent:p})},primaryButtonDisabled:H||Object(q.d)()&&(null===Z||Z.isEmpty()),placeholder:Object(C.Z)("Write your answer"),contentContext:G,useLightWeightContentStyleToolBar:!0,stickyButtonInfo:n.stickyButtonInfo,onEditorMeaningfulChange:Object(q.d)()?function(e){return n.setState({content:e})}:Q.a})}))})))))}}]),a}(f.Component);B.queries={onLoad:void 0!==g?g:g=t},B.displayName="AnswerEditorModal"},"ZXE+":function(e,n,a){"use strict";a.d(n,"a",(function(){return t})),a.d(n,"b",(function(){return l}));function t(e,n){return e.length<n?e:e.substring(0,n-1)+"\u2026"}function l(e){return e.includes("[math]")&&e.includes("[/math]")}},ZsYs:function(e,n,a){"use strict";a.r(n),a.d(n,"customActionFlowTransition",(function(){return f}));var t=a("8ZkK"),l=a.n(t),i=a("tQZz"),r=a.n(i),s=a("10u2"),o=a.n(s),u=a("MMxs"),d=a.n(u),c=a("nW6E"),m=a("q1tI"),g=a("szkJ"),p=a("oigA"),f=function(e){var n=e.showNextModal,a=e.flowData,t=a.nextModal,l=a.initialValues.businessUid,i={name:t};"BusinessServicesCustomActionLeadGenStep"===t&&(i.queryVariables={businessUid:l}),n({modalProps:i})},b=function(e){o()(a,e);var n=d()(a);function a(){return l()(this,a),n.apply(this,arguments)}return r()(a,[{key:"render",value:function(){var e=this.props,n=e.children,a=e.showProfileCustomAction,t=e.profileImageUrl,l=e.updateCustomAction,i=e.objectiveType,r=e.cta,s=void 0===r?p.a.apply_now:r,o=e.landingPageUrl,u=e.leadGenFormId,d=e.businessUid,f=e.businessName,b=e.customActionPlacement,y=e.businessProfileAdFeaturesAvailable;return m.createElement(c.d,{modalFlowProps:{transitionName:"customActionFlowTransition",containerProps:{easyDismissEnabled:!0},initialFlowData:{nextModal:"BusinessServicesCustomActionInitialStep",initialValues:{profileImageUrl:t,objectiveType:null!==i&&void 0!==i?i:a?g.a.profile:g.a.traffic,cta:s,landingPageUrl:o,leadGenFormId:u,businessUid:d,businessName:f},showProfileCustomAction:Boolean(a),customActionPlacement:b,businessProfileAdFeaturesAvailable:y},postDismissCallback:function(e){if(e){var n=e.objectiveType,a=e.cta,t=e.landingPageUrl,i=e.leadGenFormId;l({objectiveType:n,cta:a,landingPageUrl:t,leadGenFormId:i})}},initialModalProps:{name:"BusinessServicesCustomActionInitialStep"}},shouldPrefetch:!0},(function(e){var a=e.openModalFlow;return n({openModalFlow:a})}))}}]),a}(m.Component);b.displayName="CustomActionFlow",n["default"]=b},bslc:function(e,n,a){"use strict";var t={};a.r(t),a.d(t,"default",(function(){return b}));var l,i=a("8ZkK"),r=a.n(i),s=a("tQZz"),o=a.n(s),u=a("10u2"),d=a.n(u),c=a("MMxs"),m=a.n(c),g=a("rhDr"),p=a.n(g),f={kind:"Fragment",name:"QuestionAnswerCount_question",type:"Question",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"answerCount",args:null,storageKey:null}],hash:"10f534cb260ae9c021a6e2d00c0e113f"},b=f,y=a("q1tI"),v=a("RA+f"),k=a("jufJ"),h=a("VyO/"),S=function(e){var n=e.size,a=void 0===n?"regular":n,t=e.count,l=p()(e,["size","count"]);return t>0?y.createElement(v.r,Object.assign({fontSize:a,color:"gray_light"},l),y.createElement(k.J,null,y.createElement(k.o,{value:t}),y.createElement(k.H,{value:t},{ONE:" Answer",OTHER:" Answers"}))):y.createElement(v.r,{fontSize:a,color:"gray_light"},y.createElement(k.J,null,"No answers yet"))};S.displayName="AnswerCount";var F=function(e){d()(a,e);var n=m()(a);function a(){return r()(this,a),n.apply(this,arguments)}return o()(a,[{key:"render",value:function(){var e=this.props,n=e.question,a=p()(e,["question"]),t=n.answerCount;return y.createElement(S,Object.assign({size:"small",count:t},a))}}]),a}(y.Component);F.fragments={question:void 0!==l?l:l=t},F.displayName="QuestionAnswerCount";n.a=Object(h.b)(F)},dRzG:function(e,n,a){"use strict";a.r(n),a.d(n,"getInitialInlineEditorHeight",(function(){return O})),a.d(n,"default",(function(){return I}));var t={};a.r(t),a.d(t,"default",(function(){return p}));var l=a("8ZkK"),i=a.n(l),r=a("tQZz"),s=a.n(r),o=a("10u2"),u=a.n(o),d=a("MMxs"),c=a.n(d),m=function(){var e=[{kind:"LocalArgument",name:"showReplyHeader",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"replyCommentId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null}],n=[{kind:"Variable",name:"commentId",variableName:"replyCommentId"},{kind:"Variable",name:"commentType",variableName:"commentType"}],a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l=[t,a,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}];return{kind:"Request",fragment:{kind:"Fragment",name:"CommentAddModalQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"showReplyHeader",selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"FragmentSpread",name:"UserName_user",args:null},{kind:"FragmentSpread",name:"UserPhoto_user",args:null}]},{kind:"FragmentSpread",name:"CommentQTextExpandable_comment",args:null}]}]}]},operation:{kind:"Operation",name:"CommentAddModalQuery",argumentDefinitions:e,selections:[{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"showReplyHeader",selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[a,{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},t,{kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:l},{kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:l},{kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"annotate_with_ids",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}]},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerBundleSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"consumerBundleActive",args:null,storageKey:null}]}]},a,t,{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isSensitive",args:null,storageKey:null},a]}]}]}]},params:{operationKind:"query",name:"CommentAddModalQuery",id:"cabae3fb4321615ba59671966b828a8c31dac666ccb0cee19d1c387265822e0e",text:null,metadata:{}}}}();m.hash="bbaa4a20a875eaa35ffcb25d8fe13477";var g,p=m,f=a("q1tI"),b=a("RA+f"),y=a("jufJ"),v=a("zm58"),k=a("R+um"),h=a("r+vq"),S=a("AFGi"),F=a("Y+p1"),T=a.n(F),E=a("nwxp"),w=a("SKAY"),C=a("yju1"),_=a("OMLc"),K=a("ptJ+"),A=a("sI7B");function O(){return 45+(Object(E.a)()?50:30)}var L=function(e){return f.createElement(b.r,Object.assign({fontSize:"small",color:"gray_light"},e),f.createElement(y.J,null,"Replying to:"))};L.displayName="ReplyingToText";var M=function(e){var n=e.comment;return n?f.createElement(b.d,{px:"medium",py:"small",maxHeight:"155px",minHeight:"84px",overflowY:"scroll",bg:"gray_ultralight"},f.createElement(L,{pb:"tiny"}),f.createElement(b.i,{alignItems:"center"},f.createElement(h.a,{user:n.user}),f.createElement(b.d,{as:"span",pl:"tiny"},f.createElement(k.b,{user:n.user}))),f.createElement(b.r,{pt:"tiny",fontSize:"small"},f.createElement(K.a,{comment:n,charLimit:100}))):null};M.displayName="Header";var I=function(e){u()(a,e);var n=c()(a);function a(e){var t;return i()(this,a),(t=n.call(this,e)).editorRef=void 0,t.inlineEditorFullscreenExpansionMessageHandler=function(){t.setState({inlineEditorReachedFullscreenHeight:!0})},t.inlineEditorContent=void 0,t.setInlineEditorToFullscreenHeight=function(){Object(C.a)("setPageProperties",{height:9999999}),t.setState({inlineEditorReachedFullscreenHeight:!0}),t.inlineEditorContent=undefined},t.state={inlineEditorReachedFullscreenHeight:!1,isInlineEditorEmpty:!0},t.editorRef=f.createRef(),t}return s()(a,[{key:"componentDidMount",value:function(){Object(E.g)()&&(Object(w.registerMessageHandler)("showingFullscreenActionView",this.inlineEditorFullscreenExpansionMessageHandler),Object(w.registerMessageHandler)("imageSelected",this.setInlineEditorToFullscreenHeight))}},{key:"componentWillUnmount",value:function(){Object(E.g)()&&(Object(w.removeMessageHandler)("showingFullscreenActionView",this.inlineEditorFullscreenExpansionMessageHandler),Object(w.removeMessageHandler)("imageSelected",this.setInlineEditorToFullscreenHeight))}},{key:"getStartingContent",value:function(){var e=this.props.extraProps.commentDraftContent;return e?JSON.parse(e):Object(S.h)()}},{key:"shouldSupportInlineEditor",value:function(){return!!Object(w.getNativeSupportedSetting)("inline_comment_composer")}},{key:"changeEditorHeight",value:function(e){if(!this.state.inlineEditorReachedFullscreenHeight&&!this.state.isInlineEditorEmpty){var n=e+35+10;Object(C.a)("setPageProperties",{height:n})}}},{key:"getStickyButtonInfo",value:function(){var e=this;if(this.state.inlineEditorReachedFullscreenHeight)return undefined;var n=this.props.dismissModalFlow;return{platform:"native",name:"post",text:Object(y.Z)("Post"),hex:"#2E69FF",disabled:this.state.isInlineEditorEmpty,onClick:function(){n({content:e.inlineEditorContent})}}}},{key:"renderExpandIcon",value:function(){var e=this;return f.createElement(b.e,{onClick:function(){var n;null===(n=e.editorRef.current)||void 0===n||n.focusEditor(),e.setInlineEditorToFullscreenHeight()}},f.createElement(_.a,{name:"Expand"}))}},{key:"getInlineEditorBodyProps",value:function(){return this.state.inlineEditorReachedFullscreenHeight?null:{mb:Object(E.c)()?"".concat(10,"px"):0,overflowY:"hidden"}}},{key:"renderInlineEditorHeader",value:function(e){return this.state.inlineEditorReachedFullscreenHeight?f.createElement(M,{comment:e}):f.createElement(b.q,{maxHeight:"".concat(35,"px"),top:0,px:"medium",py:"small",zIndex:1e3,bg:"white"},e?f.createElement(b.d,{display:"flex",justifyContent:"space-between"},f.createElement(b.i,{alignItems:"center"},f.createElement(L,{pr:"tiny"}),f.createElement(h.a,{user:e.user,linked:!1}),f.createElement(b.d,{as:"span",pl:"tiny"},f.createElement(k.b,{user:e.user}))),this.renderExpandIcon()):f.createElement(b.d,{display:"flex",justifyContent:"flex-end"},this.renderExpandIcon()))}},{key:"renderInlineEditor",value:function(e,n){var a=this,t=this.props,l=t.extraProps,i=t.queryResult,r=t.dismissModalFlow,s=l.commentType,o=l.containerId,u=this.state.inlineEditorReachedFullscreenHeight;return f.createElement(v.a,{editorKey:"inline-add-comment-".concat(s,"-").concat(o),ref:this.editorRef,placeholder:Object(y.Z)("Add a comment..."),startingContent:e,extraBodyProps:this.getInlineEditorBodyProps(),showPrimaryButton:u,primaryButtonDisabled:this.state.isInlineEditorEmpty,onPrimaryButtonClick:function(e){return r({content:e})},showTitleText:!1,onEditorContentHeightChange:u?undefined:function(e){return a.changeEditorHeight(e)},header:this.renderInlineEditorHeader(i.comment),navButton:u?"close":"none",onNavButtonClick:function(n){return r({shouldRefetch:Object(E.g)()&&n&&!T()(n,e)})},clearOnSubmit:!0,useLightWeightContentStyleToolBar:!0,saveDraft:function(e){return n(e)},onEditorMeaningfulChange:function(e){var n=e.isEmpty();u||(a.inlineEditorContent=e.toJSON()),a.state.isInlineEditorEmpty!==n&&a.setState({isInlineEditorEmpty:n})},stickyButtonInfo:this.getStickyButtonInfo()})}},{key:"renderStandardEditor",value:function(e,n){var a=this.props,t=a.extraProps,l=a.dismissModalFlow,i=a.queryResult,r=t.commentType,s=t.containerId;return f.createElement(v.a,{onPrimaryButtonClick:function(e){return l({content:e})},onNavButtonClick:function(n){return l({shouldRefetch:Object(E.g)()&&n&&!T()(n,e)})},editorKey:"add-comment-".concat(r,"-").concat(s),header:f.createElement(M,{comment:i.comment}),titleText:Object(y.Z)("Add Comments"),startingContent:e,placeholder:Object(y.Z)("Add a comment..."),saveDraft:function(e){return n(e)},clearOnSubmit:!0,useLightWeightContentStyleToolBar:!0})}},{key:"render",value:function(){var e=this,n=this.getStartingContent(),a=this.shouldSupportInlineEditor(),t=this.props.extraProps,l=t.commentType,i=t.containerId,r=t.replyCommentId;return f.createElement(A.a,{containerId:i,commentType:l,replyToId:r},(function(t){return a?e.renderInlineEditor(n,t):e.renderStandardEditor(n,t)}))}}]),a}(f.Component);I.queries={onLoad:void 0!==g?g:g=t},I.displayName="CommentAddModal"},eEjP:function(e,n,a){"use strict";var t={};a.r(t),a.d(t,"default",(function(){return p}));var l,i=a("8ZkK"),r=a.n(i),s=a("tQZz"),o=a.n(s),u=a("10u2"),d=a.n(u),c=a("MMxs"),m=a.n(c),g={kind:"Fragment",name:"TribeNameWithIcon_tribe",type:"Tribe",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"FragmentSpread",name:"TribeName_tribe",args:null},{kind:"FragmentSpread",name:"TribeIcon_tribe",args:null}],hash:"024f743551d85165552e0c6cdb388fb2"},p=g,f=a("q1tI"),b=a("RA+f"),y=a("VyO/"),v=a("6sb5"),k=a("n2ec"),h=a("PuWf"),S=function(e){d()(a,e);var n=m()(a);function a(){return r()(this,a),n.apply(this,arguments)}return o()(a,[{key:"render",value:function(){var e=this.props,n=e.tribe,a=e.bold,t=e.color,l=e.linked,i=e.includeHovercard,r=e.timestamp;return f.createElement(b.i,{alignItems:"center"},f.createElement(b.m,{mr:"tiny"},f.createElement(k.a,{tribe:n,size:18,linked:l,includeHovercard:i})),f.createElement(b.r,{bold:a,fontSize:"small",color:t},f.createElement(h.a,{tribe:n}),r?f.createElement(f.Fragment,null,f.createElement(v.a,null),r):null))}}]),a}(f.Component);S.fragments={tribe:void 0!==l?l:l=t},S.defaultProps={bold:!0,color:"gray_dark",linked:!0,includeHovercard:!0},S.displayName="TribeNameWithIcon";n.a=Object(y.b)(S)},eL6j:function(e,n,a){"use strict";a.d(n,"a",(function(){return k}));var t={};a.r(t),a.d(t,"default",(function(){return p}));var l=a("8ZkK"),i=a.n(l),r=a("tQZz"),s=a.n(r),o=a("10u2"),u=a.n(o),d=a("MMxs"),c=a.n(d),m=function(){var e={kind:"ScalarField",alias:null,name:"linkUrl",args:[{kind:"Literal",name:"name",value:"spaces_faq"}],storageKey:'linkUrl(name:"spaces_faq")'},n={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"TribeFAQLinkQuery",type:"QueryRoot",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[e]}]}]},operation:{kind:"Operation",name:"TribeFAQLinkQuery",argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[e,n]},n]}]},params:{operationKind:"query",name:"TribeFAQLinkQuery",id:"6f26250c0ccc094b223e7a4fa8c0f3b5cbdd772d2d9e28d3693bfdbe2db9b2ea",text:null,metadata:{}}}}();m.hash="30de5af5245998a99d2536f42e034bb5";var g,p=m,f=a("q1tI"),b=a("zLpq"),y=a("jufJ"),v=a("D5Zh"),k=function(e){u()(a,e);var n=c()(a);function a(){return i()(this,a),n.apply(this,arguments)}return s()(a,[{key:"render",value:function(){return f.createElement(f.Fragment,null,f.createElement(v.a,{query:a.queries.getLinkUrl},(function(e){var n,a,t=e.data;if(e.loading)return null;var l=null===(n=t.viewer)||void 0===n||null===(a=n.network)||void 0===a?void 0:a.linkUrl;return f.createElement(b.a,{href:l,navStyle:"system_browser",text:Object(y.Z)("Learn more"),chevronSuffix:"right"})})))}}]),a}(f.Component);k.queries={getLinkUrl:void 0!==g?g:g=t},k.displayName="TribeFAQLink"},gQkS:function(e,n,a){"use strict";a.r(n);var t={};a.r(t),a.d(t,"default",(function(){return r}));var l={};a.r(l),a.d(l,"default",(function(){return d}));var i=function(){var e=[{kind:"LocalArgument",name:"disclaimer",type:"JSONString!",defaultValue:null}],n=[{kind:"Variable",name:"disclaimer",variableName:"disclaimer"}],a={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"errorMessage",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"disclaimer",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"AnswerDisclaimerEditorModal_userSetDisclaimer_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"userSetDisclaimer",storageKey:null,args:n,concreteType:"UserSetDisclaimer",plural:!1,selections:[a,t,{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l]}]}]}]},operation:{kind:"Operation",name:"AnswerDisclaimerEditorModal_userSetDisclaimer_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"userSetDisclaimer",storageKey:null,args:n,concreteType:"UserSetDisclaimer",plural:!1,selections:[a,t,{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,i]},i]}]}]},params:{operationKind:"mutation",name:"AnswerDisclaimerEditorModal_userSetDisclaimer_Mutation",id:"b5f6debf04d96a47587449db16aea4adbe986c66335cf9d868c54a2a918184f0",text:null,metadata:{}}}}();i.hash="311ae76ac4e26f5dba74a08b5df467fb";var r=i,s=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},a=[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[e,n,{kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[e,n,{kind:"ScalarField",alias:null,name:"linkUrl",args:[{kind:"Literal",name:"name",value:"disclaimer"}],storageKey:'linkUrl(name:"disclaimer")'}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"AnswerDisclaimerEditorModalQuery",type:"QueryRoot",metadata:null,argumentDefinitions:[],selections:a},operation:{kind:"Operation",name:"AnswerDisclaimerEditorModalQuery",argumentDefinitions:[],selections:a},params:{operationKind:"query",name:"AnswerDisclaimerEditorModalQuery",id:"e3a93c2f4bddb4cf6849c1004fadd4cefde957ee26203ad8620e86f34b51faa5",text:null,metadata:{}}}}();s.hash="b46032be560615e263106be9301f2379";var o,u,d=s,c=a("q1tI"),m=a("zm58"),g=a("jufJ"),p=a("RA+f"),f=a("AFGi"),b=a("VyO/"),y=a("LNH1"),v=function(e){var n=null===e||void 0===e?void 0:e.disclaimer;return n?JSON.parse(n):Object(f.h)()},k=function(e){var n=e.queryResult.viewer.network.linkUrl;return c.createElement(g.J,null,"You may create a personal disclaimer to be displayed below your answers. For more information, see"," ",c.createElement(p.o,{href:n,navStyle:"system_browser"},"What are disclaimers on Quora?"))};k.displayName="ModalHeader";var h=function S(e){var n,a,t,l=e.dismissModalFlow,i=e.extraProps,r=e.queryResult,s=Object(y.h)().setToast,o=null!==(n=null===i||void 0===i?void 0:i.titleText)&&void 0!==n?n:Object(g.Z)("Create Your Disclaimer"),u=null!==(a=null===i||void 0===i?void 0:i.primaryButtonText)&&void 0!==a?a:Object(g.Z)("Create Disclaimer"),d=null!==(t=null===i||void 0===i?void 0:i.subtitleText)&&void 0!==t?t:c.createElement(k,{queryResult:r});return c.createElement(m.a,{editorKey:"answerDisclaimer",primaryButtonText:u,onPrimaryButtonClick:function(e){if(Object(f.p)(e))l();else{var n=JSON.stringify(e);Object(b.c)({mutation:S.mutations.setDisclaimer,variables:{disclaimer:n},onCompleted:function(e){if(e){var a=e.userSetDisclaimer,t=a.success,i=a.errorMessage;t?l({disclaimer:n}):i?s.error(Object(g.Y)(i)):s.genericError()}}})}},onNavButtonClick:function(){l()},titleText:o,startingContent:v(i),hasPadding:!0,subtitleText:d})};h.displayName="AnswerDisclaimerEditorModal",h.queries={onLoad:void 0!==o?o:o=l},h.mutations={setDisclaimer:void 0!==u?u:u=t};n["default"]=h},"gUk/":function(e,n,a){"use strict";a.r(n),a.d(n,"default",(function(){return g}));var t=a("8ZkK"),l=a.n(t),i=a("tQZz"),r=a.n(i),s=a("10u2"),o=a.n(s),u=a("MMxs"),d=a.n(u),c=a("q1tI"),m=a("zm58"),g=function(e){o()(a,e);var n=d()(a);function a(){return l()(this,a),n.apply(this,arguments)}return r()(a,[{key:"render",value:function(){var e=this.props,n=e.extraProps,a=e.dismissModalFlow;return c.createElement(m.a,Object.assign({onPrimaryButtonClick:function(e){return a({content:e})},onNavButtonClick:function(){return a({})}},n))}}]),a}(c.Component)},lI8z:function(e,n,a){"use strict";a.d(n,"i",(function(){return p})),a.d(n,"f",(function(){return f})),a.d(n,"g",(function(){return b})),a.d(n,"a",(function(){return y})),a.d(n,"b",(function(){return v})),a.d(n,"d",(function(){return k})),a.d(n,"h",(function(){return h})),a.d(n,"c",(function(){return S})),a.d(n,"e",(function(){return F}));var t=a("8meh"),l=a.n(t),i=a("SKAY"),r=a("FuLD"),s=a("UDrg"),o=a("2HLo"),u=a("RqIh"),d=a("QOfV"),c=a("TbzU"),m=a("Y+04"),g=a("zv2T"),p=function(e){var n=e.onClick,a=e.contentType,t=e.contentId,i=e.location;if(Object(r.a)())n();else{var s=a;Object(m.e)(l()({},i,{type:s,oid:t}))}},f=function(e){var n=e.tribe,a=e.isTribeItemMonetizable,t=e.viewerIsAuthor,l=e.isMonetizableForNullspace,i=e.producerBundleStatus;return function(e){var n=e.tribe,a=e.isTribeItemMonetizable;return!(!(Object(g.d)()&&a&&n&&n.viewerCanAdmin)||n.producerDirectStatus!==d.a.enabled&&n.producerBundleStatus!==d.a.enabled)}({tribe:n,isTribeItemMonetizable:a})||!n&&function(e){var n=e.viewerIsAuthor,a=e.isMonetizableForNullspace,t=e.producerBundleStatus;return!!(Object(g.d)()&&a&&n&&t===d.a.enabled)}({viewerIsAuthor:t,isMonetizableForNullspace:l,producerBundleStatus:i})},b=function(e){var n=e.writerBundleStatus,a=e.selectedTribe,t=e.isShareToFollowers;if(!Object(g.d)())return!1;if(!a&&n===d.a.enabled&&t)return!0;var l=(null===a||void 0===a?void 0:a.producerDirectStatus)===d.a.enabled||(null===a||void 0===a?void 0:a.producerBundleStatus)===d.a.enabled;return!!(a&&l&&a.viewerCanAdmin)};function y(e){return Number((e/12).toFixed(2))}function v(e){var n=e.monthlyPrice,a=y(e.yearlyPrice),t=c.a.yearly,l=a;return n<a&&(t=c.a.monthly,l=n),{planType:t,monthlyPrice:l}}function k(e,n,a){var t=n?Object(s.c)(n):0,l=Object(o.b)(e);return"".concat(Object(i.getWindowId)(),"|").concat(l,"|").concat(t,"|").concat(null!==a&&void 0!==a?a:0)}var h=function(e){var n=e.hasInvite,a=e.isDirectSubscriptionActive;return Object(g.b)()&&n&&!a},S=function(e){var n=e.showBundleOption,a=e.showDirectSubscriptionOption,t=e.pageType;return!n&&a||n&&a&&t!==u.a.home_feed_main},F=function(e){var n=e.isContentFromTribe,a=e.tribeBundleSubscriptionStatus,t=e.isCounsumerBundleActive;return Object(g.a)()&&(!n||a===d.a.enabled)&&!t}},lZfD:function(e,n,a){"use strict";var t={};a.r(t),a.d(t,"default",(function(){return b}));var l,i=a("rhDr"),r=a.n(i),s=a("8ZkK"),o=a.n(s),u=a("tQZz"),d=a.n(u),c=a("10u2"),m=a.n(c),g=a("MMxs"),p=a.n(g),f={kind:"Fragment",name:"TribeLinkWrapper_tribe",type:"Tribe",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null}],hash:"d236b0d5d7240ca13a6671e0e8276d9c"},b=f,y=a("q1tI"),v=a("Gnru"),k=a("nwxp"),h=a("RA+f"),S=a("IJ0f"),F=a("VyO/"),T=a("GrbL"),E=a("9Zug"),w=function(e){m()(a,e);var n=p()(a);function a(){return o()(this,a),n.apply(this,arguments)}return d()(a,[{key:"render",value:function(){var e=this.props,n=e.children,a=e.tribe,t=e.skipNavigation,l=e.color,i=void 0===l?"gray_dark":l,s=e.display,o=e.underlineHover,u=e.navStyle,d=void 0===u?"present":u,c=r()(e,["children","tribe","skipNavigation","color","display","underlineHover","navStyle"]);if(!t&&Object(k.g)()){var m={initialTab:T.a.main,first:4,multifeedAfter:null,multifeedNumBundlesOnClient:0,hasInjection:!1,injectedTribeItemIds:[],tribeFeedType:E.a.unknown},g=Object.assign({},m,{tribeId:a.tribeId,injectionType:null,injectionData:null,isMainTab:!0,tribeFeedType:Object(E.c)(E.a.unknown)});return y.createElement(S.a,{href:a.url,rootClsKey:"TribeMainPage",rootProps:m,queryVariables:g,targetRef:null,navStyle:d,shouldInline:s===undefined,linkDisplayType:s,isSimpleLink:!0,underlineHover:o},(function(e){var a=e.openUrl;return y.createElement(v.ClientLogProvider,{value:{tribe_referrer:"tribe_link"}},y.createElement(h.e,{display:null!==s&&void 0!==s?s:"block",onClick:function(){return a()},underlineHover:o},n))}))}return y.createElement(v.ClientLogProvider,{value:{tribe_referrer:"tribe_link"}},y.createElement(h.o,Object.assign({href:t?undefined:a.url,navStyle:d,color:i,underlineHover:o,display:s},c),n))}}]),a}(y.Component);w.fragments={tribe:void 0!==l?l:l=t},w.displayName="TribeLinkWrapper";n.a=Object(F.b)(w)},"m+xM":function(e,n,a){"use strict";a.d(n,"d",(function(){return B})),a.d(n,"a",(function(){return z})),a.d(n,"b",(function(){return H})),a.d(n,"c",(function(){return Z}));var t=a("8ZkK"),l=a.n(t),i=a("tQZz"),r=a.n(i),s=a("g8yt"),o=a.n(s),u=a("10u2"),d=a.n(u),c=a("MMxs"),m=a.n(c),g=a("q1tI"),p=a("QLaP"),f=a.n(p),b=a("I/VO"),y=a.n(b),v=a("td6z"),k=a("VSaK"),h=a("vkEr"),S=a("AaDK"),F=a("s/A7"),T=a("SW3P"),E=a("nwxp"),w=a("+pxc"),C=a("hXLn"),_=a("jufJ"),K=a("VwdU"),A=a("ZizP"),O=a("8lmh"),L=a("qZYu"),M=a("PGlZ"),I=a("cbxS"),P=a("OMLc"),q=a("RA+f"),x=a("wxi4"),j=a("P6tR"),D=a("edYY"),Q=a("/bbo"),N=a("vOnD"),R=Object(N.withTheme)((function(e){var n=e.text,a=e.refetch,t=e.loading,l=e.theme;return g.createElement(j.a.Consumer,null,(function(e){return g.createElement(x.d,{justifyContent:"center",zIndex:l.zIndices.tooltip+1,top:Object(D.a)({isPrefetched:e}),display:"flex",alignItems:"flex-start",height:0},g.createElement(x.c,{top:"small"},g.createElement(q.b,{"in":!0,appear:!0},(function(e){return g.createElement(q.f,{fadeIn:!0,fadeOut:!0,animation:e,slideIn:"top",slideOut:"top",slideDistance:"small"},g.createElement(Q.a,{icon:g.createElement(P.a,{name:"Sync"}),text:n,hasBoxShadow:!0,onClick:a,size:"small",loading:t}))}))))}))})),V=a("5Fmr"),U=a("nG0s"),B=function(){return Object(T.a)("show_react_live_update_banner")},z=function(e){var n=e.onClick;return g.createElement(q.d,{p:"small"},g.createElement(I.a,{buttonOnClick:n,buttonTitle:g.createElement(_.J,null,"Try again"),buttonVariant:"error",variant:"warning_inverted",icon:g.createElement(P.a,{name:"NoConnection"}),title:g.createElement(_.J,null,"Unable to load more. Check your internet connection."),iconPosition:Object(E.b)()?"centered":undefined}))},H=function(e){var n=e.onClick;return g.createElement(q.d,{p:"small"},g.createElement(I.a,{buttonOnClick:n,buttonTitle:g.createElement(_.J,null,"Try again"),buttonVariant:"error",variant:"warning_inverted",icon:g.createElement(P.a,{name:"Error"}),title:g.createElement(_.J,null,"There was an error loading more items."),iconPosition:Object(E.b)()?"centered":undefined}))},Z=function(e){d()(a,e);var n=m()(a);function a(e){var t,i,r;return l()(this,a),(r=n.call(this,e)).itemRefs=void 0,e=r.setDefaultProps(e),r.loadMore=r.loadMore.bind(o()(r)),r.refetchList=r.refetchList.bind(o()(r)),r.onScroll=r.onScroll.bind(o()(r)),r.renderChildren=r.renderChildren.bind(o()(r)),r.getIdFromEdge=r.getIdFromEdge.bind(o()(r)),r.scrollToNewestItem=r.scrollToNewestItem.bind(o()(r)),r.onViewChange=r.onViewChange.bind(o()(r)),r.itemRefs={},r.state={hasMore:e.relayObject&&e.relayObject.hasMore(),isPaging:!1,error:null,initialLiveBannerHash:null===(t=e.liveBannerConfig)||void 0===t?void 0:t.hashValue,existingItems:r.getExistingIDs(),isBannerLoading:!1,itemsToShow:null!==(i=e.connection)&&void 0!==i&&i.edges?e.connection.edges.length:0,pageStartTime:undefined,isVisible:!1},r}return r()(a,[{key:"setDefaultProps",value:function(e){var n;e.autoPaged&&("enabled"in e.autoPaged||(e.autoPaged.enabled=!1),"infiniteScrollOptions"in e.autoPaged||(e.autoPaged.infiniteScrollOptions={}),e.autoPaged.infiniteScrollOptions&&!("threshold"in e.autoPaged.infiniteScrollOptions)&&(e.autoPaged.infiniteScrollOptions.threshold=1e3),e.autoPaged.infiniteScrollOptions&&(e.autoPaged.infiniteScrollOptions.isSafari=Object(E.e)()&&((null===(n=Object(w.a)())||void 0===n?void 0:n.isSafari)||Object(E.c)())));return e}},{key:"getIdFromEdge",value:function(e){var n;return((null===(n=this.props.liveBannerConfig)||void 0===n?void 0:n.overrideItemId)||function(e){var n;return null===e||void 0===e||null===(n=e.node)||void 0===n?void 0:n.id})(e)}},{key:"getExistingIDs",value:function(){var e,n;return(null!==(e=this.props.connection)&&void 0!==e&&e.edges?null===(n=this.props.connection)||void 0===n?void 0:n.edges.map(this.getIdFromEdge):[]).filter((function(e){return!!e}))}},{key:"isInViewport",value:function(e){var n,a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;if(null===e||void 0===e||null===(n=e.current)||void 0===n||!n.getBoundingClientRect)return!1;var t=e.current.getBoundingClientRect().top;return t+a>=0&&t-a<=window.innerHeight}},{key:"componentDidMount",value:function(){this.props.autoPaged&&this.props.autoPaged.pagingElement&&Object(k.b)(this.onScroll)}},{key:"componentWillUnmount",value:function(){this.props.autoPaged&&this.props.autoPaged.pagingElement&&Object(k.a)(this.onScroll)}},{key:"componentDidUpdate",value:function(e,n){if(Object(T.a)("paged_list_perf")){if(this.props.pagingIndicator&&!n.isPaging&&this.state.isPaging&&this.state.pageStartTime){var a,t=null===(a=this.props.connection)||void 0===a?void 0:a.__typename;Object(S.a)("paged_list_perf",{connectionName:t,fcp:Object(h.m)()-this.state.pageStartTime})}if(n.isPaging&&!this.state.isPaging&&n.pageStartTime){var l,i=null===(l=this.props.connection)||void 0===l?void 0:l.__typename,r=Object(h.m)()-n.pageStartTime;Object(S.a)("paged_list_perf",{connectionName:i,tti:r,fcp:this.props.pagingIndicator?undefined:r})}}this.state.isVisible&&this.prefetchMore()}},{key:"onViewChange",value:function(e){!this.state.isPaging&&this.props.autoPaged&&!this.props.autoPaged.enabled&&this.props.prefetchingEnabled&&this.setState({isVisible:e})}},{key:"onScroll",value:function(){!this.state.isPaging&&this.props.autoPaged&&this.props.autoPaged.pagingElement&&this.isInViewport(this.props.autoPaged.pagingElement)&&this.loadMore()}},{key:"prefetchMore",value:function(){var e=this,n=this.setDefaultProps(this.props),a=n.relayObject,t=n.onPagingEnd,l=n.connection;(null===l||void 0===l?void 0:l.edges)&&this.state.itemsToShow<l.edges.length||!a.hasMore()||a.isLoading()||a.loadMore(0,(function(n){var i=!n&&a.hasMore();n&&console.error(n),e.state.isPaging&&t&&t(null!==n&&void 0!==n?n:null,i),(e.state.isPaging||n)&&e.setState((function(a){var t=null!==l&&void 0!==l&&l.edges?null===l||void 0===l?void 0:l.edges.length:a.itemsToShow;return{isPaging:!1,pageStartTime:undefined,hasMore:i,error:null!==n&&void 0!==n?n:null,existingItems:e.getExistingIDs(),itemsToShow:t}}))}))}},{key:"loadMore",value:function(){var e=this.setDefaultProps(this.props),n=e.autoPaged,a=e.connection;n&&!n.enabled&&this.props.prefetchingEnabled&&a?this.loadMorePrefetched():this.loadMoreDefault()}},{key:"havePrefetchedItems",value:function(){var e=this.setDefaultProps(this.props).connection;return(null===e||void 0===e?void 0:e.edges)&&this.state.itemsToShow<e.edges.length}},{key:"loadMorePrefetched",value:function(){var e=this.setDefaultProps(this.props),n=e.relayObject,a=e.onPagingStart,t=e.onPagingEnd,l=e.connection,i=this.state.isPaging;if(l&&this.havePrefetchedItems())return a&&a(),t&&t(null,n.hasMore()),void this.setState({isPaging:!1,hasMore:n.hasMore(),itemsToShow:null===l||void 0===l?void 0:l.edges.length,existingItems:this.getExistingIDs()});if(n.hasMore()&&!i){var r=Object(h.m)();a&&a(),this.setState({isPaging:!0,pageStartTime:r,error:null})}}},{key:"loadMoreDefault",value:function(){var e=this,n=this.setDefaultProps(this.props),a=n.relayObject,t=n.onPagingStart,l=n.onPagingEnd,i=this.state.isPaging;if(a.hasMore()&&!i&&!a.isLoading()){var r=Object(h.m)();t&&t(),a.loadMore(0,(function(n){var t=e.setDefaultProps(e.props).connection,i=!n&&a.hasMore();n&&console.error(n),l&&l(null!==n&&void 0!==n?n:null,i),e.setState((function(a){var l=null!==t&&void 0!==t&&t.edges?null===t||void 0===t?void 0:t.edges.length:a.itemsToShow;return{isPaging:!1,pageStartTime:undefined,hasMore:i,error:null!==n&&void 0!==n?n:null,itemsToShow:l,existingItems:e.getExistingIDs()}}))})),this.setState({isPaging:!0,pageStartTime:r,hasMore:!0,error:null})}}},{key:"refetchList",value:function(){var e,n=this,a=this.setDefaultProps(this.props),t=a.relayObject,l=a.onPagingStart,i=a.onPagingEnd,r=a.connection;null===l||void 0===l||l();var s=null===r||void 0===r||null===(e=r.edges)||void 0===e?void 0:e.length;return this.setState({existingItems:this.getExistingIDs(),isBannerLoading:!0}),new Promise((function(e){t.refetchConnection(0,(function(a){var l,r=!a&&t.hasMore();a&&console.error(a),null===i||void 0===i||i(null!==a&&void 0!==a?a:null,r),n.setState({isPaging:!1,hasMore:r,error:null!==a&&void 0!==a?a:null,initialLiveBannerHash:null===(l=n.props.liveBannerConfig)||void 0===l?void 0:l.hashValue,isBannerLoading:!1},n.scrollToNewestItem),e()}),{first:s&&s+1,refetch:!0})}))}},{key:"shouldShowLiveBanner",value:function(){var e=this.props,n=e.liveBannerConfig,a=e.connection,t=this.state.initialLiveBannerHash;if(!n||!B()||!t)return!1;var l=n.hashValue,i=n.ignoreList;if(l===t)return!1;if(!i)return Object(S.a)("scribe_only",{scribe_category:"live_banner_triggered",log_viewer:!0,connectionName:null===a||void 0===a?void 0:a.__typename,old_hash:t,new_hash:l,ignoreList:!1},{sampleRate:.1}),!0;var r=String(t).split(":"),s=String(l).split(":").some((function(e){return!r.includes(e)&&!i.includes(e)}));return s&&Object(S.a)("scribe_only",{scribe_category:"live_banner_triggered",log_viewer:!0,connectionName:null===a||void 0===a?void 0:a.__typename,old_hash:t,new_hash:l,ignoreList:!0},{sampleRate:.1}),s}},{key:"scrollToNewestItem",value:function(){var e=this;window.requestAnimationFrame((function(){var n=e.props.connection,a=e.state.existingItems,t=null===n||void 0===n?void 0:n.edges.find((function(n){return e.getIdFromEdge(n)&&!a.includes(e.getIdFromEdge(n))}));if(t){var l=e.itemRefs[e.getIdFromEdge(t)];Object(F.a)(l,"center")}}))}},{key:"renderChildren",value:function(){var e=this,n=this.setDefaultProps(this.props),a=n.relayObject,t=n.children,l=n.singleItemErrorComponent,i=n.connection,r=n.liveBannerConfig,s=n.onNullNode,o=n.animated,u=n.temporaryHighlightBox,d=this.state,c=d.isPaging,m=d.error,p=d.hasMore,f=d.existingItems,b=d.itemsToShow;return null===i?null:t?i?(null===i||void 0===i?void 0:i.edges.slice(0,b)).map((function(n,i){var d;if(!n||!n.node)return null===s||void 0===s||s(),null;var y,v=e.getIdFromEdge(n),k=r&&v&&!c&&!f.includes(v);return o?g.createElement(q.b,{key:v||(null===n||void 0===n||null===(d=n.node)||void 0===d?void 0:d.id),"in":!0,appear:k},(function(r){return g.createElement(q.f,{fadeIn:!0,animation:r,slideDistance:"small"},g.createElement(V.c,{delay:400,disabled:!(k&&u)},g.createElement(q.d,{innerRef:function(n){return e.itemRefs[v]=n}},g.createElement(A.a,{errorChildren:function(){return l}},t({index:i,node:null===n||void 0===n?void 0:n.node,isLastItem:i===b-1,loading:a.isLoading()||c,error:m,readyToLoadMore:!a.isLoading()&&!c&&p,loadMore:e.loadMore})))))})):g.createElement(A.a,{errorChildren:function(){return l},key:v||(null===n||void 0===n||null===(y=n.node)||void 0===y?void 0:y.id)},t({index:i,node:null===n||void 0===n?void 0:n.node,isLastItem:i===b-1,loading:a.isLoading()||c,error:m,readyToLoadMore:!a.isLoading()&&!c&&p,loadMore:e.loadMore}))})):t({loading:a.isLoading()||c,error:m,readyToLoadMore:!a.isLoading()&&!c&&p,loadMore:this.loadMore,index:-1,node:undefined,isLastItem:!1})||[]:null}},{key:"render",value:function(){var e,n,a=this,t=this.setDefaultProps(this.props),l=t.relayObject,i=t.autoPaged,r=t.pagingIndicator,s=t.loadingIndicator,o=t.endOfPageComponent,u=t.endOfContentComponent,d=t.connectionIssueComponent,c=t.errorComponent,m=t.liveBannerConfig,p=t.listWrapper,b=t.as,v=void 0===b?"div":b,k=this.state,h=k.error,S=k.isPaging,F=k.hasMore,T=k.isBannerLoading,E=k.itemsToShow,w=h&&Object(O.isConnectionError)(h),_=h&&!w,A=!h&&!l.isLoading()&&!S&&!F,L=!h&&!S&&!(null!==i&&void 0!==i&&i.enabled)&&(this.havePrefetchedItems()||F&&!l.isLoading());return f()(l,"PagedList expects relayObject props"),!l||l.isLoading()&&!S&&!T&&0===E&&s?s||null:g.createElement(K.a,{condition:!!m&&B(),wrapper:function(e){return m?g.createElement(C.a,{fragmentOrQuery:m.query,initialData:m.initialData,variables:m.variables(l.getFragmentVariables())},e):e}},g.createElement(K.a,{condition:null!==(e=null===i||void 0===i?void 0:i.enabled)&&void 0!==e&&e,wrapper:function(e){return g.createElement(y.a,Object.assign({loadMore:a.loadMore,hasMore:F,loader:r},null===i||void 0===i?void 0:i.infiniteScrollOptions,{element:v}),e)},elseWrapper:function(e){return g.createElement(M.b,{onChange:a.onViewChange,as:v},e)}},m&&this.shouldShowLiveBanner()&&g.createElement(U.a,null,g.createElement(R,{refetch:this.refetchList,text:m.bannerText,loading:T})),null!==(n=null===p||void 0===p?void 0:p(this.renderChildren()))&&void 0!==n?n:this.renderChildren(),!(null!==i&&void 0!==i&&i.enabled)&&l.isLoading()&&S&&r,L&&(null===o||void 0===o?void 0:o(this.loadMore)),A&&(null===u||void 0===u?void 0:u()),w&&(null===d||void 0===d?void 0:d(this.loadMore)),_&&(null===c||void 0===c?void 0:c(this.loadMore))))}}],[{key:"getDerivedStateFromProps",value:function(e,n){var a,t,l;return!n.hasMore&&null!==(a=e.relayObject)&&void 0!==a&&a.hasMore()?Object.assign({},n,{hasMore:e.relayObject.hasMore()}):null!==(t=e.connection)&&void 0!==t&&t.edges.length&&(null===(l=e.connection)||void 0===l?void 0:l.edges.length)<n.itemsToShow?Object.assign({},n,{itemsToShow:e.connection.edges.length}):n}}]),a}(g.Component);Z.defaultProps={autoPaged:{},pagingIndicator:g.createElement(v.c,{key:"loading"}),connectionIssueComponent:function(e){return g.createElement(z,{onClick:e})},errorComponent:function(e){return g.createElement(H,{onClick:e})},singleItemErrorComponent:g.createElement(L.a,null),animated:!0,temporaryHighlightBox:!0,as:"div",prefetchingEnabled:!0},Z.displayName="PagedList"},nG0s:function(e,n,a){"use strict";a.d(n,"a",(function(){return o}));var t=a("yMAQ"),l=a.n(t),i=a("q1tI"),r=i.createContext(undefined),s=function(e){var n=e.children,a=i.useState(),t=l()(a,2),s=t[0],o=t[1];return i.createElement(r.Provider,{value:o},s||null,n)};s.displayName="LiveBannerAnchor";var o=function(e){var n=e.children,a=i.useContext(r);return i.useEffect((function(){return null===a||void 0===a||a(n),function(){null===a||void 0===a||a(null)}})),n===undefined?null:i.createElement(i.Fragment,null,a?null:n)};n.b=s},nPxv:function(e,n,a){"use strict";a.r(n),a.d(n,"default",(function(){return b}));var t=a("8ZkK"),l=a.n(t),i=a("tQZz"),r=a.n(i),s=a("10u2"),o=a.n(s),u=a("MMxs"),d=a.n(u),c=a("q1tI"),m=a("nwxp"),g=a("nW6E"),p=a("RA+f"),f=a("jufJ"),b=function(e){o()(a,e);var n=d()(a);function a(){return l()(this,a),n.apply(this,arguments)}return r()(a,[{key:"render",value:function(){var e=this.props.dismissModalFlow;return c.createElement(g.f,{navButton:Object(m.b)()?"back":"close",navButtonProps:{onClick:function(){return e()}},extraBodyProps:{display:"flex"}},c.createElement(p.r,{fontSize:"small"},c.createElement(f.J,null,"To enable, change the Content types setting above.")))}}]),a}(c.Component);b.displayName="TribeDisabledContentTypeInfoModal"},oigA:function(e,n,a){"use strict";var t;a.d(n,"c",(function(){return r})),a.d(n,"b",(function(){return s})),function(e){e.learn_more="learn_more",e.get_the_app="get_the_app",e.apply_now="apply_now",e.book_now="book_now",e.contact_us="contact_us",e.donate_now="donate_now",e.download="download",e.shop_now="shop_now",e.sign_up="sign_up",e.watch_more="watch_more",e.get_quote="get_quote",e.follow_us="follow_us",e.play_now="play_now",e.start_now="start_now",e.free_trial="free_trial",e.read_more="read_more"}(t||(t={})),n.a=t;var l=new Map([[t.learn_more,0],[t.get_the_app,1],[t.apply_now,2],[t.book_now,3],[t.contact_us,4],[t.donate_now,5],[t.download,6],[t.shop_now,7],[t.sign_up,8],[t.watch_more,9],[t.get_quote,10],[t.follow_us,11],[t.play_now,12],[t.start_now,13],[t.free_trial,14],[t.read_more,15]]),i=new Map([[0,t.learn_more],[1,t.get_the_app],[2,t.apply_now],[3,t.book_now],[4,t.contact_us],[5,t.donate_now],[6,t.download],[7,t.shop_now],[8,t.sign_up],[9,t.watch_more],[10,t.get_quote],[11,t.follow_us],[12,t.play_now],[13,t.start_now],[14,t.free_trial],[15,t.read_more]]);function r(e){return l.get(t[e])}function s(e){if(null===e)return null;if("number"===typeof e){var n=i.get(e);if(!n)throw new Error("".concat(e," is not a valid AdsCallToActionTypes"));return n}return"string"===typeof e?t[e]:e}},pl0F:function(e,n,a){"use strict";var t={};a.r(t),a.d(t,"default",(function(){return o}));var l,i=a("8meh"),r=a.n(i),s={kind:"Fragment",name:"ContentMonetizationDisclaimer_tribe",type:"Tribe",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"producerBundleStatus",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"defaultAccessOption",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"producerDirectStatus",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isAdsRevenueShareEnabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanContribute",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanModerate",args:null,storageKey:null}],hash:"b386851e12c40211387350a0d5c06616"},o=s,u=a("q1tI"),d=a("jufJ"),c=a("RA+f"),m=a("WtxK"),g=a("QOfV"),p=a("VyO/"),f=a("BppE"),b=a("KxXw"),y=function(e){var n,a=e.accessOptionType;return u.createElement(d.d,null,u.createElement(d.c,{value:a},(n={},r()(n,f.a.free,"Content added to this Space can be accessed by everyone by default, but may be reserved for subscribers only by an Admin."),r()(n,f.a.paid_only,"Content added to this Space is reserved for subscribers by default, but may be made accessible to everyone by an Admin."),r()(n,f.a.smart_distribution,"Content added to this Space is reserved for subscribers by default, but may be made accessible to everyone by an Admin."),n)))};y.displayName="ContentMonetizationDisclaimerText";var v=function(e){var n,a=e.contentType,t=e.tribe,l=e.variant,i=void 0===l?"modal":l,r=Object(m.a)(a),s=t.producerBundleStatus===g.a.enabled||t.producerDirectStatus===g.a.enabled,o=t.viewerCanContribute||t.viewerCanModerate,p=[{id:1,text:u.createElement(d.d,null,"This ",r," might generate"," ",t.isAdsRevenueShareEnabled&&s?"revenue":s?"subscription revenue":"ad revenue"," ","for the Space, which will be paid to and be managed by the owner of the Space.")}];s&&p.push({id:2,text:u.createElement(d.d,null,"The Space might reserve this ",r," for subscribers only.")});var v=u.createElement(c.r,{mb:"small",bold:"modal"===i,medium:"banner"===i},o?u.createElement(d.d,null,"Monetization and access"):u.createElement(d.d,null,"If your ",r," is approved:")),k=u.createElement(c.d,{mt:"banner"===i?"medium":undefined},o?u.createElement(u.Fragment,null,(t.isAdsRevenueShareEnabled||s)&&u.createElement(c.r,{fontSize:"banner"===i?"small":undefined},u.createElement(d.d,null,"This Space may earn money from this ",r,". Earnings are paid to and are managed by the owner of the Space.")),s&&u.createElement(c.r,{mt:t.isAdsRevenueShareEnabled?"medium":"small",fontSize:"banner"===i?"small":undefined},u.createElement(y,{accessOptionType:null!==(n=t.defaultAccessOption)&&void 0!==n?n:f.a.free}))):u.createElement(b.a,{itemMb:"tiny",disclaimers:p,fontSize:"banner"===i?"small":undefined})),h=u.createElement(u.Fragment,null,u.createElement(c.d,{mt:"medium"},u.createElement(c.r,{fontSize:"banner"===i?"small":undefined},u.createElement(c.o,{href:"https://help.quora.com/hc/en-us/articles/360061760731"},u.createElement(d.d,null,"Learn more about followers and content access")))),o&&u.createElement(c.d,{mt:"medium"},u.createElement(c.r,{fontSize:"banner"===i?"small":undefined},u.createElement(c.o,{href:"https://help.quora.com/hc/en-us/articles/360060059331"},u.createElement(d.d,null,"Learn more about Space permissions")))));return u.createElement(u.Fragment,null,"modal"===i&&v,k,h)};v.displayName="ContentMonetizationDisclaimer",v.fragments={tribe:void 0!==l?l:l=t};n.a=Object(p.b)(v)},"ptJ+":function(e,n,a){"use strict";var t={};a.r(t),a.d(t,"default",(function(){return p}));var l,i=a("8ZkK"),r=a.n(i),s=a("tQZz"),o=a.n(s),u=a("10u2"),d=a.n(u),c=a("MMxs"),m=a.n(c),g={kind:"Fragment",name:"CommentQTextExpandable_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isSensitive",args:null,storageKey:null}]}],hash:"9eaf15730308054629245c73bf682a8d"},p=g,f=a("q1tI"),b=a("wB5M"),y=a("VyO/"),v=a("QLaP"),k=a.n(v),h=function(e){d()(a,e);var n=m()(a);function a(){return r()(this,a),n.apply(this,arguments)}return o()(a,[{key:"render",value:function(){var e=this.props,n=e.comment,a=n.content,t=n.tribe,l=e.charLimit,i=void 0===l?300:l,r=null===t||void 0===t?void 0:t.isSensitive;k()(null!==a,"missing content for comment");var s=JSON.parse(a);return f.createElement(b.a,{qt:s,isSensitive:r,charLimit:i,truncationType:"regular",hasImageBoundary:!1,bg:"white"})}}]),a}(f.Component);h.fragments={comment:void 0!==l?l:l=t},h.displayName="CommentQTextExpandable";n.a=Object(y.b)(h)},qU4x:function(e,n,a){"use strict";var t={};a.r(t),a.d(t,"default",(function(){return r}));var l,i={kind:"Fragment",name:"ContentMonetizationDisclaimerButtonWrapper_tribe",type:"Tribe",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null}],hash:"6dc1eaf3da93d3a38cb7d70ee4db47c4"},r=i,s=a("q1tI"),o=a.n(s),u=a("OMLc"),d=a("nW6E"),c=a("VyO/"),m=a("nwxp");function g(e){return Object(m.g)()?{platform:"native",name:"monetization",onClick:e}:{platform:"web",name:"monetization",icon:o.a.createElement(u.a,{name:"Money"}),onClick:e}}var p=function(e){var n=e.children,a=e.tribe;return o.a.createElement(d.j,{standaloneModalProps:{containerProps:{mobileHeight:400},modalProps:{name:"ContentMonetizationDisclaimerModal",queryVariables:{tribeId:a.tribeId},extraProps:{contentType:"Post"}}}},(function(e){var a=e.openStandaloneModal;return n({stickyButtonInfo:g(a)})}))};p.displayName="ContentMonetizationDisclaimerButtonWrapper",p.fragments={tribe:void 0!==l?l:l=t};n.a=Object(c.b)(p)},qZYu:function(e,n,a){"use strict";a.d(n,"a",(function(){return o}));var t=a("q1tI"),l=a("cbxS"),i=a("OMLc"),r=a("jufJ"),s=a("RA+f");function o(){return t.createElement(s.d,{p:"small",borderBottom:!0},t.createElement(l.a,{variant:"warning_inverted",icon:t.createElement(i.a,{name:"Error"}),title:t.createElement(r.J,null,"There was an error loading this item.")}))}},qygo:function(e,n,a){"use strict";a.d(n,"a",(function(){return u}));var t=a("rhDr"),l=a.n(t),i=a("q1tI"),r=a("RA+f"),s=a("OMLc"),o=function(e){var n=e.text,a=e.href,t=e.variant,o=void 0===t?"gray":t,u=e.size,d=void 0===u?"regular":u,c=e.iconName,m=void 0===c?null:c,g=e.onClick,p=l()(e,["text","href","variant","size","iconName","onClick"]),f=function(e){var n=e.children;return i.createElement(i.Fragment,null,n)};return a?f=function(e){var n=e.children;return i.createElement(r.o,{underlineHover:!1,href:a},n)}:g&&(f=function(e){var n=e.children;return i.createElement(r.e,{underlineHover:!1,onClick:g},n)}),i.createElement(f,null,i.createElement(r.m,Object.assign({py:"tiny",px:"small",color:"blue"===o?"blue":"gray",bg:"blue"===o?"blue_light":"gray_ultralight",borderRadius:"small",whiteSpace:"nowrap",hover:a||g?{color:"blue"}:{}},p),m&&i.createElement(s.a,{size:16,color:"blue"===o?"blue":"gray",mr:"tiny",name:m}),i.createElement(r.r,{fontSize:"small"===d?"tiny":"small",uppercase:"small"===d,medium:"small"===d},n)))};o.displayName="Tag";var u=function(e){var n=e.children,a=e.mb,t=void 0===a?"tiny":a,s=l()(e,["children","mb"]),o=i.Children.toArray(n).filter((function(e){return e}));return i.createElement(r.i,Object.assign({flexWrap:"wrap",alignItems:"center"},s),i.Children.map(o,(function(e,n){var a;return i.createElement(r.d,{mr:null!==(a=n<o.length-1?"tiny":null)&&void 0!==a?a:undefined,mb:t},e)})))};n.b=o},rS24:function(e,n,a){"use strict";var t=a("q1tI"),l=a("nW6E"),i=a("yju1"),r=function(e){var n=e.children;return t.createElement(l.j,{standaloneModalProps:{containerProps:{mobileHeight:370},modalProps:{name:"PostPhotoPermissionModal",fetchPolicy:"store-only"},postDismissCallback:function(e){null!==e&&void 0!==e&&e.success&&Object(i.a)("showPhotoSelector")}}},(function(e){var a=e.openStandaloneModal;return n((function(e){a({modalProps:{name:"PostPhotoPermissionModal",extraProps:{photoAuthorizationStatus:e}}})}))}))};r.displayName="PhotoPermissionModalWrapper",n.a=r},"s/A7":function(e,n,a){"use strict";a.d(n,"a",(function(){return i}));var t=a("8ezB"),l=a("Jz1U");Object(t.a)(),Object(l.b)();var i=function(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"start";e&&setTimeout((function(){e.scrollIntoView({behavior:"smooth",block:n})}))}},sC65:function(e,n,a){"use strict";var t={};a.r(t),a.d(t,"default",(function(){return b}));var l=a("rhDr"),i=a.n(l),r=a("8ZkK"),s=a.n(r),o=a("tQZz"),u=a.n(o),d=a("10u2"),c=a.n(d),m=a("MMxs"),g=a.n(m),p=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},a=[n,e,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}];return{kind:"Fragment",name:"UserLink_user",type:"User",metadata:null,argumentDefinitions:[],selections:[e,{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},n,{kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:a},{kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:a},{kind:"FragmentSpread",name:"UserName_user",args:null},{kind:"FragmentSpread",name:"UserLinkWrapper_user",args:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"annotate_with_ids",value:"true"},condition:"onGate",selections:[{kind:"FragmentSpread",name:"UserId_user",args:null}]}]}}();p.hash="e99e926af025b5c18ba568ea21bb01d1";var f,b=p,y=a("q1tI"),v=a("6aqD"),k=a("VyO/"),h=a("nwxp"),S=a("FuLD"),F=a("Qkel"),T=a("VwdU"),E=a("b0KT"),w=a("RA+f"),C=a("iGOU"),_=a("1cij"),K=a("XhVx"),A=a("R+um"),O=a("I0Lp"),L=a("TbDR"),M=a("WWBQ"),I=function(e){c()(a,e);var n=g()(a);function a(){return s()(this,a),n.apply(this,arguments)}return u()(a,[{key:"renderUserLink",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null,a=this.props,t=a.children,l=a.user,r=l.isAnon,s=l.uid,o=a.color,u=a.includeHovercard,d=void 0===u||u,c=a.showBadgeName,m=void 0!==c&&c,g=a.tribeMemberPermissionBadge,p=a.isTribePremiumMember,f=i()(a,["children","user","color","includeHovercard","showBadgeName","tribeMemberPermissionBadge","isTribePremiumMember"]),b=Object(S.c)(s);return y.createElement(w.m,{alignItems:"center"},Object(_.d)()&&y.createElement(F.a,{user:this.props.user}),y.createElement(E.a,null,y.createElement(T.a,{condition:!!d&&!b&&!r&&Object(h.b)(),wrapper:function(n){return y.createElement(C.a,{uid:e.props.user.uid,wrapperDisplayType:"inline"},n)}},y.createElement(T.a,{condition:!r,wrapper:function(n){return y.createElement(K.a,Object.assign({},f,{user:e.props.user,color:o}),n)}},t||y.createElement(A.b,{user:this.props.user,themeColor:n}))),y.createElement(M.a,{tribeMemberPermissionBadge:g,isTribePremiumMember:p,showBadgeName:m,badgeColor:n?"".concat(n,"_name"):"white"===o?"white":"gray"})))}},{key:"render",value:function(){var e=this;if(Object(L.b)()){var n=this.props.user.uid;return y.createElement(L.a,{uid:n},(function(n){return e.renderUserLink(n)}))}return this.renderUserLink()}}]),a}(Object(v.s)(y.Component));I.fragments={user:void 0!==f?f:f=t},I.renderPlaintext=function(e){return Object(O.a)(e.user)};n.a=Object(k.b)(I)},sI7B:function(e,n,a){"use strict";var t={};a.r(t),a.d(t,"default",(function(){return p}));var l=a("8ZkK"),i=a.n(l),r=a("tQZz"),s=a.n(r),o=a("10u2"),u=a.n(o),d=a("MMxs"),c=a.n(d),m=function(){var e=[{kind:"LocalArgument",name:"containerId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"replyToId",type:"BigInt",defaultValue:null}],n=[{kind:"Variable",name:"commentType",variableName:"commentType"},{kind:"Variable",name:"containerId",variableName:"containerId"},{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"replyToId",variableName:"replyToId"}],a={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"commentDraftContent",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"CommentAddDraftMutation_commentDraftAdd_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"commentDraftAdd",storageKey:null,args:n,concreteType:"CommentDraftAdd",plural:!1,selections:[a,{kind:"LinkedField",alias:null,name:"container",storageKey:null,args:null,concreteType:null,plural:!1,selections:[t]}]}]},operation:{kind:"Operation",name:"CommentAddDraftMutation_commentDraftAdd_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"commentDraftAdd",storageKey:null,args:n,concreteType:"CommentDraftAdd",plural:!1,selections:[a,{kind:"LinkedField",alias:null,name:"container",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},t,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}]},params:{operationKind:"mutation",name:"CommentAddDraftMutation_commentDraftAdd_Mutation",id:"d47279789ddc26c89af8191bf19127afb9e206d82949029f5a2a07d3cd26571c",text:null,metadata:{}}}}();m.hash="0ee2d523ba79058b3f653aaf10053e59";var g,p=m,f=a("q1tI"),b=a("VyO/"),y=function(e){u()(a,e);var n=c()(a);function a(){return i()(this,a),n.apply(this,arguments)}return s()(a,[{key:"render",value:function(){var e=this.props,n=e.containerId,t=e.commentType,l=e.replyToId,i=e.children;return f.createElement(b.a,{mutation:a.mutations.saveDraft},(function(e){return i((function(a){return e({variables:{containerId:n,commentType:t,replyToId:l||null,content:JSON.stringify(a)}})}))}))}}]),a}(f.Component);y.mutations={saveDraft:void 0!==g?g:g=t},y.displayName="CommentAddDraftMutation";n.a=y},sP50:function(e,n,a){"use strict";a.d(n,"a",(function(){return N}));var t={};a.r(t),a.d(t,"default",(function(){return k}));var l={};a.r(l),a.d(l,"default",(function(){return S}));var i={};a.r(i),a.d(i,"default",(function(){return C}));var r=a("jQsN"),s=a.n(r),o=a("tcRq"),u=a.n(o),d=a("8ZkK"),c=a.n(d),m=a("tQZz"),g=a.n(m),p=a("10u2"),f=a.n(p),b=a("MMxs"),y=a.n(b),v=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"AudiencePickerSelector_tribe",type:"Tribe",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"iconUrl",args:[{kind:"Literal",name:"size",value:100}],storageKey:"iconUrl(size:100)"},{kind:"ScalarField",alias:null,name:"submissionRules",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanContribute",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanCreateContentQueueItem",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerContentTypesCanAddInTribe",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"settings",storageKey:null,args:null,concreteType:"TribeSettings",plural:!1,selections:[e,n,{kind:"ScalarField",alias:null,name:"isSubmissionEnabled",args:[{kind:"Literal",name:"contentType",value:49},{kind:"Literal",name:"isExternalHyperlinkShareSubmission",value:!0}],storageKey:"isSubmissionEnabled(contentType:49,isExternalHyperlinkShareSubmission:true)"}]},{kind:"FragmentSpread",name:"TribeIcon_tribe",args:null},{kind:"FragmentSpread",name:"TribeName_tribe",args:null},{kind:"FragmentSpread",name:"SubmissionRulesBanner_tribe",args:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"PaidSubscriptionEnabledForProducer",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"viewerCanAdmin",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"defaultAccessOption",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"producerBundleStatus",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"producerDirectStatus",args:null,storageKey:null}]}]}}();v.hash="f1de58899454ece7cf9b566aee6877d0";var k=v,h=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},a=[e,n,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"iconUrl",args:[{kind:"Literal",name:"size",value:100}],storageKey:"iconUrl(size:100)"},{kind:"ScalarField",alias:null,name:"submissionRules",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanContribute",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanCreateContentQueueItem",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerContentTypesCanAddInTribe",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"settings",storageKey:null,args:null,concreteType:"TribeSettings",plural:!1,selections:[e,n,{kind:"ScalarField",alias:null,name:"isSubmissionEnabled",args:[{kind:"Literal",name:"contentType",value:49},{kind:"Literal",name:"isExternalHyperlinkShareSubmission",value:!0}],storageKey:"isSubmissionEnabled(contentType:49,isExternalHyperlinkShareSubmission:true)"}]},{kind:"FragmentSpread",name:"TribeIcon_tribe",args:null},{kind:"FragmentSpread",name:"TribeName_tribe",args:null},{kind:"FragmentSpread",name:"SubmissionRulesBanner_tribe",args:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"PaidSubscriptionEnabledForProducer",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"viewerCanAdmin",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"defaultAccessOption",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"producerBundleStatus",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"producerDirectStatus",args:null,storageKey:null}]}];return{kind:"Fragment",name:"AudiencePickerSelector_viewer",type:"Viewer",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"contentType",type:"ContentTypes",defaultValue:"quora_share"},{kind:"LocalArgument",name:"sharedContentType",type:"ContentTypes",defaultValue:null},{kind:"LocalArgument",name:"sharedContentOid",type:"BigInt",defaultValue:null}],selections:[e,n,{kind:"LinkedField",alias:null,name:"audiencePickerTribesUserCanAddContentTo",storageKey:null,args:[{kind:"Variable",name:"contentType",variableName:"contentType"},{kind:"Variable",name:"sharedContentOid",variableName:"sharedContentOid"},{kind:"Variable",name:"sharedContentType",variableName:"sharedContentType"}],concreteType:"AudiencePickerTribesUserCanAddContentTo",plural:!1,selections:[e,n,{kind:"LinkedField",alias:null,name:"recentlyVisited",storageKey:null,args:null,concreteType:"Tribe",plural:!0,selections:a},{kind:"LinkedField",alias:null,name:"recommended",storageKey:null,args:null,concreteType:"Tribe",plural:!0,selections:a}]}]}}();h.hash="3b9fbffaaf65a977cdcb6310e9375b28";var S=h,F=function(){var e=[{kind:"LocalArgument",name:"query",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"contentType",type:"ContentTypes!",defaultValue:null},{kind:"LocalArgument",name:"sharedContentType",type:"BigInt",defaultValue:null}],n=[{kind:"Variable",name:"contextOid",variableName:"sharedContentType"},{kind:"Variable",name:"contextType",variableName:"contentType"},{kind:"Literal",name:"limit",value:10},{kind:"Variable",name:"query",variableName:"query"},{kind:"Literal",name:"querySource",value:"selector_misc"},{kind:"Literal",name:"queryType",value:"ts_tribe"}],a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"iconUrl",args:[{kind:"Literal",name:"size",value:100}],storageKey:"iconUrl(size:100)"},s={kind:"ScalarField",alias:null,name:"submissionRules",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"viewerCanContribute",args:null,storageKey:null},u={kind:"ScalarField",alias:null,name:"viewerCanCreateContentQueueItem",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"viewerContentTypesCanAddInTribe",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"isSubmissionEnabled",args:[{kind:"Literal",name:"contentType",value:49},{kind:"Literal",name:"isExternalHyperlinkShareSubmission",value:!0}],storageKey:"isSubmissionEnabled(contentType:49,isExternalHyperlinkShareSubmission:true)"},m={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"PaidSubscriptionEnabledForProducer",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"viewerCanAdmin",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"defaultAccessOption",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"producerBundleStatus",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"producerDirectStatus",args:null,storageKey:null}]};return{kind:"Request",fragment:{kind:"Fragment",name:"AudiencePickerSelectorQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"searchQuery",storageKey:null,args:n,concreteType:null,plural:!0,selections:[a,t,{kind:"InlineFragment",type:"TribeSearchResult",selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[a,t,l,i,r,s,o,u,d,{kind:"LinkedField",alias:null,name:"settings",storageKey:null,args:null,concreteType:"TribeSettings",plural:!1,selections:[a,t,c]},{kind:"FragmentSpread",name:"TribeIcon_tribe",args:null},{kind:"FragmentSpread",name:"TribeName_tribe",args:null},{kind:"FragmentSpread",name:"SubmissionRulesBanner_tribe",args:null},m]}]}]}]},operation:{kind:"Operation",name:"AudiencePickerSelectorQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"searchQuery",storageKey:null,args:n,concreteType:null,plural:!0,selections:[a,t,{kind:"InlineFragment",type:"TribeSearchResult",selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[a,t,l,i,r,{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:"iconRetinaUrl",name:"iconUrl",args:[{kind:"Literal",name:"size",value:200}],storageKey:"iconUrl(size:200)"},s,{kind:"LinkedField",alias:null,name:"settings",storageKey:null,args:null,concreteType:"TribeSettings",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"submissionReviewPeriod",args:null,storageKey:null},a,t,c]},o,u,d,{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"rd_only_tribe_theme_color_on_names",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"colorHex",args:null,storageKey:null}]},m]}]}]}]},params:{operationKind:"query",name:"AudiencePickerSelectorQuery",id:"af6f740ab3808a48994de54048ef9e34a276b249b209d3978a5e9f6264f4c608",text:null,metadata:{}}}}();F.hash="cab637a0a96a23a2ace7df643679f02c";var T,E,w,C=F,_=a("q1tI"),K=a("RA+f"),A=a("cztr"),O=a("MI6j"),L=a("jufJ"),M=a("n2ec"),I=a("PuWf"),P=a("AFGi"),q=a("06DM"),x=a("OMLc"),j=a("nwxp"),D=a("VyO/"),Q=a("UDrg"),N=function(){return _.createElement(K.i,{alignSelf:"flex-start",alignItems:"center",bg:"gray_light",size:24,borderRadius:"medium"},_.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},_.createElement("g",{stroke:"gray",strokeLinecap:"round"},_.createElement("path",{d:"M4,20 L20,4"}))))},R=void 0!==T?T:T=i,V=function(e){f()(a,e);var n=y()(a);function a(e){var t;return c()(this,a),(t=n.call(this,e)).handleOnSelect=function(e){var n,a,l=e.title,i=e.data;null===(n=(a=t.props).onSelectorChange)||void 0===n||n.call(a,i),t.setState({input:l})},t.handleInputChange=function(e){t.setState({input:e})},t.clearInput=function(){t.setState({input:""})},t.state={input:""},t}return g()(a,[{key:"render",value:function(){var e,n=this,a=[],t=this.props.viewer.audiencePickerTribesUserCanAddContentTo||{},l=t.recentlyVisited,i=t.recommended,r=this.props,o=r.showYourFollowers,d=void 0===o||o,c=r.showNullSpace,m=void 0!==c&&c;if(d&&a.push({item:_.createElement(O.c,{icon:_.createElement(x.a,{color:"blue",name:"Followers"}),mainText:Object(L.Z)("Your followers")}),title:Object(L.Z)("Your followers"),data:{tribe:null,hyperlinkShareToFollowers:!0}}),m&&a.push({item:_.createElement(O.c,{icon:_.createElement(N,null),mainText:Object(L.Z)("None")}),title:Object(L.Z)("None"),data:{tribe:null,hyperlinkShareToFollowers:!1,shareToNullSpace:!0}}),l&&0!==l.length){a.push({item:_.createElement(q.a,{fontSize:"regular",titleText:Object(L.Z)("Recently visited Spaces")}),title:Object(L.Z)("Recently visited Spaces"),data:{tribe:null,hyperlinkShareToFollowers:!1},disabled:!0});for(var g=0;g<l.length;g++){var p=l[g];a.push({item:_.createElement(O.c,{icon:_.createElement(M.a,{linked:!1,tribe:p,includeHovercard:!1}),mainText:_.createElement(I.a,{tribe:p})}),title:Object(L.ab)(Object(P.s)(p.name)),data:{tribe:p,hyperlinkShareToFollowers:!1}})}}if(i&&0!==i.length){a.push({item:_.createElement(q.a,{fontSize:"regular",titleText:Object(L.Z)("Recommended Spaces")}),title:Object(L.Z)(""),data:{tribe:null,hyperlinkShareToFollowers:!1},disabled:!0});for(var f=0;f<i.length;f++){var b=i[f];a.push({item:_.createElement(O.c,{icon:_.createElement(M.a,{linked:!1,tribe:b,includeHovercard:!1}),mainText:_.createElement(I.a,{tribe:b})}),title:Object(L.ab)(Object(P.s)(b.name)),data:{tribe:b,hyperlinkShareToFollowers:!1}})}}return _.createElement(K.d,{borderTop:Object(j.e)(),pt:null!==(e=Object(j.e)()?"tiny":null)&&void 0!==e?e:undefined},_.createElement(A.a,{async:!0,options:u()(s.a.mark((function y(){var e,t,l,i,r,o,u,d;return s.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(n.state.input){s.next=2;break}return s.abrupt("return",a);case 2:return s.next=4,Object(D.e)({query:R,variables:{query:n.state.input,contentType:n.props.contentType,sharedContentType:n.props.sharedContentType?Object(Q.c)(n.props.sharedContentType):null},fetchPolicy:"store-or-network"});case 4:if(e=s.sent,t=e.data,l=[],t)for(i=0;i<t.searchQuery.length;i++)r=Object(L.Z)(""),o=t.searchQuery[i],(u=o.tribe)&&(d=u.name,r=Object(L.ab)(Object(P.s)(d))),l.push({item:_.createElement(U,{searchQuery:o}),data:{tribe:u,hyperlinkShareToFollowers:!1},title:r});return s.abrupt("return",l);case 9:case"end":return s.stop()}}),y)}))),inputPlaceholder:Object(L.Z)("Choose a Space"),limit:10,onInputChange:this.handleInputChange,onChange:this.handleOnSelect,autoFocus:!1,listComponent:K.f,inputWrapperProps:{variant:"small",iconName:"Search",mt:Object(j.e)()?"small":"tiny",ml:Object(j.e)()?"medium":"tiny",mr:Object(j.e)()?"medium":"tiny"},forceOpenMenu:!0,onFocus:this.clearInput,listProps:{borderAll:!1}}))}}]),a}(_.Component);V.fragments={viewer:void 0!==E?E:E=l},V.privateFragments={tribe:void 0!==w?w:w=t},V.queries={selector:R},V.displayName="AudiencePickerSelector";n.b=Object(D.b)(V);var U=function(e){f()(a,e);var n=y()(a);function a(){return c()(this,a),n.apply(this,arguments)}return g()(a,[{key:"render",value:function(){var e=this.props.searchQuery.tribe;if(e)return _.createElement(O.c,{icon:_.createElement(M.a,{linked:!1,tribe:e,includeHovercard:!1}),mainText:_.createElement(I.a,{tribe:e})});throw Error("Tribe info is expected for AudiencePickerSelector.")}}]),a}(_.Component);U.displayName="AudiencePickerSelectorResult"},sffC:function(e,n,a){"use strict";a.r(n);var t={};a.r(t),a.d(t,"default",(function(){return b}));var l={};a.r(l),a.d(l,"default",(function(){return h}));var i=a("8ZkK"),r=a.n(i),s=a("tQZz"),o=a.n(s),u=a("g8yt"),d=a.n(u),c=a("10u2"),m=a.n(c),g=a("MMxs"),p=a.n(g),f=function(){var e=[{kind:"LocalArgument",name:"recipientUid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"threadCreate",storageKey:null,args:[{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"recipientUid",variableName:"recipientUid"}],concreteType:"ThreadCreate",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"errorMsg",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"UserMessageModal_threadCreate_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"UserMessageModal_threadCreate_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"UserMessageModal_threadCreate_Mutation",id:"0df53606c05800d994fe0e77e35ea7d41ffdfb9fe7a8f9a6627d72541a779030",text:null,metadata:{}}}}();f.hash="ea9c19dd6a677f5cd530e1c4affb6b83";var b=f,y=function(){var e=[{kind:"LocalArgument",name:"recipientUid",type:"BigInt!",defaultValue:null}],n=[{kind:"Variable",name:"uid",variableName:"recipientUid"}],a={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i=[l,t,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}];return{kind:"Request",fragment:{kind:"Fragment",name:"UserMessageModalQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:n,concreteType:"User",plural:!1,selections:[a,{kind:"FragmentSpread",name:"UserName_user",args:null},{kind:"FragmentSpread",name:"UserPhoto_user",args:null}]}]},operation:{kind:"Operation",name:"UserMessageModalQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:n,concreteType:"User",plural:!1,selections:[a,t,l,{kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:i},{kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:i},{kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"annotate_with_ids",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}]},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerBundleSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"consumerBundleActive",args:null,storageKey:null}]}]}]},params:{operationKind:"query",name:"UserMessageModalQuery",id:"e6309c1e02204e428b8bff094c2d2cf9c26b17d20088fa4e0421784004eaa854",text:null,metadata:{}}}}();y.hash="c4835464356c2af38372775325346838";var v,k,h=y,S=a("q1tI"),F=a("VyO/"),T=a("nwxp"),E=a("nW6E"),w=a("7r18"),C=a("jufJ"),_=a("LNH1"),K=a("RA+f"),A=a("R+um"),O=a("r+vq"),L=a("AFGi"),M=a("EreF"),I=a("LJFN"),P=a("zWiD"),q=a("OMLc"),x=function(e){m()(a,e);var n=p()(a);function a(e){var t;return r()(this,a),(t=n.call(this,e)).editorRef=void 0,t.editorRef=S.createRef(),t.state={editorHasContent:!1},t.handleComposerMeaningfulChange=t.handleComposerMeaningfulChange.bind(d()(t)),t}return o()(a,[{key:"threadCreateMutation",value:function(e,n){var t=this.props,l=t.extraProps,i=t.dismissModalFlow,r=l.recipientUid,s={mutation:a.mutations.threadCreate,variables:{recipientUid:r,content:JSON.stringify(e)},setToast:n};return Object(F.c)(s).then((function(e){var a,t=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.threadCreate,l=t.success,r=t.errorMsg;r?n.error(Object(C.Y)(r)):l?i({setSuccessToast:!0}):n.genericError()}))}},{key:"handleSubmit",value:function(e){var n,a=null===(n=this.editorRef.current)||void 0===n?void 0:n.save();a?Object(L.p)(a)?e.error(Object(C.Z)("Please finish your message before sending.")):this.threadCreateMutation(a,e):e.genericError()}},{key:"handleComposerMeaningfulChange",value:function(e){e&&e.isEmpty&&this.setState({editorHasContent:!e.isEmpty()})}},{key:"renderRecipientField",value:function(){var e=this.props.queryResult.user;return e?S.createElement(K.i,{mx:"large",alignItems:"center"},S.createElement(K.d,{px:6,py:1,bg:"gray_light",borderRadius:"pill"},S.createElement(P.a,{bold:!0,color:"gray"},S.createElement(C.J,null,"To: "))),S.createElement(K.m,{ml:"small"},S.createElement(O.a,{user:e,size:24,shouldShowBadge:!0})),S.createElement(K.d,{ml:"tiny"},S.createElement(A.b,{user:e}))):null}},{key:"render",value:function(){var e=this,n=this.props,a=n.dismissModalFlow,t=n.queryResult.user,l=this.props.extraProps.initialContent;if(!t)throw Error("User info is required for UserMessageModal.");var i=S.createElement(K.m,{alignItems:"center"},Object(C.Z)("Send"),S.createElement(q.a,{name:"Send",size:20,ml:"tiny",color:"white"}));return S.createElement(_.b,null,(function(n){return S.createElement(E.f,{header:S.createElement(w.m,null,S.createElement(C.J,null,"New Message")),hasPadding:!1,navButtonProps:{onClick:function(){return a()}},primaryButtonProps:{text:i,onClick:function(){return e.handleSubmit(n)},disabled:!e.state.editorHasContent},secondaryButtonProps:{text:Object(C.Z)("Cancel"),onClick:function(){return a()}}},e.renderRecipientField(),S.createElement(K.d,{my:"medium",mx:Object(T.g)()?"small":"large",maxHeight:Object(T.b)()?"400px":undefined,overflowY:Object(T.b)()?"auto":undefined,borderAll:Object(T.b)(),borderRadius:"small"},S.createElement(M.a,{ref:e.editorRef,placeholder:Object(C.Z)("Type a message..."),content:null!==l&&void 0!==l?l:Object(L.h)(),focusOnLoad:!0,toolbarOnWeb:!0,toolbarOnMobile:!1,commandsToDisable:["horizontal-rule","video"],onMeaningfulChange:e.handleComposerMeaningfulChange,settingOverrides:{lightWeightContentToolbar:Object(I.d)()}})))}))}}]),a}(S.Component);x.queries={onLoad:void 0!==v?v:v=l},x.mutations={threadCreate:void 0!==k?k:k=t},x.displayName="UserMessageModal";n["default"]=x},szkJ:function(e,n,a){"use strict";var t;a.d(n,"c",(function(){return r})),a.d(n,"b",(function(){return s})),function(e){e.traffic="traffic",e.lead_generation="lead_generation",e.profile="profile"}(t||(t={})),n.a=t;var l=new Map([[t.traffic,0],[t.lead_generation,1],[t.profile,2]]),i=new Map([[0,t.traffic],[1,t.lead_generation],[2,t.profile]]);function r(e){return l.get(t[e])}function s(e){if(null===e)return null;if("number"===typeof e){var n=i.get(e);if(!n)throw new Error("".concat(e," is not a valid CustomActionObjectives"));return n}return"string"===typeof e?t[e]:e}},ttvG:function(e,n,a){"use strict";a.r(n),a.d(n,"editCredentialsFlowTransition",(function(){return g}));var t=a("8ZkK"),l=a.n(t),i=a("tQZz"),r=a.n(i),s=a("10u2"),o=a.n(s),u=a("MMxs"),d=a.n(u),c=a("q1tI"),m=a("nW6E"),g=function(e){var n=e.flowData;(0,e.showNextModal)({modalProps:{name:n.nextModal}})},p=function(e){o()(a,e);var n=d()(a);function a(){return l()(this,a),n.apply(this,arguments)}return r()(a,[{key:"render",value:function(){var e=this.props,n=e.children,a=e.businessProfileUid,t=e.handleEditCredentials;return c.createElement(m.d,{modalFlowProps:{transitionName:"editCredentialsFlowTransition",containerProps:{easyDismissEnabled:!0},initialFlowData:{nextModal:"EditCredentialsProfilePickerStep",writeOnBehalfUid:a},initialModalProps:{name:"EditCredentialsProfilePickerStep"},postDismissCallback:function(e){if(e){var n=e,a=n.useBusinessCredentialFlow,l=n.businessUid,i=n.businessCredential,r=n.businessName,s=n.businessLogoUrl;a&&l===undefined||t({useBusinessCredentialFlow:a,businessUid:l,businessCredential:i,businessName:r,businessLogoUrl:s})}}}},(function(e){var a=e.openModalFlow;return n({openModalFlow:a})}))}}]),a}(c.Component);p.displayName="EditCredentialsFlow",n["default"]=p},vJPj:function(e,n,a){"use strict";a.d(n,"a",(function(){return t}));var t=36},vf4k:function(e,n,a){"use strict";a.r(n);var t={};a.r(t),a.d(t,"default",(function(){return y}));var l={};a.r(l),a.d(l,"default",(function(){return h}));var i={};a.r(i),a.d(i,"default",(function(){return x}));var r=a("8ZkK"),s=a.n(r),o=a("tQZz"),u=a.n(o),d=a("g8yt"),c=a.n(d),m=a("10u2"),g=a.n(m),p=a("MMxs"),f=a.n(p),b=function(){var e=[{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"recipientTypes",type:"[TribeLevels!]!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null}],n=[{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"recipientTypes",variableName:"recipientTypes"},{kind:"Variable",name:"tribeId",variableName:"tribeId"}],a={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"errorMsg",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"recipientCount",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},o=[s,r,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}];return{kind:"Request",fragment:{kind:"Fragment",name:"TribeGroupMessageModal_tribeGroupMessageSend_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"tribeGroupMessageSend",storageKey:null,args:n,concreteType:"TribeGroupMessageSend",plural:!1,selections:[a,t,l,{kind:"LinkedField",alias:null,name:"failedRecipients",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[i,{kind:"FragmentSpread",name:"UserName_user",args:null}]}]}]},operation:{kind:"Operation",name:"TribeGroupMessageModal_tribeGroupMessageSend_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"tribeGroupMessageSend",storageKey:null,args:n,concreteType:"TribeGroupMessageSend",plural:!1,selections:[a,t,l,{kind:"LinkedField",alias:null,name:"failedRecipients",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[i,r,s,{kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:o},{kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:o},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"annotate_with_ids",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}]}]}]}]},params:{operationKind:"mutation",name:"TribeGroupMessageModal_tribeGroupMessageSend_Mutation",id:"dddf478a21d3dc79957eaba5bbdc0ba0e9a04a0baca7e7ed0f25dbce2b75eb00",text:null,metadata:{}}}}();b.hash="119a0a2fdc4101c48393ec3849139900";var y=b,v=function(){var e=[{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null}],n=[{kind:"Variable",name:"tribeId",variableName:"tribeId"}],a={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"TribeGroupMessageModalQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:n,concreteType:"Tribe",plural:!1,selections:[a,t,{kind:"FragmentSpread",name:"TribeGroupMessageRecipientLabel_tribe",args:null}]}]},operation:{kind:"Operation",name:"TribeGroupMessageModalQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:n,concreteType:"Tribe",plural:!1,selections:[a,t,{kind:"ScalarField",alias:null,name:"numContributors",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numAdmins",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numModerators",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerPermission",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"rd_only_tribe_theme_color_on_names",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"colorHex",args:null,storageKey:null}]}]}]},params:{operationKind:"query",name:"TribeGroupMessageModalQuery",id:"18e6744356c229fc1f6f8bb27c7c8aa730d9732fe2f68dde5f78d06a385e976c",text:null,metadata:{}}}}();v.hash="953f6a998668eddc862594d10de2debe";var k,h=v,S=a("q1tI"),F=a("VyO/"),T=a("nwxp"),E=a("nW6E"),w=a("7r18"),C=a("jufJ"),_=a("LNH1"),K=a("RA+f"),A=a("R+um"),O=a("qygo"),L=a("6sb5"),M=a("AFGi"),I=a("EreF"),P=a("amAD"),q={kind:"Fragment",name:"TribeGroupMessageRecipientLabel_tribe",type:"Tribe",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"numContributors",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numAdmins",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numModerators",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerPermission",args:null,storageKey:null},{kind:"FragmentSpread",name:"TribeName_tribe",args:null}],hash:"346650e4f8799c816a23257bbe8c4473"},x=q,j=a("WxC/"),D=a("PuWf"),Q=function(e){g()(a,e);var n=f()(a);function a(){return s()(this,a),n.apply(this,arguments)}return u()(a,[{key:"render",value:function(){var e=this.props,n=e.tribe,a=e.recipientType,t=n.numContributors,l=n.numAdmins,i=n.numModerators,r=n.viewerPermission,s=Object(P.b)(r),o=0;return a===P.a.admin?o=l-(s===P.a.admin?1:0):a===P.a.moderator?o=i-(s===P.a.moderator?1:0):a===P.a.contributor&&(o=t-(s===P.a.contributor?1:0)),S.createElement(O.b,{key:a,text:S.createElement(C.J,null,S.createElement(j.a,{level:a})," of"," ",S.createElement(D.a,{tribe:n})," (",S.createElement(C.o,{value:o}),")")})}}]),a}(S.Component);Q.fragments={tribe:void 0!==k?k:k=i},Q.displayName="TribeGroupMessageRecipientLabel";var N,R,V=Object(F.b)(Q),U=function(e){g()(a,e);var n=f()(a);function a(e){var t;return s()(this,a),(t=n.call(this,e)).editorRef=void 0,t.editorRef=S.createRef(),t.state={editorHasContent:!1},t.handleComposerMeaningfulChange=t.handleComposerMeaningfulChange.bind(c()(t)),t}return u()(a,[{key:"tribeGroupMessageSendMutation",value:function(e,n){var t=this.props,l=t.queryResult,i=t.extraProps,r=t.dismissModalFlow,s=l.tribe,o=i.recipientTypes;if(!s)return null;var u={mutation:a.mutations.tribeGroupMessageSend,variables:{recipientTypes:o,tribeId:s.tribeId,content:JSON.stringify(e)}};return Object(F.c)(u).then((function(e){var a,t=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.tribeGroupMessageSend,l=t.success,i=t.errorMsg,s=t.recipientCount,o=t.failedRecipients;if(i)n(Object(C.Y)(i),_.d.error);else if(l)n(S.createElement(C.J,null,"You've successfully sent this message to ",S.createElement(C.o,{value:s}),S.createElement(C.H,{value:s},{ONE:" person",OTHER:" people"}),"."),_.d.success),r();else if(o){var u=o.length,d=s-u;n.error(S.createElement(S.Fragment,null,S.createElement(C.J,null,"This message was sent to ",S.createElement(C.o,{value:d}),S.createElement(C.H,{value:d},{ONE:" person",OTHER:" people"}),"."),S.createElement(L.a,null),S.createElement(C.J,null,"Failed to send to"," ",S.createElement(C.o,{value:u}),S.createElement(C.H,{value:u},{ONE:" person",OTHER:" people"})," (",S.createElement(C.M,null,S.createElement(C.J,null,S.createElement(C.w,null,o.map((function(e){return S.createElement(A.b,{key:e.uid,user:e})}))))),").")))}else n.genericError()}))}},{key:"handleSubmit",value:function(e){var n,a=null===(n=this.editorRef.current)||void 0===n?void 0:n.save();a?Object(M.p)(a)?e.error(Object(C.Z)("Please finish your message before sending.")):this.tribeGroupMessageSendMutation(a,e):e.genericError()}},{key:"handleComposerMeaningfulChange",value:function(e){e&&e.isEmpty&&this.setState({editorHasContent:!e.isEmpty()})}},{key:"renderRecipientFieldDescriptionText",value:function(){var e=this.props.extraProps.recipientTypes,n=e.indexOf(P.a.admin)>-1;return S.createElement(K.d,{mt:"medium",mx:"large"},S.createElement(K.r,{color:"gray_light",size:"small"},S.createElement(C.J,null,S.createElement(C.w,null,e.map((function(e){return S.createElement(C.M,{translateParamName:"capitalized_plural_tribe_role",key:e},S.createElement(j.a,{key:e,level:e}))})))," will receive individual messages.",!n&&" Admins will also receive this message.")))}},{key:"renderRecipientField",value:function(){var e=this.props,n=e.queryResult,a=e.extraProps,t=n.tribe,l=a.recipientTypes;return t?S.createElement(K.i,{mx:"large"},S.createElement(C.J,null,"To: "),S.createElement(O.a,{alignItems:"center"},l.map((function(e){return S.createElement(S.Fragment,{key:e},S.createElement(V,{tribe:t,recipientType:e}))})))):null}},{key:"render",value:function(){var e=this,n=this.props,a=n.dismissModalFlow;if(!n.queryResult.tribe)throw Error("Tribe info is required for TribeGroupMessageModal.");return S.createElement(_.b,null,(function(n){return S.createElement(E.f,{header:S.createElement(w.m,null,S.createElement(C.J,null,"New Message")),hasPadding:!1,navButtonProps:{onClick:function(){return a()}},primaryButtonProps:{text:Object(C.Z)("Send"),onClick:function(){return e.handleSubmit(n)},disabled:!e.state.editorHasContent},secondaryButtonProps:{text:Object(C.Z)("Cancel"),onClick:function(){return a()}}},e.renderRecipientField(),e.renderRecipientFieldDescriptionText(),S.createElement(K.d,{my:"medium",mx:"large",maxHeight:Object(T.b)()?"400px":undefined,overflowY:Object(T.b)()?"scroll":undefined,borderAll:Object(T.b)()},S.createElement(I.a,{ref:e.editorRef,placeholder:Object(C.Z)("Type a message..."),content:Object(M.h)(),focusOnLoad:!0,toolbarOnWeb:!1,toolbarOnMobile:!1,commandsToDisable:["horizontal-rule","video"],onMeaningfulChange:e.handleComposerMeaningfulChange})))}))}}]),a}(S.Component);U.queries={onLoad:void 0!==N?N:N=l},U.mutations={tribeGroupMessageSend:void 0!==R?R:R=t},U.displayName="TribeGroupMessageModal";n["default"]=U},vwvq:function(e,n,a){"use strict";var t={};a.r(t),a.d(t,"default",(function(){return b}));var l={};a.r(l),a.d(l,"default",(function(){return v}));var i,r,s=a("8ZkK"),o=a.n(s),u=a("tQZz"),d=a.n(u),c=a("10u2"),m=a.n(c),g=a("MMxs"),p=a.n(g),f={kind:"Fragment",name:"UserNameCredential_user",type:"User",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},{kind:"FragmentSpread",name:"UserLink_user",args:null},{kind:"FragmentSpread",name:"UserName_user",args:null}],hash:"b20cf1318e2af03f0a46e2a51b98b88e"},b=f,y={kind:"Fragment",name:"UserNameCredential_credential",type:"Credential",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"credentialId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"translatedString",args:null,storageKey:null}],hash:"dac8f1c3c723f35f9d97449076670f5d"},v=y,k=a("q1tI"),h=a("6aqD"),S=a("ZXE+"),F=a("nwxp"),T=a("FuLD"),E=a("RA+f"),w=a("jufJ"),C=a("LW3J"),_=a("nW6E"),K=a("1cij"),A=a("VyO/"),O=a("UDrg"),L=a("sC65"),M=a("R+um"),I=function(e){m()(a,e);var n=p()(a);function a(){return o()(this,a),n.apply(this,arguments)}return d()(a,[{key:"render",value:function(){var e,n=this.props,a=n.credential,t=n.user,l=n.boldName,i=n.underlineCredential,r=n.linked,s=void 0===r||r,o=n.businessCredential,u=n.businessTagline,d=n.tribeMemberPermissionBadge,c=n.color,m=n.linkColor,g=n.credentialTextProps,p=n.isTribePremiumMember;if(!o&&!a&&!u&&!t)return null;var f=(null===o||void 0===o?void 0:o.translatedString)||(null===a||void 0===a?void 0:a.translatedString)||u,b=s?k.createElement(E.r,{as:"span",bold:l},k.createElement(L.a,{user:t,includeHovercard:this.props.includeHovercard,color:m||c,tribeMemberPermissionBadge:d,isTribePremiumMember:p})):k.createElement(E.r,{as:"span",bold:l},k.createElement(M.b,{user:t,tribeMemberPermissionBadge:d,badgeColor:"white"===c?"white":"gray",isTribePremiumMember:p})),y=f?k.createElement(w.J,null,b,k.createElement(k.Fragment,null,", ",k.createElement(E.r,Object.assign({as:"span",borderBottom:null!==(e=!!i||null)&&void 0!==e?e:undefined,borderWidth:"regular",style:{wordBreak:"break-word"}},g),k.createElement(w.L,{text:Object(S.a)(f,110),translateParamName:"credential"})))):k.createElement(w.J,null,b),v=null;return!f&&Object(F.b)()&&this.props.answerContext&&this.props.answerNodeId&&!t.isAnon&&Object(T.d)(t)&&(v=k.createElement(_.d,{modalFlowProps:{initialModalProps:{name:"EditCredentials",queryVariables:{uid:t.uid,choose:!0,nodeId:this.props.answerNodeId}},initialFlowData:{chooseCredentialContentType:O.a.answer,chooseCredentialOid:this.props.answerContext},transitionName:"editCredentialsTransition"}},(function(e){var n=e.openModalFlow;return k.createElement(E.d,{as:"span",color:"gray_light"},k.createElement(E.o,{href:"#",onClick:function(e){e.preventDefault(),n()}},k.createElement(w.J,null,"Add Credential")))}))),k.createElement(k.Fragment,null,k.createElement(C.a,null,y,v),!(null!==o&&void 0!==o&&o.translatedString)&&a&&a.translatedString&&Object(K.d)()&&k.createElement(K.a,{type:"credential",id:a.credentialId}))}}]),a}(Object(h.s)(k.Component));I.fragments={credential:void 0!==i?i:i=l,user:void 0!==r?r:r=t};n.a=Object(A.b)(I)},wB5M:function(e,n,a){"use strict";a.d(n,"a",(function(){return v}));var t=a("rhDr"),l=a.n(t),i=a("8ZkK"),r=a.n(i),s=a("tQZz"),o=a.n(s),u=a("10u2"),d=a.n(u),c=a("MMxs"),m=a.n(c),g=a("q1tI"),p=a("RA+f"),f=a("AFGi"),b=a("3wQG"),y=a("Kh5g"),v=function(e){d()(a,e);var n=m()(a);function a(e){var t;r()(this,a);var l=(t=n.call(this,e)).props,i=l.qt,s=l.charLimit,o=void 0===s?b.b:s,u=l.initiallyExpanded,d=void 0!==u&&u,c=l.hasImageBoundary,m=void 0===c||c,g=l.hasNonTextNodeLimit,p=void 0===g||g,y=Object(f.t)(i),v=!o&&!m||Object(f.x)(i,o,m,p);return t.state={isExpanded:y||d||!v},t}return o()(a,[{key:"render",value:function(){var e=this,n=this.props,a=n.qt,t=n.charLimit,i=n.truncationType,r=n.fontSize,s=n.bg,o=n.isSensitive,u=n.restrictMaxHeight,d=n.afterExpand,c=n.renderFullContent,m=void 0!==c&&c,f=n.maxImageHeight,v=n.disableFullWidthImageContainer,k=l()(n,["qt","charLimit","truncationType","fontSize","bg","isSensitive","restrictMaxHeight","afterExpand","renderFullContent","maxImageHeight","disableFullWidthImageContainer"]);return delete k.initiallyExpanded,g.createElement(p.d,Object.assign({},k,{onClick:function(){d&&d(),e.setState({isExpanded:!0})},maxWidth:"100%"}),this.state.isExpanded?g.createElement(y.a,{qt:a,fontSize:r,isSensitive:o,maxImageHeight:f}):g.createElement(g.Fragment,null,g.createElement(b.e,{qt:a,fontSize:r,bg:s,truncationType:i,charLimit:t,isSensitive:o,restrictMaxHeight:u,disableFullWidthImageContainer:v}),m?g.createElement(p.d,{display:"none"},g.createElement(y.a,{qt:a,fontSize:r,isSensitive:o,maxImageHeight:f})):null))}}]),a}(g.Component)},x43M:function(e,n,a){"use strict";var t;a.d(n,"b",(function(){return i})),function(e){e.generic="generic",e.insufficient_permissions="insufficient_permissions",e.title_and_content_empty="title_and_content_empty",e.title_empty="title_empty",e.content_empty="content_empty",e.title_too_long="title_too_long",e.content_too_long="content_too_long",e.rate_limit_exceeded="rate_limit_exceeded",e.user_banned="user_banned",e.user_edit_blocked="user_edit_blocked",e.requires_external_links="requires_external_links",e.requires_quora_links="requires_quora_links",e.requires_text="requires_text",e.tribe_does_not_accept_posts="tribe_does_not_accept_posts"}(t||(t={})),n.a=t;new Map([[t.generic,1],[t.insufficient_permissions,3],[t.title_and_content_empty,4],[t.title_empty,5],[t.content_empty,6],[t.title_too_long,7],[t.content_too_long,8],[t.rate_limit_exceeded,9],[t.user_banned,10],[t.user_edit_blocked,11],[t.requires_external_links,12],[t.requires_quora_links,13],[t.requires_text,14],[t.tribe_does_not_accept_posts,15]]);var l=new Map([[1,t.generic],[3,t.insufficient_permissions],[4,t.title_and_content_empty],[5,t.title_empty],[6,t.content_empty],[7,t.title_too_long],[8,t.content_too_long],[9,t.rate_limit_exceeded],[10,t.user_banned],[11,t.user_edit_blocked],[12,t.requires_external_links],[13,t.requires_quora_links],[14,t.requires_text],[15,t.tribe_does_not_accept_posts]]);function i(e){if(null===e)return null;if("number"===typeof e){var n=l.get(e);if(!n)throw new Error("".concat(e," is not a valid TribePostErrorCodes"));return n}return"string"===typeof e?t[e]:e}},xdZJ:function(e,n,a){"use strict";a.d(n,"a",(function(){return t})),a.d(n,"b",(function(){return l})),a.d(n,"c",(function(){return m})),a.d(n,"d",(function(){return g}));var t,l,i=a("8meh"),r=a.n(i),s=a("jufJ"),o=a("q1tI"),u=a("R+um");!function(e){e[e.none=0]="none",e[e.tooShortQuestion=1]="tooShortQuestion",e[e.improperQuestion=2]="improperQuestion",e[e.directQuestion=3]="directQuestion",e[e.anyoneQuestion=4]="anyoneQuestion",e[e.canAnyoneQuestion=5]="canAnyoneQuestion",e[e.badPunctuation=6]="badPunctuation",e[e.surveyQuestion=7]="surveyQuestion",e[e.whoCanQuestion=8]="whoCanQuestion",e[e.badSurveyPhrase=9]="badSurveyPhrase",e[e.wrongLanguage=10]="wrongLanguage",e[e.tooLongQuestion=11]="tooLongQuestion",e[e.missingQuestionMark=12]="missingQuestionMark",e[e.missingInvertedQuestionMark=13]="missingInvertedQuestionMark",e[e.wrongScript=71]="wrongScript",e[e.userBlocked=101]="userBlocked",e[e.questionExists=102]="questionExists",e[e.a2aFailure=103]="a2aFailure",e[e.invalidSource=105]="invalidSource",e[e.unconfirmedEmailUserRateLimit=106]="unconfirmedEmailUserRateLimit",e[e.needsEmailConfirmation=107]="needsEmailConfirmation",e[e.seededQuestionDNE=109]="seededQuestionDNE",e[e.seededQuestionTooSimilar=110]="seededQuestionTooSimilar",e[e.translatedToTranslation=111]="translatedToTranslation",e[e.shouldBeTribeSubmission=112]="shouldBeTribeSubmission",e[e.shouldBeTribeContentQueueItem=113]="shouldBeTribeContentQueueItem"}(t||(t={})),function(e){e[e.none=0]="none",e[e.unconfirmedEmail=1]="unconfirmedEmail",e[e.noPermission=2]="noPermission",e[e.linkInvalid=3]="linkInvalid"}(l||(l={}));var d="This question should be more general. Try starting your question with 'What is...', 'How do I...' or 'Why does...'",c="This question should be a complete sentence. Try starting your question with 'What is...', 'How do I...' or 'Why does...'",m=function(e,n,a,l,i){var m;return e||!n?a?Object(s.Z)(o.createElement(o.Fragment,null,"You asked ",o.createElement(u.b,{user:a})," this question. You will be notified when they answer it.")):Object(s.Z)("Successfully asked question."):Object(s.Z)(o.createElement(s.c,{value:n},(m={},r()(m,t.tooShortQuestion,"This question needs more detail. Add more information to ask a clear question, written as a complete sentence."),r()(m,t.tooLongQuestion,i?o.createElement(o.Fragment,null,"This question should be shorter. Please rephrase the question to be a concise, easily understood question with fewer than ",o.createElement(s.o,{value:i}),o.createElement(s.H,{value:i},{ONE:" character.",OTHER:" characters."})):"This question should be shorter. Please rephrase the question to be more concise."),r()(m,t.improperQuestion,c),r()(m,t.directQuestion,c),r()(m,t.anyoneQuestion,d),r()(m,t.canAnyoneQuestion,d),r()(m,t.badPunctuation,"This question has extra question marks. Rewrite this question to end with single question mark."),r()(m,t.surveyQuestion,d),r()(m,t.whoCanQuestion,d),r()(m,t.badSurveyPhrase,c),r()(m,t.missingQuestionMark,"This question should end with a question mark."),r()(m,t.missingInvertedQuestionMark,"This question should include an inverted question mark."),r()(m,t.userBlocked,"You have been blocked from adding questions."),r()(m,t.invalidSource,"The source should be a valid link."),r()(m,t.unconfirmedEmailUserRateLimit,"You have reached your question adding limit."),r()(m,t.needsEmailConfirmation,"Please confirm your email before adding this question."),r()(m,t.seededQuestionDNE,"Failed to add question."),r()(m,t.seededQuestionTooSimilar,"Failed to add question."),r()(m,t.translatedToTranslation,"This question already exists as a translation of another question."),r()(m,t.shouldBeTribeSubmission,"Successfully submitted to Space."),r()(m,t.shouldBeTribeContentQueueItem,"Successfully added this question to the queue."),r()(m,t.questionExists,"This question has already been asked."),r()(m,t.a2aFailure,"Could not ask this user to answer this question."),r()(m,t.wrongScript,l?o.createElement(o.Fragment,null,"This question should be in ",o.createElement(s.C,{languageCode:l,nativeName:!0})):"This question is in the wrong language."),m)))},g=function(e,n){var a;return e||!n?Object(s.Z)("Successfully shared the link."):Object(s.Z)(o.createElement(s.c,{value:n},(a={},r()(a,l.unconfirmedEmail,"Please confirm your email before adding a link."),r()(a,l.noPermission,"You do not have permission to add a link."),r()(a,l.linkInvalid,"This link is invalid. Enter a valid URL."),a)))}},xgmy:function(e,n,a){"use strict";var t=a("8ZkK"),l=a.n(t),i=a("tQZz"),r=a.n(i),s=a("10u2"),o=a.n(s),u=a("MMxs"),d=a.n(u),c=a("q1tI"),m=a("RA+f"),g=a("jufJ"),p=a("F6zL"),f=a("SW3P"),b=function(e){o()(a,e);var n=d()(a);function a(){return l()(this,a),n.apply(this,arguments)}return r()(a,[{key:"render",value:function(){var e=this,n=this.props.currentUrl||"";return Object(f.a)("disable_question_context_link")?null:c.createElement(m.d,{pt:"small"},c.createElement(p.c,{iconName:"Link",variant:"small",noBorder:!0,placeholder:Object(g.Z)("Optional: include a link that gives context"),value:n,onChange:function(n){return e.props.onSourceUrlChange(n.target.value)}}))}}]),a}(c.Component);b.displayName="AskQuestionSourceInput",n.a=b},zWiD:function(e,n,a){"use strict";a.d(n,"a",(function(){return o}));var t=a("rhDr"),l=a.n(t),i=a("RA+f"),r=a("q1tI"),s=a("Ftba"),o=function(e){var n=e.children,a=e.fallbackFontSize,t=void 0===a?"regular":a,o=e.fallbackTextProps,u=l()(e,["children","fallbackFontSize","fallbackTextProps"]);return r.createElement(i.r,Object.assign({},u,{fontSize:Object(s.f)()?"upcase_header":t,uppercase:!0},!Object(s.f)()&&o),n)}},zm58:function(e,n,a){"use strict";a.d(n,"a",(function(){return _}));var t=a("8ZkK"),l=a.n(t),i=a("tQZz"),r=a.n(i),s=a("10u2"),o=a.n(s),u=a("MMxs"),d=a.n(u),c=a("q1tI"),m=a("sEfC"),g=a.n(m),p=a("bdgK"),f=a("nwxp"),b=a("yju1"),y=a("0xW3"),v=a("jufJ"),k=a("EreF"),h=a("AFGi"),S=a("nW6E"),F=a("RA+f"),T=a("LJFN"),E=a("4Xda"),w=a("SKAY"),C=a("rS24"),_=function(e){o()(a,e);var n=d()(a);function a(e){var t,i;return l()(this,a),(i=n.call(this,e)).editorRef=void 0,i.containerRef=void 0,i.resizeObserver=void 0,i.debouncedSaveDraft=void 0,i.lastSavedDraft=void 0,i.photoPermissionMessageHandler=void 0,i.handleSaveDraft=function(){var e=i.props.onNavButtonClick;i.saveDraft(!1),e&&e(i.editorRef.current.save())},i.handleClearDraft=function(){var e=i.props.onNavButtonClick;i.clearDraft(!1),e&&e(i.editorRef.current.save())},i.editorRef=null!==(t=e.ref)&&void 0!==t?t:c.createRef(),i.containerRef=c.createRef(),i.lastSavedDraft=undefined,i.debouncedSaveDraft=g()((function(){i.props.saveDraft&&i.saveDraft(!0)}),750,{maxWait:1e4,trailing:!0}),i}return r()(a,[{key:"componentDidMount",value:function(){if(Object(f.g)()){var e=this.props.saveDraft;Object(T.f)()?(Object(w.registerMessageHandler)("qtextNativeSaveDraft",this.handleSaveDraft),Object(w.registerMessageHandler)("qtextNativeClearDraft",this.handleClearDraft)):(Object(y.handleEventFromWebnode)("qtextNativeSaveDraft",this.handleSaveDraft),Object(y.handleEventFromWebnode)("qtextNativeClearDraft",this.handleClearDraft)),Object(b.a)("setupEditor",{hasDraft:!!e})}this.setupResizeObserver()}},{key:"componentWillUnmount",value:function(){this.resizeObserver&&this.resizeObserver.disconnect(),Object(f.g)()&&this.photoPermissionMessageHandler&&(Object(w.removeMessageHandler)("imageButtonTapped",this.photoPermissionMessageHandler),Object(T.f)()&&(Object(w.removeMessageHandler)("qtextNativeSaveDraft",this.handleSaveDraft),Object(w.removeMessageHandler)("qtextNativeClearDraft",this.handleClearDraft)))}},{key:"componentDidUpdate",value:function(e){var n;!this.props.onEditorContentHeightChange&&e.onEditorContentHeightChange&&(null===(n=this.resizeObserver)||void 0===n||n.disconnect())}},{key:"renderPhotoPermissionModal",value:function(){var e=this;return c.createElement(C.a,null,(function(n){return e.photoPermissionMessageHandler||(e.photoPermissionMessageHandler=function(e){var a;return n(null!==(a=null===e||void 0===e?void 0:e.photoAuthorizationStatus)&&void 0!==a?a:0)},Object(w.registerMessageHandler)("imageButtonTapped",e.photoPermissionMessageHandler)),null}))}},{key:"setupResizeObserver",value:function(){var e=this.props.onEditorContentHeightChange;if(e&&this.containerRef.current){var n=new p.a((function(n){n.forEach((function(n){var a=n.contentRect.height;e(Math.round(a))}))}));n.observe(this.containerRef.current),this.resizeObserver=n}}},{key:"saveDraft",value:function(e){var n=this.props.saveDraft;if(n&&this.editorRef.current){var a=this.editorRef.current.save();e&&JSON.stringify(a)===this.lastSavedDraft||(n(a,e),this.lastSavedDraft=JSON.stringify(a),Object(f.g)()&&!e&&Object(b.a)("draftSaveComplete",{success:!0}))}}},{key:"clearDraft",value:function(e){var n=this.props,a=n.saveDraft,t=n.editorKey;a&&(a(Object(h.h)(),e),Object(f.g)()&&Object(b.a)("draftClearComplete",{key:t,success:!0}))}},{key:"showDiscardActionSheet",value:function(){var e=this,n=this.props.onNavButtonClick;Object(b.a)("showActionSheet",{title:"",buttonTitles:[Object(v.Z)("Discard"),Object(v.Z)("Keep Editing")],destructiveButtonIndex:0},(function(a){0===a.buttonIndex&&n&&n(e.editorRef.current.save())}))}},{key:"showDraftActionSheet",value:function(){var e=this,n=this.props.onNavButtonClick;Object(b.a)("showActionSheet",{title:"",buttonTitles:[Object(v.Z)("Clear Draft"),Object(v.Z)("Save Draft"),Object(v.Z)("Keep Editing")],destructiveButtonIndex:0},(function(a){var t=a.buttonIndex;if(0===t)e.clearDraft(!1);else{if(1!==t)return;e.saveDraft(!1)}n&&n(0===t?Object(h.h)():e.editorRef.current.save())}))}},{key:"isDirty",value:function(){var e,n;return null!==(e=null===(n=this.editorRef.current)||void 0===n?void 0:n.isDirty())&&void 0!==e&&e}},{key:"focusEditor",value:function(){var e;null===(e=this.editorRef.current)||void 0===e||e.focusEditor()}},{key:"save",value:function(){var e;return null===(e=this.editorRef.current)||void 0===e?void 0:e.save()}},{key:"onNavButtonClick",value:function(){var e=this.props,n=e.onNavButtonClick,a=e.saveDraft;Object(f.g)()&&this.isDirty()?a?this.showDraftActionSheet():this.showDiscardActionSheet():n&&n(this.editorRef.current.save())}},{key:"render",value:function(){var e=this,n=this.props,a=n.header,t=n.footer,l=n.placeholder,i=n.onPrimaryButtonClick,r=n.primaryButtonDisabled,s=n.showPrimaryButton,o=void 0===s||s,u=n.editorKey,d=n.onFirstChange,m=n.startingContent,g=void 0===m?Object(h.h)():m,p=n.showToolbar,b=void 0===p||p,y=n.titleText,w=void 0===y?Object(v.Z)("Editor"):y,C=n.showTitleText,_=void 0===C||C,K=n.primaryButtonText,A=void 0===K?Object(v.Z)("Post"):K,O=n.secondaryButtonProps,L=n.extraBodyProps,M=n.hasPadding,I=n.subtitleText,P=n.navButton,q=void 0===P?"back":P,x=n.clearOnSubmit,j=void 0!==x&&x,D=n.modalLayoutHeaderExtra,Q=n.modalLayoutHeader,N=n.onEditorMeaningfulChange,R=n.stickyButtonInfo,V=n.useLightWeightContentStyleToolBar,U=void 0!==V&&V,B=n.contentContext;return c.createElement(S.f,{hasPadding:M,navButton:q,footerExtra:t,primaryButtonProps:o&&{text:A,onClick:function(){i&&(i(e.editorRef.current.save()),j&&e.editorRef.current.clear())},disabled:r},extraBodyProps:L,secondaryButtonProps:O,navButtonProps:{onClick:function(){return e.onNavButtonClick()}},titleText:_&&w,subtitleText:I,headerExtra:D,header:Q},a,c.createElement(F.d,{height:Object(f.b)()?"50vh":undefined},U?c.createElement(E.a.Consumer,null,(function(n){return c.createElement(F.d,{px:"medium",pt:"small",innerRef:e.containerRef},c.createElement(k.a,{placeholder:l,content:g,editorKey:u,ref:e.editorRef,onMeaningfulChange:function(n){d&&!e.isDirty()&&d(),null===N||void 0===N||N(n),e.debouncedSaveDraft()},settingOverrides:{imageRemoveButtonEnabled:!0,qtext_hyperlink_embed:!0,qtextReactHyperlinkEmbed:!0,lightWeightContentToolbar:Object(T.d)(),eagerImageUploading:Object(T.d)(),isDarkModeOn:n.isDarkModeOn,minHeight:Object(f.e)()?"50vh":"260px"},isToolbarBottom:!Object(f.f)(),editorPaddingReset:!0,toolbarOnWeb:b,toolbarOnMobile:b,stickyButtonInfo:R,contentContext:B}),Object(f.g)()&&e.renderPhotoPermissionModal())})):c.createElement(k.a,{placeholder:l,content:g,editorKey:u,ref:this.editorRef,onMeaningfulChange:function(n){d&&!e.isDirty()&&d(),null===N||void 0===N||N(n),e.debouncedSaveDraft()},toolbarOnWeb:b,toolbarOnMobile:b})))}}]),a}(c.Component);_.defaultProps={hasPadding:!1},_.displayName="EditorModalLayout"}}]);