(window.ansFrontendRelayWebpackJsonpFunction=window.ansFrontendRelayWebpackJsonpFunction||[]).push([["component-Comments"],{"2ajD":function(e,n){e.exports=function(e){return e!==e}},"5IZ5":function(e,n,l){"use strict";var a=l("rhDr"),i=l.n(a),t=l("q1tI"),r=l("jufJ"),s=l("zLpq"),o=l("OMLc"),u=function(e){return e&&e>0?Object(r.Z)(t.createElement(r.J,null,t.createElement(r.o,{value:e})," ",t.createElement(r.H,{value:e},{ONE:"upvote",OTHER:"upvotes"}))):Object(r.Z)("Upvote")};u.displayName="getAriaLabel";var d=function(e){var n=e.count,l=e.pressed,a=e.onClick,d=e.prominent,m=void 0===d||d,c=e.showText,g=void 0===c||c,p=e.className,y=void 0===p?"":p,k=i()(e,["count","pressed","onClick","prominent","showText","className"]),f=t.createElement(r.J,{context:r.V.verb},"Upvote");return t.createElement(s.a,Object.assign({icon:t.createElement(o.a,{name:"Upvote","aria-label":g?null:Object(r.Z)(f)}),text:g?f:undefined,count:n,pressed:l,variant:m?"blue":"gray",onClick:a,useHaptics:!0,className:y,tooltipText:g?undefined:f,"aria-label":u(n)},k))};d.displayName="UpvoteButton",n.a=d},"5SpG":function(e,n,l){"use strict";l.r(n);var a={};l.r(a),l.d(a,"default",(function(){return p}));var i,t=l("8ZkK"),r=l.n(t),s=l("tQZz"),o=l.n(s),u=l("10u2"),d=l.n(u),m=l("MMxs"),c=l.n(m),g={kind:"Fragment",name:"AnswerComment_answer",type:"Answer",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"first",type:"Int",defaultValue:5},{kind:"LocalArgument",name:"skipCommentList",type:"Boolean",defaultValue:!1}],selections:[{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]},{kind:"FragmentSpread",name:"CommentArea_container",args:[{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"skipCommentList",variableName:"skipCommentList"}]}],hash:"f7aace068152160b44b837f3624d592b"},p=g,y=l("q1tI"),k=l("VyO/"),f=l("nwxp"),v=l("FuLD"),F=l("EFAP"),C=l("RqIh"),S=l("vg+J"),h=function(e){d()(l,e);var n=c()(l);function l(){return r()(this,l),n.apply(this,arguments)}return o()(l,[{key:"render",value:function(){var e=this.props,n=e.answer,l=e.isBorderAll,a=e.initiallyHideReplies,i=e.onClick,t=e.isVisibleForLoggedOut,r=n.author.isBlocking,s=Object(f.g)()&&!!n.tribeItem;return Object(v.b)()&&!t?null:y.createElement(F.e.Consumer,null,(function(e){var t=Object(v.b)()&&e!==C.a.tribe&&e!==C.a.tribe_item;return y.createElement(S.a,{container:n,isCommentsDisabled:r,isBorderAll:l,hideAddRoot:t,autoPaged:s,commentType:"AnswerComment",initiallyHideReplies:a,onClick:i})}))}}]),l}(y.Component);h.fragments={answer:void 0!==i?i:i=a},h.displayName="AnswerComment";n["default"]=Object(k.b)(h)},"8ojC":function(e,n,l){"use strict";l.d(n,"a",(function(){return C}));var a=l("8ZkK"),i=l.n(a),t=l("tQZz"),r=l.n(t),s=l("10u2"),o=l.n(s),u=l("MMxs"),d=l.n(u),m=l("q1tI"),c=l("SKAY"),g=l("Gnru"),p=l("nwxp"),y=l("nW6E"),k=l("AFGi"),f=l("uRky"),v=l("sI7B"),F=l("dRzG"),C=function(e){o()(l,e);var n=d()(l);function l(e){var a;return i()(this,l),(a=n.call(this,e)).state={isSubmitting:!1},a}return r()(l,[{key:"shouldSupportInlineEditor",value:function(){return!!Object(c.getNativeSupportedSetting)("inline_comment_composer")}},{key:"getContainerProps",value:function(){return this.shouldSupportInlineEditor()?{mobileHeight:Object(F.getInitialInlineEditorHeight)(),appearWithAnimation:!1,tapBackgroundToDismiss:!0,dragToDismiss:!1}:{easyDismissEnabled:!1,legacy:!1}}},{key:"renderEditorWrapper",value:function(e){var n=this,l=this.props,a=l.commentType,i=l.containerId,t=l.commentDraftContent,r=void 0===t?"":t,s=l.replyCommentId,o=l.postDismissCallback,u=l.children,d=e.addComment,g=e.logEvent;return m.createElement(v.a,{containerId:i,commentType:a,replyToId:s},(function(e){return m.createElement(y.j,{forceReload:Object(p.a)()&&!Object(c.getNativeSupportedSetting)("reset_editor_when_resetting_modal"),standaloneModalProps:{postDismissCallback:function(l){var t=null!==l&&void 0!==l?l:{},r=t.content,s=t.shouldRefetch;o&&o({content:r,shouldRefetch:s}),r&&(n.state.isSubmitting||(n.setState({isSubmitting:!0}),d(r).then((function(){Object(p.e)()&&e(Object(k.h)()),n.setState((function(){return{isSubmitting:!1}}))}))["catch"]((function(){n.setState((function(){return{isSubmitting:!1}}))})),function(e,n,l){var a,i;switch(n){case"AnswerComment":i="AddAnswerComment",a={aid:l};break;case"ShareComment":i="QuoraShareCommentAdd",a={share_id:l};break;case"PostComment":i="TribePostCommentAdd",a={pid:l};break;default:return null}e(i,a)}(g,a,i)))},modalProps:{name:"CommentAddModal",extraProps:{commentType:a,containerId:i,commentDraftContent:r,replyCommentId:s||0},queryVariables:{showReplyHeader:!!s,replyCommentId:s||0,commentType:a}},containerProps:Object.assign({},n.getContainerProps())}},(function(e){var n=e.openStandaloneModal;return u(n)}))}))}},{key:"render",value:function(){var e=this,n=this.props,l=n.commentType,a=n.containerId,i=n.replyCommentId,t=n.onCommentAdded;return m.createElement(g.ClientLogConsumer,null,(function(n){return m.createElement(f.a,{objectId:a,commentType:l,replyToId:i,onSuccess:function(e){var n=e.commentId,l=e.url;t&&t({commentId:n,url:l})}},(function(l){return e.renderEditorWrapper({addComment:l,logEvent:n})}))}))}}]),l}(m.Component);C.displayName="CommentAddModalOpener"},"9Tc6":function(e,n,l){"use strict";var a={};l.r(a),l.d(a,"default",(function(){return k}));var i={};l.r(i),l.d(i,"default",(function(){return v}));var t=l("8ZkK"),r=l.n(t),s=l("tQZz"),o=l.n(s),u=l("10u2"),d=l.n(u),m=l("MMxs"),c=l.n(m),g=function(){var e=[{kind:"LocalArgument",name:"commentId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"commentEdit",storageKey:null,args:[{kind:"Variable",name:"commentId",variableName:"commentId"},{kind:"Variable",name:"commentType",variableName:"commentType"},{kind:"Variable",name:"content",variableName:"content"}],concreteType:"CommentEdit",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"msg",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"CommentEditMutation_commentEdit_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"CommentEditMutation_commentEdit_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"CommentEditMutation_commentEdit_Mutation",id:"6268f1eb6da818c23a9c05b6483f48a8f55c297edf1ef5e3511abdc459a36d9a",text:null,metadata:{}}}}();g.hash="4dace4024cd3e1d1b173403586d4ecab";var p,y,k=g,f={kind:"Fragment",name:"CommentEditMutation_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null}],hash:"f6edda030d36defdb9faf64a27152363"},v=f,F=l("q1tI"),C=l("VyO/"),S=function(e){d()(l,e);var n=c()(l);function l(){return r()(this,l),n.apply(this,arguments)}return o()(l,[{key:"render",value:function(){var e=this.props,n=e.comment,a=e.children,i=n||{},t=i.content,r=i.commentId,s=i.__typename,o=i.id;return F.createElement(C.a,{mutation:l.mutations.commentEdit},(function(e){return a((function(n){n!==t&&e({optimisticResponse:{commentEdit:{success:!0,msg:null,comment:{__typename:s,id:o,content:n}}},variables:{commentId:r,commentType:s,content:n}})}))}))}}]),l}(F.Component);S.fragments={comment:void 0!==p?p:p=i},S.mutations={commentEdit:void 0!==y?y:y=a},S.displayName="CommentEditMutation";n.a=Object(C.b)(S)},"9p1X":function(e,n,l){"use strict";l.r(n);var a={};l.r(a),l.d(a,"default",(function(){return k}));var i={};l.r(i),l.d(i,"default",(function(){return h}));var t={};l.r(t),l.d(t,"default",(function(){return E}));var r=l("8ZkK"),s=l.n(r),o=l("tQZz"),u=l.n(o),d=l("10u2"),m=l.n(d),c=l("MMxs"),g=l.n(c),p=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l=[{kind:"Variable",name:"first",variableName:"first"}],a=[{kind:"FragmentSpread",name:"AnswerFeedStoryCommentPreview_answer",args:l}];return{kind:"Fragment",name:"AnswerCommentWithPreview_answer",type:"Answer",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"first",type:"Int",defaultValue:5}],selections:[e,n,{kind:"ScalarField",alias:null,name:"aid",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,n]},{kind:"FragmentSpread",name:"AnswerFeaturedCommentPreview_answer",args:l},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{experiment:"feed_story_comment_preview_v2",value:"expandable_stories"},condition:"onVariant",selections:a},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{experiment:"feed_story_comment_preview_v2",value:"short_content"},condition:"onVariant",selections:a}]}}();p.hash="30959cdf031a1553ca21a9965897eb25";var y,k=p,f=l("q1tI"),v=l("VyO/"),F=l("FuLD"),C=l("Gnru"),S={kind:"Fragment",name:"AnswerFeedStoryCommentPreview_answer",type:"Answer",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"first",type:"Int",defaultValue:5}],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numDisplayComments",args:null,storageKey:null},{kind:"ScalarField",alias:"numUncollapsedToplevelComments",name:"numComments",args:[{kind:"Literal",name:"requestType",value:4}],storageKey:"numComments(requestType:4)"},{kind:"ScalarField",alias:null,name:"isCommentsDisabled",args:null,storageKey:null},{kind:"FragmentSpread",name:"AnswerComment_answer",args:[{kind:"Variable",name:"first",variableName:"first"},{kind:"Literal",name:"skipCommentList",value:!0}]},{kind:"FragmentSpread",name:"FeedStoryCommentPreview_container",args:[{kind:"Literal",name:"first",value:1}]}],hash:"b6f15175dad24ebef4da4c7dbda39fda"},h=S,K=l("5SpG"),b=l("K1HT"),T=function(e){m()(l,e);var n=g()(l);function l(){return s()(this,l),n.apply(this,arguments)}return u()(l,[{key:"render",value:function(){var e=this.props,n=e.answer,l=e.onClick,a=n.numDisplayComments,i=n.numUncollapsedToplevelComments;return n.isCommentsDisabled&&!a?null:a?f.createElement(b.a,{container:n,onClick:l,numUncollapsedToplevelComments:i}):f.createElement(K["default"],{answer:n})}}]),l}(f.Component);T.fragments={answer:void 0!==y?y:y=i},T.displayName="AnswerFeedStoryCommentPreview";var L,I=Object(v.b)(T),w={kind:"Fragment",name:"AnswerFeaturedCommentPreview_answer",type:"Answer",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"first",type:"Int",defaultValue:5}],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numDisplayComments",args:null,storageKey:null},{kind:"FragmentSpread",name:"AnswerComment_answer",args:[{kind:"Variable",name:"first",variableName:"first"},{kind:"Literal",name:"skipCommentList",value:!0}]},{kind:"FragmentSpread",name:"CommentFeaturedPreview_container",args:[{kind:"Literal",name:"first",value:1}]}],hash:"0b6acbc783ea51e28458c84d71be07b7"},E=w,_=l("Xy8g"),A=l("ZFNG"),D=function(e){m()(l,e);var n=g()(l);function l(){return s()(this,l),n.apply(this,arguments)}return u()(l,[{key:"render",value:function(){var e=this.props,n=e.isBorderAll,l=e.answer,a=e.onClick,i=l.numDisplayComments;return i?f.createElement(A.b,{isBorderAll:n},f.createElement(_.a,{container:l,onClick:a,numDisplayComments:i})):f.createElement(K["default"],{answer:l,isBorderAll:n,onClick:a})}}]),l}(f.Component);D.fragments={answer:void 0!==L?L:L=t},D.displayName="AnswerFeaturedCommentPreview";var R,V=Object(v.b)(D),P=function(e){m()(l,e);var n=g()(l);function l(){return s()(this,l),n.apply(this,arguments)}return u()(l,[{key:"render",value:function(){var e=this.props,n=e.isBorderAll,l=e.useNewCommentPreview,a=e.onExpand,i=e.answer;return Object(F.a)()?f.createElement(C.ClientLogConsumer,null,(function(e){var t=function(){e("AnswerCommentBarExpand",{aid:i.aid}),null===a||void 0===a||a()};return f.createElement(f.Fragment,null,l?f.createElement(I,{answer:i,onClick:t}):f.createElement(V,{answer:i,onClick:t,isBorderAll:n}))})):null}}]),l}(f.Component);P.fragments={answer:void 0!==R?R:R=a},P.displayName="AnswerCommentWithPreview";n["default"]=Object(v.b)(P)},CZoQ:function(e,n){e.exports=function(e,n,l){for(var a=l-1,i=e.length;++a<i;)if(e[a]===n)return a;return-1}},EreF:function(e,n,l){"use strict";var a=l("rhDr"),i=l.n(a),t=l("q1tI"),r=l("JY1L"),s=(l("tuWV"),Object(r.a)({loader:function(){return l.e("component-QTextEditor").then(l.bind(null,"a+Nv"))},render:function(e,n){var l=n._ref,a=i()(n,["_ref"]),r=e["default"];return t.createElement(r,Object.assign({},a,{ref:l}))},loading:function(e){var n=e.error;return n&&console.error(n),t.createElement(t.Fragment,null)}})),o=t.forwardRef((function(e,n){return t.createElement(s,Object.assign({},e,{_ref:n}))}));o.displayName="QTextEditor",n.a=o},K1HT:function(e,n,l){"use strict";var a={};l.r(a),l.d(a,"default",(function(){return p}));var i=l("8ZkK"),t=l.n(i),r=l("tQZz"),s=l.n(r),o=l("10u2"),u=l.n(o),d=l("MMxs"),m=l.n(d),c=function(){var e={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"FeedStoryCommentPreview_container",type:"CommentsContainer",metadata:{connection:[{count:"first",cursor:null,direction:"forward",path:["allComments"]}]},argumentDefinitions:[{kind:"LocalArgument",name:"first",type:"Int",defaultValue:1}],selections:[{kind:"LinkedField",alias:"allComments",name:"__FeedStoryCommentPreview_allComments_connection",storageKey:"__FeedStoryCommentPreview_allComments_connection(requestType:4)",args:[{kind:"Literal",name:"requestType",value:4}],concreteType:"GenericCommentsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"NodeEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},e,{kind:"FragmentSpread",name:"UserName_user",args:null},{kind:"FragmentSpread",name:"UserPhoto_user",args:null}]},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"creationTime",args:null,storageKey:null},e]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]}]}]}}();c.hash="fb5e0f131512a074275d6f471b92b4c3";var g,p=c,y=l("q1tI"),k=l.n(y),f=l("VyO/"),v=l("NldC"),F=l("jufJ"),C=l("RA+f"),S=l("OyJI"),h=l("3wQG"),K=l("wB5M"),b=l("OMLc"),T=l("LW3J"),L=l("R+um"),I=l("r+vq"),w=l("EFAP"),E=l("RqIh"),_=function(e){u()(l,e);var n=m()(l);function l(){return t()(this,l),n.apply(this,arguments)}return s()(l,[{key:"render",value:function(){var e,n=this.props,l=n.onClick,a=n.container;if(!n.numUncollapsedToplevelComments||!a.allComments)return null;var i=a.allComments.edges.map((function(e){return e.node})).filter(v.c),t=i[0]&&!i[0].isDeleted?i[0]:null;if(!t||!t.content)return null;var r=JSON.parse(t.content),s="image"===(null===(e=r.sections[0])||void 0===e?void 0:e.type);return k.a.createElement(w.e.Consumer,null,(function(e){var n=e===E.a.question_main||e===E.a.tribe_item;return k.a.createElement(C.e,{onClick:l,display:"block",p:"tiny",pb:n?0:"small",px:n?0:"medium",underlineHover:!1},k.a.createElement(C.d,{bg:"darken",borderRadius:"small"},k.a.createElement(C.d,{hover:{bg:"darken"},py:"tiny",px:"small",borderRadius:"small"},k.a.createElement(S.a,null,k.a.createElement(C.d,{mt:"tiny"},k.a.createElement(I.a,{display:"block",user:t.user,size:20,linked:!1})),k.a.createElement(C.d,{ml:"tiny"},k.a.createElement(T.a,null,k.a.createElement(C.c,{fontSize:"small"},k.a.createElement(L.b,{user:t.user})),k.a.createElement(C.r,{display:"inline",fontSize:"small",color:"gray_light"},k.a.createElement(F.i,{formatType:"Compact",monthFormatLength:"short",utime:t.creationTime}))),s?k.a.createElement(K.a,{qt:r,truncationType:"regular",hasImageBoundary:!1,maxImageHeight:100}):k.a.createElement(h.e,{fontSize:"small",lineLimit:1,qt:r,readMoreLinkText:"",noThumbnail:!0,truncationType:"inline"}))),k.a.createElement(S.a,{alignItems:"center",justifyContent:"center",mt:"tiny"},k.a.createElement(C.r,{textAlign:"center",fontSize:"small",color:"blue",mr:"tiny"},k.a.createElement(F.J,null,"View more")),k.a.createElement(b.a,{size:12,color:"blue",name:"ChevronDown"})))))}))}}]),l}(y.Component);_.fragments={container:void 0!==g?g:g=a};n.a=Object(f.b)(_)},KAdM:function(e,n,l){"use strict";l.d(n,"a",(function(){return y}));var a=l("8ZkK"),i=l.n(a),t=l("tQZz"),r=l.n(t),s=l("10u2"),o=l.n(s),u=l("MMxs"),d=l.n(u),m=l("q1tI"),c=l("jufJ"),g=l("cbxS"),p=l("OMLc"),y=function(e){o()(l,e);var n=d()(l);function l(){return i()(this,l),n.apply(this,arguments)}return r()(l,[{key:"render",value:function(){return m.createElement(g.a,{mb:"small",variant:"warning_inverted",icon:m.createElement(p.a,{name:"Caution"}),title:m.createElement(c.J,null,"This content has been deleted and is only visible to you.")})}}]),l}(m.Component);y.displayName="DeletedContentBanner"},KwMD:function(e,n){e.exports=function(e,n,l,a){for(var i=e.length,t=l+(a?1:-1);a?t--:++t<i;)if(n(e[t],t,e))return t;return-1}},LGYb:function(e,n,l){var a=l("1hJj"),i=l("jbM+"),t=l("Xt/L"),r=l("xYSL"),s=l("dQpi"),o=l("rEGp");e.exports=function(e,n,l){var u=-1,d=i,m=e.length,c=!0,g=[],p=g;if(l)c=!1,d=t;else if(m>=200){var y=n?null:s(e);if(y)return o(y);c=!1,d=r,p=new a}else p=n?[]:g;e:for(;++u<m;){var k=e[u],f=n?n(k):k;if(k=l||0!==k?k:0,c&&f===f){for(var v=p.length;v--;)if(p[v]===f)continue e;n&&p.push(f),g.push(k)}else d(p,f,l)||(p!==g&&p.push(f),g.push(k))}return g}},PGbd:function(e,n,l){"use strict";l.r(n);var a={};l.r(a),l.d(a,"default",(function(){return k}));var i={};l.r(i),l.d(i,"default",(function(){return F}));var t={};l.r(t),l.d(t,"default",(function(){return L}));var r={};l.r(r),l.d(r,"default",(function(){return P}));var s=l("8ZkK"),o=l.n(s),u=l("tQZz"),d=l.n(u),m=l("10u2"),c=l.n(m),g=l("MMxs"),p=l.n(g),y=function(){var e=[{kind:"LocalArgument",name:"shareId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null}],n=[{kind:"Variable",name:"shareId",variableName:"shareId"}],l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i={kind:"Variable",name:"first",variableName:"first"},t={kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null},r={kind:"Literal",name:"requestType",value:4},s=[r],o={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},u={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},d=[a,l,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],m={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:d},c={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:d},g={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},y={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},v={name:"annotate_with_ids",value:"true"},F=[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}],C={kind:"Condition",passingValue:!0,isCustom:!0,customValue:v,condition:"onGate",selections:F},S={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerBundleSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"consumerBundleActive",args:null,storageKey:null}]},h={kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},K={kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},b=[i,r],T={kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null},L={kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},I={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},w={kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},E={kind:"ScalarField",alias:null,name:"deletedTime",args:null,storageKey:null},_={kind:"ScalarField",alias:null,name:"isReply",args:null,storageKey:null},A={kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},D={kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,o,g,p,y,k,f,u,m,c,t,S,C]},R={kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"canSeeDeletedContent",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isAdmin",args:null,storageKey:null},l,a,{kind:"ScalarField",alias:null,name:"isAdminMode",args:null,storageKey:null}]},V={kind:"ScalarField",alias:null,name:"commenterIsTribeModerator",args:null,storageKey:null},P={kind:"ScalarField",alias:null,name:"commenterIsTribeAdmin",args:null,storageKey:null},O={kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,o]},N={kind:"ScalarField",alias:null,name:"creationTime",args:null,storageKey:null},U={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},B={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},x={kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isSensitive",args:null,storageKey:null},l,a,{kind:"ScalarField",alias:null,name:"viewerCanModerate",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null}]},j={kind:"ScalarField",alias:null,name:"authorIsBlockedByTribe",args:null,storageKey:null},M={kind:"ScalarField",alias:null,name:"replyDraftContent",args:null,storageKey:null},q={kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},H={kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},Q={kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null},z={kind:"ScalarField",alias:null,name:"viewerCanDelete",args:null,storageKey:null},Z={kind:"ScalarField",alias:null,name:"viewerCanAdminDelete",args:null,storageKey:null},G={kind:"ScalarField",alias:null,name:"viewerCanBlockCommentAuthor",args:null,storageKey:null},J={kind:"ScalarField",alias:null,name:"viewerCanInviteToContribute",args:null,storageKey:null},W={kind:"ScalarField",alias:null,name:"reportableId",args:null,storageKey:null},Y={kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null},X={kind:"ScalarField",alias:null,name:"viewerInvitedAuthorToTribe",args:null,storageKey:null},$={kind:"LinkedField",alias:null,name:"featuredUpvoters",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[o,l,g,p,y,k,a,f,u,m,c,S,C]},ee=[{kind:"Literal",name:"first",value:2}],ne={kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[L,T]},le=[{kind:"Literal",name:"first",value:1}],ae={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},ie={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerDirectSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"LinkedField",alias:null,name:"authorTribeUser",storageKey:null,args:null,concreteType:"TribeUser",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isDirectSubscriber",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"permission",args:null,storageKey:null},l]}]},te={kind:"Condition",passingValue:!0,isCustom:!0,customValue:v,condition:"onGate",selections:[{kind:"InlineFragment",type:"AnswerComment",selections:F}]};return{kind:"Request",fragment:{kind:"Fragment",name:"ShareCommentWithPreviewLoadCommentQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"share",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,{kind:"FragmentSpread",name:"ShareCommentItem_share",args:[i]}]}]},operation:{kind:"Operation",name:"ShareCommentWithPreviewLoadCommentQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"share",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[t,l]},{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a,l]},{kind:"ScalarField",alias:null,name:"numDisplayComments",args:null,storageKey:null},{kind:"ScalarField",alias:"numUncollapsedToplevelComments",name:"numComments",args:s,storageKey:"numComments(requestType:4)"},{kind:"ScalarField",alias:"numCommentsCollapsed",name:"numComments",args:[{kind:"Literal",name:"requestType",value:3}],storageKey:"numComments(requestType:3)"},{kind:"ScalarField",alias:null,name:"isCommentsDisabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"canViewerAddComment",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[o,l,a,u,m,c,g,p,y,k,f,C,S]},l]},h,K,{kind:"ScalarField",alias:null,name:"commentDraftContent",args:null,storageKey:null},{kind:"LinkedField",alias:"allCommentsConnection",name:"genericCommentsConnection",storageKey:null,args:b,concreteType:"GenericCommentsConnection",plural:!1,selections:[l,a,{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[T,L]},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"NodeEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,I,K,w,E,_,A,D,R,V,P,O,N,U,B,x,j,h,M,q,H,Q,q,H,Q,z,Z,G,J,W,Y,X,$,{kind:"ScalarField",alias:null,name:"numReplies",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:2)",args:ee,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,ne,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,I,h,w,E,_,A,D,R,V,P,O,N,U,B,x,j,K,M,q,H,Q,q,H,Q,z,Z,G,J,W,Y,X,$,{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:1)",args:le,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,w,B,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,o,u,m,c,C]}]},ae]},ne]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:le,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},ie,te]},ae]}]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:ee,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},ie,te]},ae,l]}]},{kind:"LinkedHandle",alias:"allCommentsConnection",name:"genericCommentsConnection",args:b,handle:"connection",key:"AllCommentsList_allCommentsConnection",filters:["requestType"]},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"show_react_live_update_banner",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"genericCommentsLiveBannerHash",args:s,storageKey:"genericCommentsLiveBannerHash(requestType:4)"}]}]}]},params:{operationKind:"query",name:"ShareCommentWithPreviewLoadCommentQuery",id:"798c6526e9e3ba0914c3fa9fdea1b32e1386d2e44a1c8954addefc472a08723f",text:null,metadata:{}}}}();y.hash="c661c41c96c512285f6e9e59bacc5479";var k=y,f=function(){var e=[{kind:"FragmentSpread",name:"ShareFeedStoryCommentPreview_share",args:[{kind:"Variable",name:"first",variableName:"first"}]}];return{kind:"Fragment",name:"ShareCommentWithPreview_share",type:"Share",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"first",type:null}],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"shareId",args:null,storageKey:null},{kind:"FragmentSpread",name:"ShareFeaturedCommentPreview_share",args:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{experiment:"feed_story_comment_preview_v2",value:"expandable_stories"},condition:"onVariant",selections:e},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{experiment:"feed_story_comment_preview_v2",value:"short_content"},condition:"onVariant",selections:e}]}}();f.hash="088bc864ce71b25b1a557f4eb90167d0";var v,F=f,C=l("q1tI"),S=l("VyO/"),h=l("D5Zh"),K=l("ZFNG"),b=l("td6z"),T={kind:"Fragment",name:"ShareFeaturedCommentPreview_share",type:"Share",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"first",type:null}],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numDisplayComments",args:null,storageKey:null},{kind:"FragmentSpread",name:"ShareCommentItem_share",args:[{kind:"Variable",name:"first",variableName:"first"},{kind:"Literal",name:"skipCommentList",value:!0}]},{kind:"FragmentSpread",name:"CommentFeaturedPreview_container",args:[{kind:"Literal",name:"first",value:1}]}],hash:"ecc876eb3564a9fb6a4ec60f4b5c96c2"},L=T,I=l("Xy8g"),w=l("qRv2"),E=function(e){c()(l,e);var n=p()(l);function l(){return o()(this,l),n.apply(this,arguments)}return d()(l,[{key:"render",value:function(){var e=this.props,n=e.share,l=e.onClick,a=n.numDisplayComments;return a?C.createElement(I.a,{container:n,onClick:l,numDisplayComments:a}):C.createElement(w["default"],{share:n})}}]),l}(C.Component);E.fragments={share:void 0!==v?v:v=t},E.displayName="ShareFeaturedCommentPreview";var _,A=Object(S.b)(E),D=l("hTns"),R=l("Gnru"),V={kind:"Fragment",name:"ShareFeedStoryCommentPreview_share",type:"Share",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"first",type:"Int",defaultValue:5}],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numDisplayComments",args:null,storageKey:null},{kind:"ScalarField",alias:"numUncollapsedToplevelComments",name:"numComments",args:[{kind:"Literal",name:"requestType",value:4}],storageKey:"numComments(requestType:4)"},{kind:"ScalarField",alias:null,name:"isCommentsDisabled",args:null,storageKey:null},{kind:"FragmentSpread",name:"FeedStoryCommentPreview_container",args:[{kind:"Literal",name:"first",value:1}]},{kind:"FragmentSpread",name:"ShareCommentItem_share",args:[{kind:"Variable",name:"first",variableName:"first"},{kind:"Literal",name:"skipCommentList",value:!0}]}],hash:"455174cf8a76a09cd820e0780cad3660"},P=V,O=l("K1HT"),N=function(e){c()(l,e);var n=p()(l);function l(){return o()(this,l),n.apply(this,arguments)}return d()(l,[{key:"render",value:function(){var e=this.props,n=e.share,l=e.onClick,a=e.hideCollapsedCommentsToggle,i=n.numDisplayComments,t=n.numUncollapsedToplevelComments;return n.isCommentsDisabled&&!i?null:i?C.createElement(O.a,{container:n,onClick:l,numUncollapsedToplevelComments:t}):C.createElement(w["default"],{share:n,hideCollapsedCommentsToggle:a})}}]),l}(C.Component);N.fragments={share:void 0!==_?_:_=r},N.displayName="ShareFeedStoryCommentPreview";var U,B,x=Object(S.b)(N),j=l("EFAP"),M=l("nwxp"),q=l("RqIh"),H=function(e){c()(l,e);var n=p()(l);function l(){return o()(this,l),n.apply(this,arguments)}return d()(l,[{key:"render",value:function(){var e=this;return C.createElement(R.ClientLogConsumer,null,(function(n){var a=e.props,i=a.initiallyHideReplies,t=a.commentsAreExpanded,r=a.useNewCommentPreview,s=a.onExpand,o=a.deferCommentLoad,u=void 0===o||o,d=a.share,m=function(){null===s||void 0===s||s(),n("QuoraShareCommentBarExpand",{share_id:e.props.share.shareId})};return C.createElement(j.e.Consumer,null,(function(n){var a=!(Object(M.g)()&&n===q.a.share_modal&&!r)&&!t;return C.createElement(C.Fragment,null,a&&(r?C.createElement(x,{share:d,onClick:m,hideCollapsedCommentsToggle:!t}):C.createElement(K.b,null,C.createElement(A,{share:d,onClick:m}))),C.createElement(D.a,{shouldShow:!a},C.createElement(h.a,{query:l.queries.loadShareComment,variables:{shareId:e.props.share.shareId,first:e.props.initialPageSize},deferQuery:u},(function(e){var n=e.loading,l=e.error,a=e.data;return n?C.createElement(b.c,null):l||null===a.share?null:C.createElement(w["default"],{share:a.share,initiallyHideReplies:i})}))))}))}))}}]),l}(C.Component);H.fragments={share:void 0!==U?U:U=i},H.queries={loadShareComment:void 0!==B?B:B=a},H.displayName="ShareCommentWithPreview";n["default"]=Object(S.b)(H)},PNyD:function(e,n,l){"use strict";var a=l("q1tI"),i=l("nW6E"),t=function(e){var n=e.nodeId,l=e.children;return a.createElement(i.j,{standaloneModalProps:{modalProps:{name:"UpvoterListModal",queryVariables:{nodeId:n}},containerProps:{easyDismissEnabled:!0}}},(function(e){var n=e.openStandaloneModal;return l(n)}))};t.displayName="StandaloneUpvoterListModal",n.a=t},PRXj:function(e,n,l){"use strict";var a=l("yMAQ"),i=l.n(a),t=l("rhDr"),r=l.n(t),s=l("vOnD"),o=l("q1tI"),u=l("RA+f"),d=Object(s["default"])(u.r).withConfig({displayName:"TextInputWrapper___StyledText",componentId:"abzlxg-0"})([""," .doc{min-height:0;margin:0;padding:0;line-height:1.5;}"],(function(e){return e._css})),m=function(e){var n=e.children,l=e.theme,a=e.shouldRemeasure,t=e.hasBorder,s=r()(e,["children","theme","shouldRemeasure","hasBorder"]),u=o.useRef(),m=o.useState(0),c=i()(m,2),g=c[0],p=c[1];return o.useEffect((function(){u.current&&p(u.current.clientHeight)}),[a]),o.createElement(d,Object.assign({color:"gray_dark",fontSize:"regular",innerRef:u,py:"small",px:"medium",bg:"white",flex:1,borderRadius:0!==g?g/2:undefined,minWidth:"0"},s,{boxShadow:t?"inset 0 0 0 1px ".concat(l.colors.border.gray):undefined,_css:t?"@media only screen and (-webkit-min-device-pixel-ratio: 1.5) {\n          box-shadow: inset 0 0 0 0.5px ".concat(l.colors.border.gray," !important;\n        }"):undefined}),n)};m.displayName="TextInputWrapper",n.a=Object(s.withTheme)(m)},"R/W3":function(e,n,l){var a=l("KwMD"),i=l("2ajD"),t=l("CZoQ");e.exports=function(e,n,l){return n===n?t(e,n,l):a(e,i,l)}},VrYk:function(e,n,l){"use strict";l.d(n,"a",(function(){return o})),l.d(n,"b",(function(){return u}));var a=l("q1tI"),i=l("jufJ"),t=l("cbxS"),r=l("OMLc"),s=l("RA+f"),o=function(e){return a.createElement(s.d,{p:"small"},a.createElement(t.a,{buttonOnClick:e,buttonTitle:Object(i.Z)("Try again"),buttonVariant:"error",variant:"warning_inverted",icon:a.createElement(r.a,{name:"NoConnection"}),title:Object(i.Z)("Something went wrong. Check your internet connection."),iconPosition:"centered"}))},u=function(e){return a.createElement(s.d,{p:"small"},a.createElement(t.a,{buttonOnClick:e,buttonTitle:Object(i.Z)("Try again"),buttonVariant:"error",variant:"warning_inverted",icon:a.createElement(r.a,{name:"Error"}),title:Object(i.Z)("Something went wrong. Wait a moment and try again."),iconPosition:"centered"}))}},WSfD:function(e,n,l){"use strict";var a={};l.r(a),l.d(a,"default",(function(){return p}));var i,t=l("8ZkK"),r=l.n(t),s=l("tQZz"),o=l.n(s),u=l("10u2"),d=l.n(u),m=l("MMxs"),c=l.n(m),g={kind:"Fragment",name:"PostComment_post",type:"Post",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"first",type:"Int",defaultValue:5},{kind:"LocalArgument",name:"skipCommentList",type:"Boolean",defaultValue:!1}],selections:[{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]},{kind:"FragmentSpread",name:"CommentArea_container",args:[{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"skipCommentList",variableName:"skipCommentList"}]}],hash:"45d08810210c977a6857d36256cc2a73"},p=g,y=l("q1tI"),k=l("VyO/"),f=l("nwxp"),v=l("EFAP"),F=l("RqIh"),C=l("vg+J"),S=function(e){d()(l,e);var n=c()(l);function l(){return r()(this,l),n.apply(this,arguments)}return o()(l,[{key:"render",value:function(){var e=this.props,n=e.post,l=e.initiallyHideReplies,a=e.hideCollapsedCommentsToggle;if(null===n||void 0===n||!n.author)return null;var i=(null===n||void 0===n?void 0:n.author).isBlocking;return y.createElement(v.e.Consumer,null,(function(e){return y.createElement(C.a,{container:n,isCommentsDisabled:i,autoPaged:e===F.a.post_modal&&Object(f.g)(),commentType:"PostComment",initiallyHideReplies:l,hideCollapsedCommentsToggle:a})}))}}]),l}(y.Component);S.fragments={post:void 0!==i?i:i=a},S.displayName="PostComment";n.a=Object(k.b)(S)},"Xt/L":function(e,n){e.exports=function(e,n,l){for(var a=-1,i=null==e?0:e.length;++a<i;)if(l(n,e[a]))return!0;return!1}},Xy8g:function(e,n,l){"use strict";var a={};l.r(a),l.d(a,"default",(function(){return k}));var i,t=l("8ZkK"),r=l.n(t),s=l("tQZz"),o=l.n(s),u=l("10u2"),d=l.n(u),m=l("MMxs"),c=l.n(m),g=l("iJoy"),p=l.n(g),y={kind:"Fragment",name:"CommentFeaturedPreview_container",type:"CommentsContainer",metadata:{connection:[{count:"first",cursor:null,direction:"forward",path:["allComments"]}]},argumentDefinitions:[{kind:"LocalArgument",name:"first",type:"Int",defaultValue:5}],selections:[{kind:"LinkedField",alias:"allComments",name:"__CommentFeaturedPreview_allComments_connection",storageKey:"__CommentFeaturedPreview_allComments_connection(requestType:4)",args:[{kind:"Literal",name:"requestType",value:4}],concreteType:"GenericCommentsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"NodeEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},{kind:"FragmentSpread",name:"UserName_user",args:null}]},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]}]}],hash:"81cc4cf686b8eca1aaec402da17dc006"},k=y,f=l("q1tI"),v=l("qPyV"),F=l.n(v),C=l("NldC"),S=l("QLaP"),h=l.n(S),K=l("RA+f"),b=l("jufJ"),T=l("R+um"),L=l("VyO/"),I=l("8lmh"),w=function(e){var n=e.container,l=e.numDisplayComments;Object(I.tempFailureInvariant)(n.allComments,"allComments is ".concat(n.allComments));var a=n.allComments.edges.map((function(e){return e.node})).filter(C.c),i=l||a.length;h()(null!=i&&i>0,"Invalid commentsLength: '".concat(i,"' ")+"(num: '".concat(l,"', comments: '").concat(a,"')"));var t=l&&a&&a.length>0,r=F()(p()(a.map((function(e){return e.user}))),"uid").filter(C.c);return t&&r.length?f.createElement(K.r,{fontSize:"small",color:"gray",truncateLines:1},f.createElement(b.J,null,f.createElement(b.o,{value:i})," ",f.createElement(b.H,{value:i},{ONE:"comment",OTHER:"comments"})," from ",f.createElement(b.A,{translateParamName:"users",limit:1,showNumLeftOver:!1,forceTotal:i},r.map((function(e){return f.createElement(T.b,{key:e.uid,user:e})}))))):null};w.displayName="FeaturedCommentFooter";var E=function(e){d()(l,e);var n=c()(l);function l(){return r()(this,l),n.apply(this,arguments)}return o()(l,[{key:"render",value:function(){return f.createElement(K.e,{onClick:this.props.onClick,underlineHover:!1,width:"100%",hover:{bg:"darken"}},f.createElement(K.d,{p:"medium"},f.createElement(w,{container:this.props.container,numDisplayComments:this.props.numDisplayComments})))}}]),l}(f.Component);E.fragments={container:void 0!==i?i:i=a},E.displayName="CommentFeaturedPreview";n.a=Object(L.b)(E)},ZFNG:function(e,n,l){"use strict";l.d(n,"k",(function(){return y})),l.d(n,"h",(function(){return k})),l.d(n,"b",(function(){return f})),l.d(n,"f",(function(){return v})),l.d(n,"d",(function(){return F})),l.d(n,"a",(function(){return C})),l.d(n,"e",(function(){return S})),l.d(n,"g",(function(){return h})),l.d(n,"c",(function(){return K})),l.d(n,"j",(function(){return b})),l.d(n,"i",(function(){return T}));var a=l("q1tI"),i=l("RA+f"),t=l("jufJ"),r=l("zLpq"),s=l("/bbo"),o=l("vOnD"),u=l("F0ZP"),d=l("5Fmr"),m=l("VwdU"),c=a.createContext({level:0}),g=function(e){var n=e.children,l=e.isTopLevel;return void 0!==l&&l?a.createElement(c.Provider,{value:{level:0}},n({level:0})):a.createElement(c.Consumer,null,(function(e){return a.createElement(c.Provider,{value:{level:e.level+1}},n({level:e.level+1}))}))};g.displayName="CommentLevelWrapper";var p=g,y=u.c,k=function(e){var n=e.children,l=e.isBorderAll,t=void 0!==l&&l,r={borderAll:t,borderRadius:t?"small":undefined};return a.createElement(i.d,Object.assign({},r,{bg:"gray_ultralight"}),n)},f=function(e){var n=e.children,l=e.isBorderAll,t=void 0!==l&&l,r={borderAll:t,borderRadius:t?"small":undefined};return a.createElement(i.d,Object.assign({},r,{bg:"gray_ultralight"}),n)},v=function(e){var n=e.children;return a.createElement(p,{isTopLevel:!0},(function(){return a.createElement(d.b,{borderTop:!0,px:"medium",pt:"medium",defaultBg:"gray_ultralight"},n)}))},F=Object(o.withTheme)((function(e){var n=e.children,l=e.theme;return a.createElement(p,null,(function(e){var t=e.level;if(t>6)return n;var r={pl:"medium",pt:"small",pb:"small",ml:1===t?l.space.small+y:undefined};return a.createElement(i.p,r,n,a.createElement(i.a,{width:3,left:2,bottom:16,top:8,bg:"gray",borderRadius:"pill"}))}))})),C=function(e){var n=e.children,l=e.showHighlight,t=e.isTopLevel;return a.createElement(i.p,{pb:"small"},a.createElement(m.a,{condition:!!l,wrapper:function(e){return a.createElement(d.c,{mt:t?"n_medium":"n_small",mx:t?"n_medium":"n_small",px:t?"medium":"small",pt:t?"medium":"small",defaultBg:"gray_ultralight"},e)}},a.createElement(i.p,null,a.createElement(i.r,{fontSize:"regular"},n))))},S=function(e){var n=e.children;return a.createElement(C,null,a.createElement(i.r,{borderAll:!0,fontSize:"small",px:"small",py:"tiny",mb:"tiny",borderRadius:"small",color:"gray",bg:"darken",cursor:"pointer",hover:{borderColor:"gray_dark"},truncateLines:1},n))},h=function(){return a.createElement(i.d,{px:"medium",pb:"medium"},a.createElement(s.a,{text:Object(t.Z)("View more comments"),variant:"gray",size:"small",isFullWidth:!0,chevronSuffix:"down"}))},K=function(){return a.createElement(i.d,{py:"tiny"},a.createElement(r.a,{text:Object(t.Z)("View more replies"),variant:"blue",size:"small",chevronSuffix:"down"}))},b=function(e){var n=e.onClick;return a.createElement(i.d,{mx:"medium",pb:"small"},a.createElement(r.a,{text:Object(t.Z)("View collapsed comments"),size:"small",onClick:n}))},T=a.forwardRef((function(e,n){var l=e.children;return a.createElement(i.d,{mx:"n_medium",innerRef:n},l)}))},"a6/j":function(e,n,l){"use strict";l.r(n);var a={};l.r(a),l.d(a,"default",(function(){return p}));var i,t=l("8ZkK"),r=l.n(t),s=l("tQZz"),o=l.n(s),u=l("10u2"),d=l.n(u),m=l("MMxs"),c=l.n(m),g={kind:"Fragment",name:"QuestionComment_question",type:"Question",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"numDisplayComments",args:null,storageKey:null},{kind:"FragmentSpread",name:"CommentArea_container",args:null}],hash:"36e6d3be45ac6b079f746007baa096e1"},p=g,y=l("q1tI"),k=l("VyO/"),f=l("vg+J"),v=function(e){d()(l,e);var n=c()(l);function l(){return r()(this,l),n.apply(this,arguments)}return o()(l,[{key:"render",value:function(){var e=this.props,n=e.question,l=e.isBorderAll;return y.createElement(f.a,{container:n,isBorderAll:l,commentType:"QuestionComment"})}}]),l}(y.Component);v.fragments={question:void 0!==i?i:i=a},v.displayName="QuestionComment";n["default"]=Object(k.b)(v)},dQpi:function(e,n,l){var a=l("yGk4"),i=l("vN+2"),t=l("rEGp"),r=a&&1/t(new a([,-0]))[1]==1/0?function(e){return new a(e)}:i;e.exports=r},dRzG:function(e,n,l){"use strict";l.r(n),l.d(n,"getInitialInlineEditorHeight",(function(){return _})),l.d(n,"default",(function(){return R}));var a={};l.r(a),l.d(a,"default",(function(){return p}));var i=l("8ZkK"),t=l.n(i),r=l("tQZz"),s=l.n(r),o=l("10u2"),u=l.n(o),d=l("MMxs"),m=l.n(d),c=function(){var e=[{kind:"LocalArgument",name:"showReplyHeader",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"replyCommentId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null}],n=[{kind:"Variable",name:"commentId",variableName:"replyCommentId"},{kind:"Variable",name:"commentType",variableName:"commentType"}],l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i=[a,l,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}];return{kind:"Request",fragment:{kind:"Fragment",name:"CommentAddModalQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"showReplyHeader",selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"FragmentSpread",name:"UserName_user",args:null},{kind:"FragmentSpread",name:"UserPhoto_user",args:null}]},{kind:"FragmentSpread",name:"CommentQTextExpandable_comment",args:null}]}]}]},operation:{kind:"Operation",name:"CommentAddModalQuery",argumentDefinitions:e,selections:[{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"showReplyHeader",selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},a,{kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:i},{kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:i},{kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"annotate_with_ids",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}]},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerBundleSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"consumerBundleActive",args:null,storageKey:null}]}]},l,a,{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isSensitive",args:null,storageKey:null},l]}]}]}]},params:{operationKind:"query",name:"CommentAddModalQuery",id:"cabae3fb4321615ba59671966b828a8c31dac666ccb0cee19d1c387265822e0e",text:null,metadata:{}}}}();c.hash="bbaa4a20a875eaa35ffcb25d8fe13477";var g,p=c,y=l("q1tI"),k=l("RA+f"),f=l("jufJ"),v=l("zm58"),F=l("R+um"),C=l("r+vq"),S=l("AFGi"),h=l("Y+p1"),K=l.n(h),b=l("nwxp"),T=l("SKAY"),L=l("yju1"),I=l("OMLc"),w=l("ptJ+"),E=l("sI7B");function _(){return 45+(Object(b.a)()?50:30)}var A=function(e){return y.createElement(k.r,Object.assign({fontSize:"small",color:"gray_light"},e),y.createElement(f.J,null,"Replying to:"))};A.displayName="ReplyingToText";var D=function(e){var n=e.comment;return n?y.createElement(k.d,{px:"medium",py:"small",maxHeight:"155px",minHeight:"84px",overflowY:"scroll",bg:"gray_ultralight"},y.createElement(A,{pb:"tiny"}),y.createElement(k.i,{alignItems:"center"},y.createElement(C.a,{user:n.user}),y.createElement(k.d,{as:"span",pl:"tiny"},y.createElement(F.b,{user:n.user}))),y.createElement(k.r,{pt:"tiny",fontSize:"small"},y.createElement(w.a,{comment:n,charLimit:100}))):null};D.displayName="Header";var R=function(e){u()(l,e);var n=m()(l);function l(e){var a;return t()(this,l),(a=n.call(this,e)).editorRef=void 0,a.inlineEditorFullscreenExpansionMessageHandler=function(){a.setState({inlineEditorReachedFullscreenHeight:!0})},a.inlineEditorContent=void 0,a.setInlineEditorToFullscreenHeight=function(){Object(L.a)("setPageProperties",{height:9999999}),a.setState({inlineEditorReachedFullscreenHeight:!0}),a.inlineEditorContent=undefined},a.state={inlineEditorReachedFullscreenHeight:!1,isInlineEditorEmpty:!0},a.editorRef=y.createRef(),a}return s()(l,[{key:"componentDidMount",value:function(){Object(b.g)()&&(Object(T.registerMessageHandler)("showingFullscreenActionView",this.inlineEditorFullscreenExpansionMessageHandler),Object(T.registerMessageHandler)("imageSelected",this.setInlineEditorToFullscreenHeight))}},{key:"componentWillUnmount",value:function(){Object(b.g)()&&(Object(T.removeMessageHandler)("showingFullscreenActionView",this.inlineEditorFullscreenExpansionMessageHandler),Object(T.removeMessageHandler)("imageSelected",this.setInlineEditorToFullscreenHeight))}},{key:"getStartingContent",value:function(){var e=this.props.extraProps.commentDraftContent;return e?JSON.parse(e):Object(S.h)()}},{key:"shouldSupportInlineEditor",value:function(){return!!Object(T.getNativeSupportedSetting)("inline_comment_composer")}},{key:"changeEditorHeight",value:function(e){if(!this.state.inlineEditorReachedFullscreenHeight&&!this.state.isInlineEditorEmpty){var n=e+35+10;Object(L.a)("setPageProperties",{height:n})}}},{key:"getStickyButtonInfo",value:function(){var e=this;if(this.state.inlineEditorReachedFullscreenHeight)return undefined;var n=this.props.dismissModalFlow;return{platform:"native",name:"post",text:Object(f.Z)("Post"),hex:"#2E69FF",disabled:this.state.isInlineEditorEmpty,onClick:function(){n({content:e.inlineEditorContent})}}}},{key:"renderExpandIcon",value:function(){var e=this;return y.createElement(k.e,{onClick:function(){var n;null===(n=e.editorRef.current)||void 0===n||n.focusEditor(),e.setInlineEditorToFullscreenHeight()}},y.createElement(I.a,{name:"Expand"}))}},{key:"getInlineEditorBodyProps",value:function(){return this.state.inlineEditorReachedFullscreenHeight?null:{mb:Object(b.c)()?"".concat(10,"px"):0,overflowY:"hidden"}}},{key:"renderInlineEditorHeader",value:function(e){return this.state.inlineEditorReachedFullscreenHeight?y.createElement(D,{comment:e}):y.createElement(k.q,{maxHeight:"".concat(35,"px"),top:0,px:"medium",py:"small",zIndex:1e3,bg:"white"},e?y.createElement(k.d,{display:"flex",justifyContent:"space-between"},y.createElement(k.i,{alignItems:"center"},y.createElement(A,{pr:"tiny"}),y.createElement(C.a,{user:e.user,linked:!1}),y.createElement(k.d,{as:"span",pl:"tiny"},y.createElement(F.b,{user:e.user}))),this.renderExpandIcon()):y.createElement(k.d,{display:"flex",justifyContent:"flex-end"},this.renderExpandIcon()))}},{key:"renderInlineEditor",value:function(e,n){var l=this,a=this.props,i=a.extraProps,t=a.queryResult,r=a.dismissModalFlow,s=i.commentType,o=i.containerId,u=this.state.inlineEditorReachedFullscreenHeight;return y.createElement(v.a,{editorKey:"inline-add-comment-".concat(s,"-").concat(o),ref:this.editorRef,placeholder:Object(f.Z)("Add a comment..."),startingContent:e,extraBodyProps:this.getInlineEditorBodyProps(),showPrimaryButton:u,primaryButtonDisabled:this.state.isInlineEditorEmpty,onPrimaryButtonClick:function(e){return r({content:e})},showTitleText:!1,onEditorContentHeightChange:u?undefined:function(e){return l.changeEditorHeight(e)},header:this.renderInlineEditorHeader(t.comment),navButton:u?"close":"none",onNavButtonClick:function(n){return r({shouldRefetch:Object(b.g)()&&n&&!K()(n,e)})},clearOnSubmit:!0,useLightWeightContentStyleToolBar:!0,saveDraft:function(e){return n(e)},onEditorMeaningfulChange:function(e){var n=e.isEmpty();u||(l.inlineEditorContent=e.toJSON()),l.state.isInlineEditorEmpty!==n&&l.setState({isInlineEditorEmpty:n})},stickyButtonInfo:this.getStickyButtonInfo()})}},{key:"renderStandardEditor",value:function(e,n){var l=this.props,a=l.extraProps,i=l.dismissModalFlow,t=l.queryResult,r=a.commentType,s=a.containerId;return y.createElement(v.a,{onPrimaryButtonClick:function(e){return i({content:e})},onNavButtonClick:function(n){return i({shouldRefetch:Object(b.g)()&&n&&!K()(n,e)})},editorKey:"add-comment-".concat(r,"-").concat(s),header:y.createElement(D,{comment:t.comment}),titleText:Object(f.Z)("Add Comments"),startingContent:e,placeholder:Object(f.Z)("Add a comment..."),saveDraft:function(e){return n(e)},clearOnSubmit:!0,useLightWeightContentStyleToolBar:!0})}},{key:"render",value:function(){var e=this,n=this.getStartingContent(),l=this.shouldSupportInlineEditor(),a=this.props.extraProps,i=a.commentType,t=a.containerId,r=a.replyCommentId;return y.createElement(E.a,{containerId:t,commentType:i,replyToId:r},(function(a){return l?e.renderInlineEditor(n,a):e.renderStandardEditor(n,a)}))}}]),l}(y.Component);R.queries={onLoad:void 0!==g?g:g=a},R.displayName="CommentAddModal"},fXiK:function(e,n,l){"use strict";l.d(n,"b",(function(){return _}));var a={};l.r(a),l.d(a,"default",(function(){return y}));var i={};l.r(i),l.d(i,"default",(function(){return f}));var t={};l.r(t),l.d(t,"default",(function(){return h}));var r=l("8ZkK"),s=l.n(r),o=l("tQZz"),u=l.n(o),d=l("10u2"),m=l.n(d),c=l("MMxs"),g=l.n(c),p={kind:"Fragment",name:"CommentDownvoteButton_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null}],hash:"e7747b9647ecc767e7679b32647a9cb0"},y=p,k=function(){var e=[{kind:"LocalArgument",name:"commentId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"commentDownvoteRemove",storageKey:null,args:[{kind:"Variable",name:"commentId",variableName:"commentId"},{kind:"Variable",name:"commentType",variableName:"commentType"}],concreteType:"CommentDownvoteRemove",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"CommentDownvoteButton_commentDownvoteRemove_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"CommentDownvoteButton_commentDownvoteRemove_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"CommentDownvoteButton_commentDownvoteRemove_Mutation",id:"78cb3a3f217e7dff076c7bb022974b9f8e48c469405e5dfbfd237939d23dfaaa",text:null,metadata:{}}}}();k.hash="3b971b1ac57079d3c5d6622d7e2a2d01";var f=k,v=function(){var e=[{kind:"LocalArgument",name:"commentId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"commentDownvoteAdd",storageKey:null,args:[{kind:"Variable",name:"commentId",variableName:"commentId"},{kind:"Variable",name:"commentType",variableName:"commentType"}],concreteType:"CommentDownvoteAdd",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"CommentDownvoteButton_commentDownvoteAdd_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"CommentDownvoteButton_commentDownvoteAdd_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"CommentDownvoteButton_commentDownvoteAdd_Mutation",id:"a4a87d36833fd03d5932ff698616546319604ab615d7a65b39f329d6950fdd94",text:null,metadata:{}}}}();v.hash="aef8336e5db1b2843219831790ec037f";var F,C,S,h=v,K=l("q1tI"),b=l("VyO/"),T=l("zLpq"),L=l("jufJ"),I=l("OMLc"),w=void 0!==F?F:F=t,E=void 0!==C?C:C=i,_=function(e,n){var l=e.id,a=e.commentId,i=e.__typename,t=e.commentType,r=e.numUpvotes,s=e.viewerHasUpvoted,o=e.viewerHasDownvoted,u={id:l,__typename:i,numUpvotes:s?r-1:r,viewerHasUpvoted:!1,viewerHasDownvoted:!o};Object(b.c)({mutation:o?E:w,variables:{commentId:a,commentType:t},optimisticResponse:o?{commentDownvoteRemove:{comment:u}}:{commentDownvoteAdd:{comment:u}},onCompleted:n})},A=function(e){m()(l,e);var n=g()(l);function l(){return s()(this,l),n.apply(this,arguments)}return u()(l,[{key:"render",value:function(){var e=this,n=this.props.comment.viewerHasDownvoted,l=Object.assign({},this.props);return K.createElement(T.a,Object.assign({icon:K.createElement(I.a,{name:"Downvote"}),tooltipText:Object(L.Z)("Downvote"),variant:"gray",pressed:n,onClick:function(){return _(e.props.comment)}},l))}}],[{key:"getOverflowItem",value:function(e){var n=e.comment;return{label:n.viewerHasDownvoted?Object(L.Z)("Remove Downvote"):Object(L.Z)("Downvote Comment"),onSelected:function(){return _(n)}}}}]),l}(K.Component);A.fragments={comment:void 0!==S?S:S=a},A.mutations={downvoteAddMutation:w,downvoteRemoveMutation:E},A.displayName="CommentDownvoteButton";n.a=Object(b.b)(A)},hTns:function(e,n,l){"use strict";var a=l("yMAQ"),i=l.n(a),t=l("q1tI"),r=l("RA+f"),s=function(e){var n=e.shouldShow,l=e.children,a=t.useState(!1),s=i()(a,2),o=s[0],u=s[1];return t.useEffect((function(){n&&!o&&u(!0)}),[n,o]),n||o?t.createElement(r.d,{display:n?"":"none"},l):null};s.displayName="ComponentDisplayWrapper",n.a=s},"jbM+":function(e,n,l){var a=l("R/W3");e.exports=function(e,n){return!!(null==e?0:e.length)&&a(e,n,0)>-1}},"m+xM":function(e,n,l){"use strict";l.d(n,"d",(function(){return H})),l.d(n,"a",(function(){return Q})),l.d(n,"b",(function(){return z})),l.d(n,"c",(function(){return Z}));var a=l("8ZkK"),i=l.n(a),t=l("tQZz"),r=l.n(t),s=l("g8yt"),o=l.n(s),u=l("10u2"),d=l.n(u),m=l("MMxs"),c=l.n(m),g=l("q1tI"),p=l("QLaP"),y=l.n(p),k=l("I/VO"),f=l.n(k),v=l("td6z"),F=l("VSaK"),C=l("vkEr"),S=l("AaDK"),h=l("s/A7"),K=l("SW3P"),b=l("nwxp"),T=l("+pxc"),L=l("hXLn"),I=l("jufJ"),w=l("VwdU"),E=l("ZizP"),_=l("8lmh"),A=l("qZYu"),D=l("PGlZ"),R=l("cbxS"),V=l("OMLc"),P=l("RA+f"),O=l("wxi4"),N=l("P6tR"),U=l("edYY"),B=l("/bbo"),x=l("vOnD"),j=Object(x.withTheme)((function(e){var n=e.text,l=e.refetch,a=e.loading,i=e.theme;return g.createElement(N.a.Consumer,null,(function(e){return g.createElement(O.d,{justifyContent:"center",zIndex:i.zIndices.tooltip+1,top:Object(U.a)({isPrefetched:e}),display:"flex",alignItems:"flex-start",height:0},g.createElement(O.c,{top:"small"},g.createElement(P.b,{"in":!0,appear:!0},(function(e){return g.createElement(P.f,{fadeIn:!0,fadeOut:!0,animation:e,slideIn:"top",slideOut:"top",slideDistance:"small"},g.createElement(B.a,{icon:g.createElement(V.a,{name:"Sync"}),text:n,hasBoxShadow:!0,onClick:l,size:"small",loading:a}))}))))}))})),M=l("5Fmr"),q=l("nG0s"),H=function(){return Object(K.a)("show_react_live_update_banner")},Q=function(e){var n=e.onClick;return g.createElement(P.d,{p:"small"},g.createElement(R.a,{buttonOnClick:n,buttonTitle:g.createElement(I.J,null,"Try again"),buttonVariant:"error",variant:"warning_inverted",icon:g.createElement(V.a,{name:"NoConnection"}),title:g.createElement(I.J,null,"Unable to load more. Check your internet connection."),iconPosition:Object(b.b)()?"centered":undefined}))},z=function(e){var n=e.onClick;return g.createElement(P.d,{p:"small"},g.createElement(R.a,{buttonOnClick:n,buttonTitle:g.createElement(I.J,null,"Try again"),buttonVariant:"error",variant:"warning_inverted",icon:g.createElement(V.a,{name:"Error"}),title:g.createElement(I.J,null,"There was an error loading more items."),iconPosition:Object(b.b)()?"centered":undefined}))},Z=function(e){d()(l,e);var n=c()(l);function l(e){var a,t,r;return i()(this,l),(r=n.call(this,e)).itemRefs=void 0,e=r.setDefaultProps(e),r.loadMore=r.loadMore.bind(o()(r)),r.refetchList=r.refetchList.bind(o()(r)),r.onScroll=r.onScroll.bind(o()(r)),r.renderChildren=r.renderChildren.bind(o()(r)),r.getIdFromEdge=r.getIdFromEdge.bind(o()(r)),r.scrollToNewestItem=r.scrollToNewestItem.bind(o()(r)),r.onViewChange=r.onViewChange.bind(o()(r)),r.itemRefs={},r.state={hasMore:e.relayObject&&e.relayObject.hasMore(),isPaging:!1,error:null,initialLiveBannerHash:null===(a=e.liveBannerConfig)||void 0===a?void 0:a.hashValue,existingItems:r.getExistingIDs(),isBannerLoading:!1,itemsToShow:null!==(t=e.connection)&&void 0!==t&&t.edges?e.connection.edges.length:0,pageStartTime:undefined,isVisible:!1},r}return r()(l,[{key:"setDefaultProps",value:function(e){var n;e.autoPaged&&("enabled"in e.autoPaged||(e.autoPaged.enabled=!1),"infiniteScrollOptions"in e.autoPaged||(e.autoPaged.infiniteScrollOptions={}),e.autoPaged.infiniteScrollOptions&&!("threshold"in e.autoPaged.infiniteScrollOptions)&&(e.autoPaged.infiniteScrollOptions.threshold=1e3),e.autoPaged.infiniteScrollOptions&&(e.autoPaged.infiniteScrollOptions.isSafari=Object(b.e)()&&((null===(n=Object(T.a)())||void 0===n?void 0:n.isSafari)||Object(b.c)())));return e}},{key:"getIdFromEdge",value:function(e){var n;return((null===(n=this.props.liveBannerConfig)||void 0===n?void 0:n.overrideItemId)||function(e){var n;return null===e||void 0===e||null===(n=e.node)||void 0===n?void 0:n.id})(e)}},{key:"getExistingIDs",value:function(){var e,n;return(null!==(e=this.props.connection)&&void 0!==e&&e.edges?null===(n=this.props.connection)||void 0===n?void 0:n.edges.map(this.getIdFromEdge):[]).filter((function(e){return!!e}))}},{key:"isInViewport",value:function(e){var n,l=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;if(null===e||void 0===e||null===(n=e.current)||void 0===n||!n.getBoundingClientRect)return!1;var a=e.current.getBoundingClientRect().top;return a+l>=0&&a-l<=window.innerHeight}},{key:"componentDidMount",value:function(){this.props.autoPaged&&this.props.autoPaged.pagingElement&&Object(F.b)(this.onScroll)}},{key:"componentWillUnmount",value:function(){this.props.autoPaged&&this.props.autoPaged.pagingElement&&Object(F.a)(this.onScroll)}},{key:"componentDidUpdate",value:function(e,n){if(Object(K.a)("paged_list_perf")){if(this.props.pagingIndicator&&!n.isPaging&&this.state.isPaging&&this.state.pageStartTime){var l,a=null===(l=this.props.connection)||void 0===l?void 0:l.__typename;Object(S.a)("paged_list_perf",{connectionName:a,fcp:Object(C.m)()-this.state.pageStartTime})}if(n.isPaging&&!this.state.isPaging&&n.pageStartTime){var i,t=null===(i=this.props.connection)||void 0===i?void 0:i.__typename,r=Object(C.m)()-n.pageStartTime;Object(S.a)("paged_list_perf",{connectionName:t,tti:r,fcp:this.props.pagingIndicator?undefined:r})}}this.state.isVisible&&this.prefetchMore()}},{key:"onViewChange",value:function(e){!this.state.isPaging&&this.props.autoPaged&&!this.props.autoPaged.enabled&&this.props.prefetchingEnabled&&this.setState({isVisible:e})}},{key:"onScroll",value:function(){!this.state.isPaging&&this.props.autoPaged&&this.props.autoPaged.pagingElement&&this.isInViewport(this.props.autoPaged.pagingElement)&&this.loadMore()}},{key:"prefetchMore",value:function(){var e=this,n=this.setDefaultProps(this.props),l=n.relayObject,a=n.onPagingEnd,i=n.connection;(null===i||void 0===i?void 0:i.edges)&&this.state.itemsToShow<i.edges.length||!l.hasMore()||l.isLoading()||l.loadMore(0,(function(n){var t=!n&&l.hasMore();n&&console.error(n),e.state.isPaging&&a&&a(null!==n&&void 0!==n?n:null,t),(e.state.isPaging||n)&&e.setState((function(l){var a=null!==i&&void 0!==i&&i.edges?null===i||void 0===i?void 0:i.edges.length:l.itemsToShow;return{isPaging:!1,pageStartTime:undefined,hasMore:t,error:null!==n&&void 0!==n?n:null,existingItems:e.getExistingIDs(),itemsToShow:a}}))}))}},{key:"loadMore",value:function(){var e=this.setDefaultProps(this.props),n=e.autoPaged,l=e.connection;n&&!n.enabled&&this.props.prefetchingEnabled&&l?this.loadMorePrefetched():this.loadMoreDefault()}},{key:"havePrefetchedItems",value:function(){var e=this.setDefaultProps(this.props).connection;return(null===e||void 0===e?void 0:e.edges)&&this.state.itemsToShow<e.edges.length}},{key:"loadMorePrefetched",value:function(){var e=this.setDefaultProps(this.props),n=e.relayObject,l=e.onPagingStart,a=e.onPagingEnd,i=e.connection,t=this.state.isPaging;if(i&&this.havePrefetchedItems())return l&&l(),a&&a(null,n.hasMore()),void this.setState({isPaging:!1,hasMore:n.hasMore(),itemsToShow:null===i||void 0===i?void 0:i.edges.length,existingItems:this.getExistingIDs()});if(n.hasMore()&&!t){var r=Object(C.m)();l&&l(),this.setState({isPaging:!0,pageStartTime:r,error:null})}}},{key:"loadMoreDefault",value:function(){var e=this,n=this.setDefaultProps(this.props),l=n.relayObject,a=n.onPagingStart,i=n.onPagingEnd,t=this.state.isPaging;if(l.hasMore()&&!t&&!l.isLoading()){var r=Object(C.m)();a&&a(),l.loadMore(0,(function(n){var a=e.setDefaultProps(e.props).connection,t=!n&&l.hasMore();n&&console.error(n),i&&i(null!==n&&void 0!==n?n:null,t),e.setState((function(l){var i=null!==a&&void 0!==a&&a.edges?null===a||void 0===a?void 0:a.edges.length:l.itemsToShow;return{isPaging:!1,pageStartTime:undefined,hasMore:t,error:null!==n&&void 0!==n?n:null,itemsToShow:i,existingItems:e.getExistingIDs()}}))})),this.setState({isPaging:!0,pageStartTime:r,hasMore:!0,error:null})}}},{key:"refetchList",value:function(){var e,n=this,l=this.setDefaultProps(this.props),a=l.relayObject,i=l.onPagingStart,t=l.onPagingEnd,r=l.connection;null===i||void 0===i||i();var s=null===r||void 0===r||null===(e=r.edges)||void 0===e?void 0:e.length;return this.setState({existingItems:this.getExistingIDs(),isBannerLoading:!0}),new Promise((function(e){a.refetchConnection(0,(function(l){var i,r=!l&&a.hasMore();l&&console.error(l),null===t||void 0===t||t(null!==l&&void 0!==l?l:null,r),n.setState({isPaging:!1,hasMore:r,error:null!==l&&void 0!==l?l:null,initialLiveBannerHash:null===(i=n.props.liveBannerConfig)||void 0===i?void 0:i.hashValue,isBannerLoading:!1},n.scrollToNewestItem),e()}),{first:s&&s+1,refetch:!0})}))}},{key:"shouldShowLiveBanner",value:function(){var e=this.props,n=e.liveBannerConfig,l=e.connection,a=this.state.initialLiveBannerHash;if(!n||!H()||!a)return!1;var i=n.hashValue,t=n.ignoreList;if(i===a)return!1;if(!t)return Object(S.a)("scribe_only",{scribe_category:"live_banner_triggered",log_viewer:!0,connectionName:null===l||void 0===l?void 0:l.__typename,old_hash:a,new_hash:i,ignoreList:!1},{sampleRate:.1}),!0;var r=String(a).split(":"),s=String(i).split(":").some((function(e){return!r.includes(e)&&!t.includes(e)}));return s&&Object(S.a)("scribe_only",{scribe_category:"live_banner_triggered",log_viewer:!0,connectionName:null===l||void 0===l?void 0:l.__typename,old_hash:a,new_hash:i,ignoreList:!0},{sampleRate:.1}),s}},{key:"scrollToNewestItem",value:function(){var e=this;window.requestAnimationFrame((function(){var n=e.props.connection,l=e.state.existingItems,a=null===n||void 0===n?void 0:n.edges.find((function(n){return e.getIdFromEdge(n)&&!l.includes(e.getIdFromEdge(n))}));if(a){var i=e.itemRefs[e.getIdFromEdge(a)];Object(h.a)(i,"center")}}))}},{key:"renderChildren",value:function(){var e=this,n=this.setDefaultProps(this.props),l=n.relayObject,a=n.children,i=n.singleItemErrorComponent,t=n.connection,r=n.liveBannerConfig,s=n.onNullNode,o=n.animated,u=n.temporaryHighlightBox,d=this.state,m=d.isPaging,c=d.error,p=d.hasMore,y=d.existingItems,k=d.itemsToShow;return null===t?null:a?t?(null===t||void 0===t?void 0:t.edges.slice(0,k)).map((function(n,t){var d;if(!n||!n.node)return null===s||void 0===s||s(),null;var f,v=e.getIdFromEdge(n),F=r&&v&&!m&&!y.includes(v);return o?g.createElement(P.b,{key:v||(null===n||void 0===n||null===(d=n.node)||void 0===d?void 0:d.id),"in":!0,appear:F},(function(r){return g.createElement(P.f,{fadeIn:!0,animation:r,slideDistance:"small"},g.createElement(M.c,{delay:400,disabled:!(F&&u)},g.createElement(P.d,{innerRef:function(n){return e.itemRefs[v]=n}},g.createElement(E.a,{errorChildren:function(){return i}},a({index:t,node:null===n||void 0===n?void 0:n.node,isLastItem:t===k-1,loading:l.isLoading()||m,error:c,readyToLoadMore:!l.isLoading()&&!m&&p,loadMore:e.loadMore})))))})):g.createElement(E.a,{errorChildren:function(){return i},key:v||(null===n||void 0===n||null===(f=n.node)||void 0===f?void 0:f.id)},a({index:t,node:null===n||void 0===n?void 0:n.node,isLastItem:t===k-1,loading:l.isLoading()||m,error:c,readyToLoadMore:!l.isLoading()&&!m&&p,loadMore:e.loadMore}))})):a({loading:l.isLoading()||m,error:c,readyToLoadMore:!l.isLoading()&&!m&&p,loadMore:this.loadMore,index:-1,node:undefined,isLastItem:!1})||[]:null}},{key:"render",value:function(){var e,n,l=this,a=this.setDefaultProps(this.props),i=a.relayObject,t=a.autoPaged,r=a.pagingIndicator,s=a.loadingIndicator,o=a.endOfPageComponent,u=a.endOfContentComponent,d=a.connectionIssueComponent,m=a.errorComponent,c=a.liveBannerConfig,p=a.listWrapper,k=a.as,v=void 0===k?"div":k,F=this.state,C=F.error,S=F.isPaging,h=F.hasMore,K=F.isBannerLoading,b=F.itemsToShow,T=C&&Object(_.isConnectionError)(C),I=C&&!T,E=!C&&!i.isLoading()&&!S&&!h,A=!C&&!S&&!(null!==t&&void 0!==t&&t.enabled)&&(this.havePrefetchedItems()||h&&!i.isLoading());return y()(i,"PagedList expects relayObject props"),!i||i.isLoading()&&!S&&!K&&0===b&&s?s||null:g.createElement(w.a,{condition:!!c&&H(),wrapper:function(e){return c?g.createElement(L.a,{fragmentOrQuery:c.query,initialData:c.initialData,variables:c.variables(i.getFragmentVariables())},e):e}},g.createElement(w.a,{condition:null!==(e=null===t||void 0===t?void 0:t.enabled)&&void 0!==e&&e,wrapper:function(e){return g.createElement(f.a,Object.assign({loadMore:l.loadMore,hasMore:h,loader:r},null===t||void 0===t?void 0:t.infiniteScrollOptions,{element:v}),e)},elseWrapper:function(e){return g.createElement(D.b,{onChange:l.onViewChange,as:v},e)}},c&&this.shouldShowLiveBanner()&&g.createElement(q.a,null,g.createElement(j,{refetch:this.refetchList,text:c.bannerText,loading:K})),null!==(n=null===p||void 0===p?void 0:p(this.renderChildren()))&&void 0!==n?n:this.renderChildren(),!(null!==t&&void 0!==t&&t.enabled)&&i.isLoading()&&S&&r,A&&(null===o||void 0===o?void 0:o(this.loadMore)),E&&(null===u||void 0===u?void 0:u()),T&&(null===d||void 0===d?void 0:d(this.loadMore)),I&&(null===m||void 0===m?void 0:m(this.loadMore))))}}],[{key:"getDerivedStateFromProps",value:function(e,n){var l,a,i;return!n.hasMore&&null!==(l=e.relayObject)&&void 0!==l&&l.hasMore()?Object.assign({},n,{hasMore:e.relayObject.hasMore()}):null!==(a=e.connection)&&void 0!==a&&a.edges.length&&(null===(i=e.connection)||void 0===i?void 0:i.edges.length)<n.itemsToShow?Object.assign({},n,{itemsToShow:e.connection.edges.length}):n}}]),l}(g.Component);Z.defaultProps={autoPaged:{},pagingIndicator:g.createElement(v.c,{key:"loading"}),connectionIssueComponent:function(e){return g.createElement(Q,{onClick:e})},errorComponent:function(e){return g.createElement(z,{onClick:e})},singleItemErrorComponent:g.createElement(A.a,null),animated:!0,temporaryHighlightBox:!0,as:"div",prefetchingEnabled:!0},Z.displayName="PagedList"},m6aV:function(e,n,l){"use strict";var a=l("q1tI"),i=a.createContext({});n.a=i},nG0s:function(e,n,l){"use strict";l.d(n,"a",(function(){return o}));var a=l("yMAQ"),i=l.n(a),t=l("q1tI"),r=t.createContext(undefined),s=function(e){var n=e.children,l=t.useState(),a=i()(l,2),s=a[0],o=a[1];return t.createElement(r.Provider,{value:o},s||null,n)};s.displayName="LiveBannerAnchor";var o=function(e){var n=e.children,l=t.useContext(r);return t.useEffect((function(){return null===l||void 0===l||l(n),function(){null===l||void 0===l||l(null)}})),n===undefined?null:t.createElement(t.Fragment,null,l?null:n)};n.b=s},"ptJ+":function(e,n,l){"use strict";var a={};l.r(a),l.d(a,"default",(function(){return p}));var i,t=l("8ZkK"),r=l.n(t),s=l("tQZz"),o=l.n(s),u=l("10u2"),d=l.n(u),m=l("MMxs"),c=l.n(m),g={kind:"Fragment",name:"CommentQTextExpandable_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isSensitive",args:null,storageKey:null}]}],hash:"9eaf15730308054629245c73bf682a8d"},p=g,y=l("q1tI"),k=l("wB5M"),f=l("VyO/"),v=l("QLaP"),F=l.n(v),C=function(e){d()(l,e);var n=c()(l);function l(){return r()(this,l),n.apply(this,arguments)}return o()(l,[{key:"render",value:function(){var e=this.props,n=e.comment,l=n.content,a=n.tribe,i=e.charLimit,t=void 0===i?300:i,r=null===a||void 0===a?void 0:a.isSensitive;F()(null!==l,"missing content for comment");var s=JSON.parse(l);return y.createElement(k.a,{qt:s,isSensitive:r,charLimit:t,truncationType:"regular",hasImageBoundary:!1,bg:"white"})}}]),l}(y.Component);C.fragments={comment:void 0!==i?i:i=a},C.displayName="CommentQTextExpandable";n.a=Object(f.b)(C)},qPyV:function(e,n,l){var a=l("ut/Y"),i=l("LGYb");e.exports=function(e,n){return e&&e.length?i(e,a(n,2)):[]}},qRv2:function(e,n,l){"use strict";l.r(n);var a={};l.r(a),l.d(a,"default",(function(){return p}));var i,t=l("8ZkK"),r=l.n(t),s=l("tQZz"),o=l.n(s),u=l("10u2"),d=l.n(u),m=l("MMxs"),c=l.n(m),g={kind:"Fragment",name:"ShareCommentItem_share",type:"Share",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"first",type:"Int",defaultValue:5},{kind:"LocalArgument",name:"skipCommentList",type:"Boolean",defaultValue:!1}],selections:[{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]},{kind:"FragmentSpread",name:"CommentArea_container",args:[{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"skipCommentList",variableName:"skipCommentList"}]}],hash:"b0731f753e6ce27bcf0fa1f29f00f2bb"},p=g,y=l("q1tI"),k=l("VyO/"),f=l("EFAP"),v=l("RqIh"),F=l("vg+J"),C=l("nwxp"),S=function(e){d()(l,e);var n=c()(l);function l(){return r()(this,l),n.apply(this,arguments)}return o()(l,[{key:"render",value:function(){var e=this.props,n=e.share,l=e.initiallyHideReplies,a=e.hideCollapsedCommentsToggle,i=n.author.isBlocking;return y.createElement(f.e.Consumer,null,(function(e){return y.createElement(F.a,{container:n,isCommentsDisabled:i,autoPaged:Object(C.g)()&&e===v.a.share_modal,commentType:"ShareComment",initiallyHideReplies:l,hideCollapsedCommentsToggle:a})}))}}]),l}(y.Component);S.fragments={share:void 0!==i?i:i=a},S.displayName="ShareCommentItem";n["default"]=Object(k.b)(S)},qZYu:function(e,n,l){"use strict";l.d(n,"a",(function(){return o}));var a=l("q1tI"),i=l("cbxS"),t=l("OMLc"),r=l("jufJ"),s=l("RA+f");function o(){return a.createElement(s.d,{p:"small",borderBottom:!0},a.createElement(i.a,{variant:"warning_inverted",icon:a.createElement(t.a,{name:"Error"}),title:a.createElement(r.J,null,"There was an error loading this item.")}))}},rS24:function(e,n,l){"use strict";var a=l("q1tI"),i=l("nW6E"),t=l("yju1"),r=function(e){var n=e.children;return a.createElement(i.j,{standaloneModalProps:{containerProps:{mobileHeight:370},modalProps:{name:"PostPhotoPermissionModal",fetchPolicy:"store-only"},postDismissCallback:function(e){null!==e&&void 0!==e&&e.success&&Object(t.a)("showPhotoSelector")}}},(function(e){var l=e.openStandaloneModal;return n((function(e){l({modalProps:{name:"PostPhotoPermissionModal",extraProps:{photoAuthorizationStatus:e}}})}))}))};r.displayName="PhotoPermissionModalWrapper",n.a=r},"s/A7":function(e,n,l){"use strict";l.d(n,"a",(function(){return t}));var a=l("8ezB"),i=l("Jz1U");Object(a.a)(),Object(i.b)();var t=function(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"start";e&&setTimeout((function(){e.scrollIntoView({behavior:"smooth",block:n})}))}},sI7B:function(e,n,l){"use strict";var a={};l.r(a),l.d(a,"default",(function(){return p}));var i=l("8ZkK"),t=l.n(i),r=l("tQZz"),s=l.n(r),o=l("10u2"),u=l.n(o),d=l("MMxs"),m=l.n(d),c=function(){var e=[{kind:"LocalArgument",name:"containerId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"replyToId",type:"BigInt",defaultValue:null}],n=[{kind:"Variable",name:"commentType",variableName:"commentType"},{kind:"Variable",name:"containerId",variableName:"containerId"},{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"replyToId",variableName:"replyToId"}],l={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"commentDraftContent",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"CommentAddDraftMutation_commentDraftAdd_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"commentDraftAdd",storageKey:null,args:n,concreteType:"CommentDraftAdd",plural:!1,selections:[l,{kind:"LinkedField",alias:null,name:"container",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a]}]}]},operation:{kind:"Operation",name:"CommentAddDraftMutation_commentDraftAdd_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"commentDraftAdd",storageKey:null,args:n,concreteType:"CommentDraftAdd",plural:!1,selections:[l,{kind:"LinkedField",alias:null,name:"container",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},a,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}]},params:{operationKind:"mutation",name:"CommentAddDraftMutation_commentDraftAdd_Mutation",id:"d47279789ddc26c89af8191bf19127afb9e206d82949029f5a2a07d3cd26571c",text:null,metadata:{}}}}();c.hash="0ee2d523ba79058b3f653aaf10053e59";var g,p=c,y=l("q1tI"),k=l("VyO/"),f=function(e){u()(l,e);var n=m()(l);function l(){return t()(this,l),n.apply(this,arguments)}return s()(l,[{key:"render",value:function(){var e=this.props,n=e.containerId,a=e.commentType,i=e.replyToId,t=e.children;return y.createElement(k.a,{mutation:l.mutations.saveDraft},(function(e){return t((function(l){return e({variables:{containerId:n,commentType:a,replyToId:i||null,content:JSON.stringify(l)}})}))}))}}]),l}(y.Component);f.mutations={saveDraft:void 0!==g?g:g=a},f.displayName="CommentAddDraftMutation";n.a=f},t72q:function(e,n,l){"use strict";l.r(n);var a={};l.r(a),l.d(a,"default",(function(){return k}));var i={};l.r(i),l.d(i,"default",(function(){return F}));var t={};l.r(t),l.d(t,"default",(function(){return w}));var r={};l.r(r),l.d(r,"default",(function(){return P}));var s=l("8ZkK"),o=l.n(s),u=l("tQZz"),d=l.n(u),m=l("10u2"),c=l.n(m),g=l("MMxs"),p=l.n(g),y=function(){var e=[{kind:"LocalArgument",name:"pid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null}],n=[{kind:"Variable",name:"pid",variableName:"pid"}],l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i={kind:"Variable",name:"first",variableName:"first"},t={kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null},r={kind:"Literal",name:"requestType",value:4},s=[r],o={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},u={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},d=[a,l,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],m={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:d},c={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:d},g={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},y={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},v={name:"annotate_with_ids",value:"true"},F=[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}],C={kind:"Condition",passingValue:!0,isCustom:!0,customValue:v,condition:"onGate",selections:F},S={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerBundleSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"consumerBundleActive",args:null,storageKey:null}]},h={kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},K={kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},b=[i,r],T={kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null},L={kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},I={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},w={kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},E={kind:"ScalarField",alias:null,name:"deletedTime",args:null,storageKey:null},_={kind:"ScalarField",alias:null,name:"isReply",args:null,storageKey:null},A={kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},D={kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,o,g,p,y,k,f,u,m,c,t,S,C]},R={kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"canSeeDeletedContent",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isAdmin",args:null,storageKey:null},l,a,{kind:"ScalarField",alias:null,name:"isAdminMode",args:null,storageKey:null}]},V={kind:"ScalarField",alias:null,name:"commenterIsTribeModerator",args:null,storageKey:null},P={kind:"ScalarField",alias:null,name:"commenterIsTribeAdmin",args:null,storageKey:null},O={kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,o]},N={kind:"ScalarField",alias:null,name:"creationTime",args:null,storageKey:null},U={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},B={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},x={kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isSensitive",args:null,storageKey:null},l,a,{kind:"ScalarField",alias:null,name:"viewerCanModerate",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null}]},j={kind:"ScalarField",alias:null,name:"authorIsBlockedByTribe",args:null,storageKey:null},M={kind:"ScalarField",alias:null,name:"replyDraftContent",args:null,storageKey:null},q={kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},H={kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},Q={kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null},z={kind:"ScalarField",alias:null,name:"viewerCanDelete",args:null,storageKey:null},Z={kind:"ScalarField",alias:null,name:"viewerCanAdminDelete",args:null,storageKey:null},G={kind:"ScalarField",alias:null,name:"viewerCanBlockCommentAuthor",args:null,storageKey:null},J={kind:"ScalarField",alias:null,name:"viewerCanInviteToContribute",args:null,storageKey:null},W={kind:"ScalarField",alias:null,name:"reportableId",args:null,storageKey:null},Y={kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null},X={kind:"ScalarField",alias:null,name:"viewerInvitedAuthorToTribe",args:null,storageKey:null},$={kind:"LinkedField",alias:null,name:"featuredUpvoters",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[o,l,g,p,y,k,a,f,u,m,c,S,C]},ee=[{kind:"Literal",name:"first",value:2}],ne={kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[L,T]},le=[{kind:"Literal",name:"first",value:1}],ae={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},ie={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerDirectSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"LinkedField",alias:null,name:"authorTribeUser",storageKey:null,args:null,concreteType:"TribeUser",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isDirectSubscriber",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"permission",args:null,storageKey:null},l]}]},te={kind:"Condition",passingValue:!0,isCustom:!0,customValue:v,condition:"onGate",selections:[{kind:"InlineFragment",type:"AnswerComment",selections:F}]};return{kind:"Request",fragment:{kind:"Fragment",name:"PostCommentWithPreviewLoadCommentQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"post",storageKey:null,args:n,concreteType:"Post",plural:!1,selections:[l,a,{kind:"FragmentSpread",name:"PostComment_post",args:[i]}]}]},operation:{kind:"Operation",name:"PostCommentWithPreviewLoadCommentQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"post",storageKey:null,args:n,concreteType:"Post",plural:!1,selections:[l,a,{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[t,l]},{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a,l]},{kind:"ScalarField",alias:null,name:"numDisplayComments",args:null,storageKey:null},{kind:"ScalarField",alias:"numUncollapsedToplevelComments",name:"numComments",args:s,storageKey:"numComments(requestType:4)"},{kind:"ScalarField",alias:"numCommentsCollapsed",name:"numComments",args:[{kind:"Literal",name:"requestType",value:3}],storageKey:"numComments(requestType:3)"},{kind:"ScalarField",alias:null,name:"isCommentsDisabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"canViewerAddComment",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[o,l,a,u,m,c,g,p,y,k,f,C,S]},l]},h,K,{kind:"ScalarField",alias:null,name:"commentDraftContent",args:null,storageKey:null},{kind:"LinkedField",alias:"allCommentsConnection",name:"genericCommentsConnection",storageKey:null,args:b,concreteType:"GenericCommentsConnection",plural:!1,selections:[l,a,{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[T,L]},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"NodeEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,I,K,w,E,_,A,D,R,V,P,O,N,U,B,x,j,h,M,q,H,Q,q,H,Q,z,Z,G,J,W,Y,X,$,{kind:"ScalarField",alias:null,name:"numReplies",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:2)",args:ee,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,ne,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,I,h,w,E,_,A,D,R,V,P,O,N,U,B,x,j,K,M,q,H,Q,q,H,Q,z,Z,G,J,W,Y,X,$,{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:1)",args:le,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,w,B,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,o,u,m,c,C]}]},ae]},ne]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:le,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},ie,te]},ae]}]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:ee,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},ie,te]},ae,l]}]},{kind:"LinkedHandle",alias:"allCommentsConnection",name:"genericCommentsConnection",args:b,handle:"connection",key:"AllCommentsList_allCommentsConnection",filters:["requestType"]},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"show_react_live_update_banner",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"genericCommentsLiveBannerHash",args:s,storageKey:"genericCommentsLiveBannerHash(requestType:4)"}]}]}]},params:{operationKind:"query",name:"PostCommentWithPreviewLoadCommentQuery",id:"87799cddf66014e9fadff4f1707f6ae19b1b0ef43817a73421a38c14708e32d3",text:null,metadata:{}}}}();y.hash="d1acc9c4a447eaab389f1e0bfd419cc6";var k=y,f=function(){var e=[{kind:"FragmentSpread",name:"PostFeedStoryCommentPreview_post",args:[{kind:"Variable",name:"first",variableName:"first"}]}];return{kind:"Fragment",name:"PostCommentWithPreview_post",type:"Post",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"first",type:"Int",defaultValue:5}],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"pid",args:null,storageKey:null},{kind:"FragmentSpread",name:"PostFeaturedCommentPreview_post",args:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{experiment:"feed_story_comment_preview_v2",value:"expandable_stories"},condition:"onVariant",selections:e},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{experiment:"feed_story_comment_preview_v2",value:"short_content"},condition:"onVariant",selections:e}]}}();f.hash="c9673ef1684c3e20016d84947c7b831e";var v,F=f,C=l("q1tI"),S=l("VyO/"),h=l("D5Zh"),K=l("ZFNG"),b=l("td6z"),T=l("hTns"),L=l("WSfD"),I={kind:"Fragment",name:"PostFeaturedCommentPreview_post",type:"Post",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"first",type:null}],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numDisplayComments",args:null,storageKey:null},{kind:"FragmentSpread",name:"PostComment_post",args:[{kind:"Variable",name:"first",variableName:"first"},{kind:"Literal",name:"skipCommentList",value:!0}]},{kind:"FragmentSpread",name:"CommentFeaturedPreview_container",args:[{kind:"Literal",name:"first",value:1}]}],hash:"166ddb54b83f317e1093188da3b12d34"},w=I,E=l("Xy8g"),_=function(e){c()(l,e);var n=p()(l);function l(){return o()(this,l),n.apply(this,arguments)}return d()(l,[{key:"render",value:function(){var e=this.props,n=e.post,l=e.onClick,a=n.numDisplayComments;return a?C.createElement(E.a,{container:n,onClick:l,numDisplayComments:a}):C.createElement(L.a,{post:n})}}]),l}(C.Component);_.fragments={post:void 0!==v?v:v=t},_.displayName="PostFeaturedCommentPreview";var A,D=Object(S.b)(_),R=l("Gnru"),V={kind:"Fragment",name:"PostFeedStoryCommentPreview_post",type:"Post",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"first",type:"Int",defaultValue:5}],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numDisplayComments",args:null,storageKey:null},{kind:"ScalarField",alias:"numUncollapsedToplevelComments",name:"numComments",args:[{kind:"Literal",name:"requestType",value:4}],storageKey:"numComments(requestType:4)"},{kind:"ScalarField",alias:null,name:"isCommentsDisabled",args:null,storageKey:null},{kind:"FragmentSpread",name:"PostComment_post",args:[{kind:"Variable",name:"first",variableName:"first"},{kind:"Literal",name:"skipCommentList",value:!0}]},{kind:"FragmentSpread",name:"FeedStoryCommentPreview_container",args:[{kind:"Literal",name:"first",value:1}]}],hash:"eb0e1ff4aec0b4fbbc6df81f072db9f6"},P=V,O=l("K1HT"),N=function(e){c()(l,e);var n=p()(l);function l(){return o()(this,l),n.apply(this,arguments)}return d()(l,[{key:"render",value:function(){var e=this.props,n=e.post,l=e.onClick,a=e.hideCollapsedCommentsToggle,i=n.numDisplayComments,t=n.numUncollapsedToplevelComments;return n.isCommentsDisabled&&!i?null:i?C.createElement(O.a,{container:n,onClick:l,numUncollapsedToplevelComments:t}):C.createElement(L.a,{post:n,hideCollapsedCommentsToggle:a})}}]),l}(C.Component);N.fragments={post:void 0!==A?A:A=r},N.displayName="PostFeedStoryCommentPreview";var U,B,x=Object(S.b)(N),j=function(e){c()(l,e);var n=p()(l);function l(){return o()(this,l),n.apply(this,arguments)}return d()(l,[{key:"render",value:function(){var e=this.props,n=e.post,a=e.initialPageSize,i=e.commentsExpanded,t=e.onExpand,r=e.deferCommentLoad,s=void 0===r||r,o=e.useNewCommentPreview,u=!i;return C.createElement(R.ClientLogConsumer,null,(function(e){var i=function(){null===t||void 0===t||t(),e("PostCommentBarExpand",{pid:n.pid})};return C.createElement(C.Fragment,null,u&&(o?C.createElement(x,{post:n,onClick:i,hideCollapsedCommentsToggle:o}):C.createElement(K.b,null,C.createElement(D,{post:n,onClick:i}))),C.createElement(T.a,{shouldShow:!u},C.createElement(h.a,{query:l.queries.loadPostComment,variables:{pid:n.pid,first:a},deferQuery:s},(function(e){var n=e.loading,l=e.error,a=e.data;return n?C.createElement(b.c,{bg:"gray_ultralight"}):l||null===a.post?null:C.createElement(L.a,{post:a.post})}))))}))}}]),l}(C.Component);j.fragments={post:void 0!==U?U:U=i},j.queries={loadPostComment:void 0!==B?B:B=a},j.displayName="PostCommentWithPreview";n["default"]=Object(S.b)(j)},uRky:function(e,n,l){"use strict";l.d(n,"a",(function(){return L}));var a={};l.r(a),l.d(a,"default",(function(){return k}));var i=l("8meh"),t=l.n(i),r=l("8ZkK"),s=l.n(r),o=l("tQZz"),u=l.n(o),d=l("10u2"),m=l.n(d),c=l("MMxs"),g=l.n(c),p=function(){var e=[{kind:"LocalArgument",name:"objectId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"replyToId",type:"BigInt",defaultValue:null}],n=[{kind:"Variable",name:"commentType",variableName:"commentType"},{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"objectId",variableName:"objectId"},{kind:"Variable",name:"replyToId",variableName:"replyToId"}],l={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"msg",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"errorCode",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"CommentAddMutation_commentAdd_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"commentAdd",storageKey:null,args:n,concreteType:"CommentAdd",plural:!1,selections:[l,a,i,{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:null,concreteType:null,plural:!1,selections:[t,r]}]}]},operation:{kind:"Operation",name:"CommentAddMutation_commentAdd_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"commentAdd",storageKey:null,args:n,concreteType:"CommentAdd",plural:!1,selections:[l,a,i,{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},t,r,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}]},params:{operationKind:"mutation",name:"CommentAddMutation_commentAdd_Mutation",id:"d247a46f4d3897b4ff742db8c97308fc210ef46252a48d164a50e3f1f5753cf3",text:null,metadata:{}}}}();p.hash="159f5e8978d76e7550fcfcc3dadde107";var y,k=p,f=l("q1tI"),v=l("VyO/"),F=l("Pp7N"),C=l("jufJ"),S=l("LNH1"),h=l("h39y"),K=l("p11P");!function(e){e.unconfirmed_email="unconfirmed_email",e.no_permission="no_permission",e.comment_disabled="comment_disabled",e.comment_item_deleted="comment_item_deleted",e.comment_too_long="comment_too_long",e.comment_operation_error="comment_operation_error",e.empty_content="empty_content"}(y||(y={}));var b,T=y;new Map([[y.unconfirmed_email,1],[y.no_permission,2],[y.comment_disabled,3],[y.comment_item_deleted,4],[y.comment_too_long,5],[y.comment_operation_error,6],[y.empty_content,7]]),new Map([[1,y.unconfirmed_email],[2,y.no_permission],[3,y.comment_disabled],[4,y.comment_item_deleted],[5,y.comment_too_long],[6,y.comment_operation_error],[7,y.empty_content]]);var L=function(e){m()(l,e);var n=g()(l);function l(){return s()(this,l),n.apply(this,arguments)}return u()(l,[{key:"render",value:function(){var e=this.props,n=e.objectId,a=e.commentType,i=e.replyToId,r=e.children,s=e.onSuccess;return f.createElement(S.b,null,(function(e){return f.createElement(v.a,{mutation:l.mutations.addComment,onCompleted:function(l){var i,r,o,u=null!==(i=null===l||void 0===l?void 0:l.commentAdd)&&void 0!==i?i:{},d=u.success,m=u.errorCode;!d&&m&&e.error(Object(C.Z)(f.createElement(C.c,{value:T[m]},(o={},t()(o,T.unconfirmed_email,"Please confirm your email before adding a comment."),t()(o,T.no_permission,"You do not have permission to add a comment to this item."),t()(o,T.comment_disabled,"Comments are disabled on this item."),t()(o,T.comment_item_deleted,"This item has been deleted."),t()(o,T.comment_too_long,"Your comment is too long. Please shorten it."),t()(o,T.comment_operation_error,"We were unable to add this comment. Please try again later."),t()(o,T.empty_content,"Your comment cannot be blank."),t()(o,"DEFAULT","We were unable to add this comment. Please try again later."),o))));if(s&&null!==l&&void 0!==l&&null!==(r=l.commentAdd)&&void 0!==r&&r.success&&null!==l.commentAdd.comment){var c=l.commentAdd.comment,g=c.commentId,p=c.url;F.b.dispatch({type:F.a.COMMENT_ADDED,payload:{commentId:g,url:p}}),Object(h.commitLocalUpdate)(K["default"],(function(e){var l;switch(a){case"AnswerComment":l=e.getRoot().getLinkedRecord("answer",{aid:n});break;case"PostComment":l=e.getRoot().getLinkedRecord("post",{pid:n});break;case"ShareComment":l=e.getRoot().getLinkedRecord("share",{shareId:n});break;case"QuestionComment":l=e.getRoot().getLinkedRecord("question",{qid:n})}if(l){var i=JSON.parse(l.getValue("numDisplayComments"));l.setValue(i+1,"numDisplayComments")}})),s({commentId:g,url:p})}}},(function(e){return r((function(l){return e({variables:{objectId:n,commentType:a,replyToId:i,content:JSON.stringify(l)}})}))}))}))}}]),l}(f.Component);L.mutations={addComment:void 0!==b?b:b=a},L.displayName="CommentAddMutation"},"vg+J":function(e,n,l){"use strict";var a={};l.r(a),l.d(a,"default",(function(){return W}));var i={};l.r(i),l.d(i,"default",(function(){return X}));var t={};l.r(t),l.d(t,"default",(function(){return ee}));var r={};l.r(r),l.d(r,"default",(function(){return re}));var s={};l.r(s),l.d(s,"default",(function(){return oe}));var o={};l.r(o),l.d(o,"default",(function(){return de}));var u={};l.r(u),l.d(u,"default",(function(){return ge}));var d={};l.r(d),l.d(d,"default",(function(){return ye}));var m={};l.r(m),l.d(m,"default",(function(){return ve}));var c={};l.r(c),l.d(c,"default",(function(){return Ee}));var g={};l.r(g),l.d(g,"default",(function(){return Ne}));var p={};l.r(p),l.d(p,"default",(function(){return Me}));var y={};l.r(y),l.d(y,"default",(function(){return Ye}));var k={};l.r(k),l.d(k,"default",(function(){return on}));var f={};l.r(f),l.d(f,"default",(function(){return gn}));var v={};l.r(v),l.d(v,"default",(function(){return In}));var F={};l.r(F),l.d(F,"default",(function(){return En}));var C={};l.r(C),l.d(C,"default",(function(){return Pn}));var S={};l.r(S),l.d(S,"default",(function(){return Nn}));var h={};l.r(h),l.d(h,"default",(function(){return Zn}));var K={};l.r(K),l.d(K,"default",(function(){return Jn}));var b={};l.r(b),l.d(b,"default",(function(){return tl}));var T={};l.r(T),l.d(T,"default",(function(){return vl}));var L={};l.r(L),l.d(L,"default",(function(){return Cl}));var I={};l.r(I),l.d(I,"default",(function(){return hl}));var w={};l.r(w),l.d(w,"default",(function(){return Ll}));var E={};l.r(E),l.d(E,"default",(function(){return El}));var _={};l.r(_),l.d(_,"default",(function(){return Al}));var A={};l.r(A),l.d(A,"default",(function(){return Ul}));var D={};l.r(D),l.d(D,"default",(function(){return da}));var R={};l.r(R),l.d(R,"default",(function(){return ya}));var V={};l.r(V),l.d(V,"default",(function(){return fa}));var P={};l.r(P),l.d(P,"default",(function(){return Ca}));var O={};l.r(O),l.d(O,"default",(function(){return ba}));var N={};l.r(N),l.d(N,"default",(function(){return ja}));var U={};l.r(U),l.d(U,"default",(function(){return Qa}));var B={};l.r(B),l.d(B,"default",(function(){return Ya}));var x={};l.r(x),l.d(x,"default",(function(){return $a}));var j=l("8ZkK"),M=l.n(j),q=l("tQZz"),H=l.n(q),Q=l("10u2"),z=l.n(Q),Z=l("MMxs"),G=l.n(Z),J=function(){var e=[{kind:"LocalArgument",name:"id",type:"ID!",defaultValue:null}],n=[{kind:"Variable",name:"id",variableName:"id"}],l={kind:"Literal",name:"requestType",value:3},a={kind:"ScalarField",alias:"numCommentsCollapsed",name:"numComments",args:[l],storageKey:"numComments(requestType:3)"},i={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},s=[{kind:"Literal",name:"first",value:3},l],o={kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]},u={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"deletedTime",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"isReply",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},y={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},v={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},F={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},C={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},S=[t,i,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],h={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:S},K={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:S},b={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerBundleSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"consumerBundleActive",args:null,storageKey:null}]},T={name:"annotate_with_ids",value:"true"},L=[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}],I={kind:"Condition",passingValue:!0,isCustom:!0,customValue:T,condition:"onGate",selections:L},w={kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[i,t,p,y,k,f,v,F,C,h,K,{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null},b,I]},E={kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"canSeeDeletedContent",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isAdmin",args:null,storageKey:null},i,t,{kind:"ScalarField",alias:null,name:"isAdminMode",args:null,storageKey:null}]},_={kind:"ScalarField",alias:null,name:"commenterIsTribeModerator",args:null,storageKey:null},A={kind:"ScalarField",alias:null,name:"commenterIsTribeAdmin",args:null,storageKey:null},D={kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[i,t,p]},R={kind:"ScalarField",alias:null,name:"creationTime",args:null,storageKey:null},V={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},P={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},O={kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isSensitive",args:null,storageKey:null},i,t,{kind:"ScalarField",alias:null,name:"viewerCanModerate",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null}]},N={kind:"ScalarField",alias:null,name:"authorIsBlockedByTribe",args:null,storageKey:null},U={kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},B={kind:"ScalarField",alias:null,name:"replyDraftContent",args:null,storageKey:null},x={kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},M={kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null},q={kind:"ScalarField",alias:null,name:"viewerCanDelete",args:null,storageKey:null},H={kind:"ScalarField",alias:null,name:"viewerCanAdminDelete",args:null,storageKey:null},Q={kind:"ScalarField",alias:null,name:"viewerCanBlockCommentAuthor",args:null,storageKey:null},z={kind:"ScalarField",alias:null,name:"viewerCanInviteToContribute",args:null,storageKey:null},Z={kind:"ScalarField",alias:null,name:"reportableId",args:null,storageKey:null},G={kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null},J={kind:"ScalarField",alias:null,name:"viewerInvitedAuthorToTribe",args:null,storageKey:null},W={kind:"LinkedField",alias:null,name:"featuredUpvoters",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[p,i,y,k,f,v,t,F,C,h,K,b,I]},Y=[{kind:"Literal",name:"first",value:2}],X=[{kind:"Literal",name:"first",value:1}],$={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},ee={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerDirectSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"LinkedField",alias:null,name:"authorTribeUser",storageKey:null,args:null,concreteType:"TribeUser",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isDirectSubscriber",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"permission",args:null,storageKey:null},i]}]},ne={kind:"Condition",passingValue:!0,isCustom:!0,customValue:T,condition:"onGate",selections:[{kind:"InlineFragment",type:"AnswerComment",selections:L}]};return{kind:"Request",fragment:{kind:"Fragment",name:"CommentAreaLoadCollapsedQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:n,concreteType:null,plural:!1,selections:[a,{kind:"FragmentSpread",name:"CollapsedCommentList_container",args:null}]}]},operation:{kind:"Operation",name:"CommentAreaLoadCollapsedQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:n,concreteType:null,plural:!1,selections:[a,i,t,r,{kind:"LinkedField",alias:"hiddenComments",name:"genericCommentsConnection",storageKey:"genericCommentsConnection(first:3,requestType:3)",args:s,concreteType:"GenericCommentsConnection",plural:!1,selections:[i,t,o,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"NodeEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[u,i,t,d,m,c,g,w,E,_,A,D,R,V,P,O,N,U,r,B,x,j,M,x,j,M,q,H,Q,z,Z,G,J,W,{kind:"ScalarField",alias:null,name:"numReplies",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:2)",args:Y,concreteType:"CommentRepliesConnection",plural:!1,selections:[i,t,o,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[i,t,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,t,u,U,d,m,c,g,w,E,_,A,D,R,V,P,O,N,r,B,x,j,M,x,j,M,q,H,Q,z,Z,G,J,W,{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:1)",args:X,concreteType:"CommentRepliesConnection",plural:!1,selections:[i,t,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[i,t,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,t,d,P,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[i,t,p,C,h,K,I]}]},$]},o]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:X,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},ee,ne]},$]}]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:Y,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},ee,ne]},$,i]}]},{kind:"LinkedHandle",alias:"hiddenComments",name:"genericCommentsConnection",args:s,handle:"connection",key:"AllComments_hiddenComments",filters:["requestType"]}]}]},params:{operationKind:"query",name:"CommentAreaLoadCollapsedQuery",id:"6056ed51e359118e84a6af418b3a6635813f92eb6cfcf1447880c6b6761936d1",text:null,metadata:{}}}}();J.hash="94c8517e832d4e8110f28986d6f6cae1";var W=J,Y=function(){var e=[{kind:"LocalArgument",name:"commentId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null}],n=[{kind:"Variable",name:"commentId",variableName:"commentId"},{kind:"Variable",name:"commentType",variableName:"commentType"}],l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"deletedTime",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"isReply",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},u={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},y={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},k=[a,l,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],f={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:k},v={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:k},F={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerBundleSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"consumerBundleActive",args:null,storageKey:null}]},C={name:"annotate_with_ids",value:"true"},S=[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}],h={kind:"Condition",passingValue:!0,isCustom:!0,customValue:C,condition:"onGate",selections:S},K={kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,u,d,m,c,g,p,y,f,v,{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null},F,h]},b={kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"canSeeDeletedContent",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isAdmin",args:null,storageKey:null},l,a,{kind:"ScalarField",alias:null,name:"isAdminMode",args:null,storageKey:null}]},T={kind:"ScalarField",alias:null,name:"commenterIsTribeModerator",args:null,storageKey:null},L={kind:"ScalarField",alias:null,name:"commenterIsTribeAdmin",args:null,storageKey:null},I={kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,u]},w={kind:"ScalarField",alias:null,name:"creationTime",args:null,storageKey:null},E={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},_={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},A={kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isSensitive",args:null,storageKey:null},l,a,{kind:"ScalarField",alias:null,name:"viewerCanModerate",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null}]},D={kind:"ScalarField",alias:null,name:"authorIsBlockedByTribe",args:null,storageKey:null},R={kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},V={kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},P={kind:"ScalarField",alias:null,name:"replyDraftContent",args:null,storageKey:null},O={kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},N={kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},U={kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null},B={kind:"ScalarField",alias:null,name:"viewerCanDelete",args:null,storageKey:null},x={kind:"ScalarField",alias:null,name:"viewerCanAdminDelete",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"viewerCanBlockCommentAuthor",args:null,storageKey:null},M={kind:"ScalarField",alias:null,name:"viewerCanInviteToContribute",args:null,storageKey:null},q={kind:"ScalarField",alias:null,name:"reportableId",args:null,storageKey:null},H={kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null},Q={kind:"ScalarField",alias:null,name:"viewerInvitedAuthorToTribe",args:null,storageKey:null},z={kind:"LinkedField",alias:null,name:"featuredUpvoters",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[u,l,d,m,c,g,a,p,y,f,v,F,h]},Z=[{kind:"Literal",name:"first",value:2}],G={kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]},J=[{kind:"Literal",name:"first",value:1}],W={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},Y={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerDirectSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"LinkedField",alias:null,name:"authorTribeUser",storageKey:null,args:null,concreteType:"TribeUser",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isDirectSubscriber",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"permission",args:null,storageKey:null},l]}]},X={kind:"Condition",passingValue:!0,isCustom:!0,customValue:C,condition:"onGate",selections:[{kind:"InlineFragment",type:"AnswerComment",selections:S}]};return{kind:"Request",fragment:{kind:"Fragment",name:"CommentAreaAddedQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[{kind:"FragmentSpread",name:"CommentThreadItem_comment",args:null}]}]},operation:{kind:"Operation",name:"CommentAreaAddedQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,i,t,r,s,o,K,b,T,L,I,w,E,_,A,D,R,V,P,O,N,U,O,N,U,B,x,j,M,q,H,Q,z,{kind:"ScalarField",alias:null,name:"numReplies",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:2)",args:Z,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,G,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,r,R,i,t,s,o,K,b,T,L,I,w,E,_,A,D,V,P,O,N,U,O,N,U,B,x,j,M,q,H,Q,z,{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:1)",args:J,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,i,_,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,u,y,f,v,h]}]},W]},G]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:J,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},Y,X]},W]}]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:Z,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},Y,X]}]},params:{operationKind:"query",name:"CommentAreaAddedQuery",id:"121c23f12c7712bd7beeb731105f45a40cbb6fc63acbe0377ddd484c5c461e44",text:null,metadata:{}}}}();Y.hash="940a2d55b9c85f2c81b66c099ead751c";var X=Y,$={kind:"Fragment",name:"CommentArea_container",type:"CommentsContainer",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"first",type:"Int",defaultValue:5},{kind:"LocalArgument",name:"skipCommentList",type:"Boolean",defaultValue:!1}],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numDisplayComments",args:null,storageKey:null},{kind:"ScalarField",alias:"numUncollapsedToplevelComments",name:"numComments",args:[{kind:"Literal",name:"requestType",value:4}],storageKey:"numComments(requestType:4)"},{kind:"ScalarField",alias:"numCommentsCollapsed",name:"numComments",args:[{kind:"Literal",name:"requestType",value:3}],storageKey:"numComments(requestType:3)"},{kind:"ScalarField",alias:null,name:"isCommentsDisabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"canViewerAddComment",args:null,storageKey:null},{kind:"FragmentSpread",name:"CommentAddRoot_container",args:null},{kind:"Condition",isCustom:!1,customValue:null,passingValue:!1,condition:"skipCommentList",selections:[{kind:"FragmentSpread",name:"AllCommentsList_container",args:[{kind:"Variable",name:"first",variableName:"first"}]}]}],hash:"c0c892e91e3169b2cdeee78eb9409296"},ee=$,ne=l("q1tI"),le=l("VyO/"),ae=l("D5Zh"),ie=l("ZFNG"),te=function(){var e=[{kind:"LocalArgument",name:"id",type:"ID!",defaultValue:null}],n=[{kind:"Variable",name:"id",variableName:"id"}],l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i={name:"show_react_live_update_banner",value:"true"},t=[{kind:"Literal",name:"requestType",value:4}];return{kind:"Request",fragment:{kind:"Fragment",name:"AllCommentsListLiveBannerQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,{kind:"Condition",passingValue:!0,isCustom:!0,customValue:i,condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"genericCommentsLiveBannerHash",args:t,storageKey:"genericCommentsLiveBannerHash(requestType:4)",isLive:!0}]}]}]},operation:{kind:"Operation",name:"AllCommentsListLiveBannerQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,{kind:"Condition",passingValue:!0,isCustom:!0,customValue:i,condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"genericCommentsLiveBannerHash",args:t,storageKey:"genericCommentsLiveBannerHash(requestType:4)"}]}]}]},params:{operationKind:"query",name:"AllCommentsListLiveBannerQuery",id:"558a75ff114d8dcbd9bbcf966d867f74419b637fbef8c8ea809ca001f3052a97",text:null,metadata:{}}}}();te.hash="5bd3fd138f3d745fa128cacdea7259c7";var re=te,se=function(){var e=[{kind:"LocalArgument",name:"id",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"after",type:"String",defaultValue:null},{kind:"LocalArgument",name:"refetch",type:"Boolean",defaultValue:null}],n=[{kind:"Variable",name:"id",variableName:"id"}],l={kind:"Variable",name:"after",variableName:"after"},a={kind:"Variable",name:"first",variableName:"first"},i={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},s={kind:"Literal",name:"requestType",value:4},o=[l,a,s],u={kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"deletedTime",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"isReply",args:null,storageKey:null},y={kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},v={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},F={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},C={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},S={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},K=[t,i,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],b={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:K},T={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:K},L={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerBundleSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"consumerBundleActive",args:null,storageKey:null}]},I={name:"annotate_with_ids",value:"true"},w=[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}],E={kind:"Condition",passingValue:!0,isCustom:!0,customValue:I,condition:"onGate",selections:w},_={kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[i,t,k,f,v,F,C,S,h,b,T,{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null},L,E]},A={kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"canSeeDeletedContent",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isAdmin",args:null,storageKey:null},i,t,{kind:"ScalarField",alias:null,name:"isAdminMode",args:null,storageKey:null}]},D={kind:"ScalarField",alias:null,name:"commenterIsTribeModerator",args:null,storageKey:null},R={kind:"ScalarField",alias:null,name:"commenterIsTribeAdmin",args:null,storageKey:null},V={kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[i,t,k]},P={kind:"ScalarField",alias:null,name:"creationTime",args:null,storageKey:null},O={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},N={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},U={kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isSensitive",args:null,storageKey:null},i,t,{kind:"ScalarField",alias:null,name:"viewerCanModerate",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null}]},B={kind:"ScalarField",alias:null,name:"authorIsBlockedByTribe",args:null,storageKey:null},x={kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"replyDraftContent",args:null,storageKey:null},M={kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},q={kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},H={kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null},Q={kind:"ScalarField",alias:null,name:"viewerCanDelete",args:null,storageKey:null},z={kind:"ScalarField",alias:null,name:"viewerCanAdminDelete",args:null,storageKey:null},Z={kind:"ScalarField",alias:null,name:"viewerCanBlockCommentAuthor",args:null,storageKey:null},G={kind:"ScalarField",alias:null,name:"viewerCanInviteToContribute",args:null,storageKey:null},J={kind:"ScalarField",alias:null,name:"reportableId",args:null,storageKey:null},W={kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null},Y={kind:"ScalarField",alias:null,name:"viewerInvitedAuthorToTribe",args:null,storageKey:null},X={kind:"LinkedField",alias:null,name:"featuredUpvoters",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[k,i,f,v,F,C,t,S,h,b,T,L,E]},$=[{kind:"Literal",name:"first",value:2}],ee={kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[d,u]},ne=[{kind:"Literal",name:"first",value:1}],le={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},ae={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerDirectSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"LinkedField",alias:null,name:"authorTribeUser",storageKey:null,args:null,concreteType:"TribeUser",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isDirectSubscriber",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"permission",args:null,storageKey:null},i]}]},ie={kind:"Condition",passingValue:!0,isCustom:!0,customValue:I,condition:"onGate",selections:[{kind:"InlineFragment",type:"AnswerComment",selections:w}]};return{kind:"Request",fragment:{kind:"Fragment",name:"AllCommentsListQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:n,concreteType:null,plural:!1,selections:[{kind:"FragmentSpread",name:"AllCommentsList_container",args:[l,a,{kind:"Variable",name:"refetch",variableName:"refetch"}]}]}]},operation:{kind:"Operation",name:"AllCommentsListQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:n,concreteType:null,plural:!1,selections:[i,t,r,{kind:"LinkedField",alias:"allCommentsConnection",name:"genericCommentsConnection",storageKey:null,args:o,concreteType:"GenericCommentsConnection",plural:!1,selections:[i,t,{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[u,d]},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"NodeEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,t,m,r,c,g,p,y,_,A,D,R,V,P,O,N,U,B,x,j,M,q,H,M,q,H,Q,z,Z,G,J,W,Y,X,{kind:"ScalarField",alias:null,name:"numReplies",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:2)",args:$,concreteType:"CommentRepliesConnection",plural:!1,selections:[i,t,ee,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[i,t,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,t,m,x,c,g,p,y,_,A,D,R,V,P,O,N,U,B,r,j,M,q,H,M,q,H,Q,z,Z,G,J,W,Y,X,{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:1)",args:ne,concreteType:"CommentRepliesConnection",plural:!1,selections:[i,t,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[i,t,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,t,c,N,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[i,t,k,h,b,T,E]}]},le]},ee]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:ne,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},ae,ie]},le]}]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:$,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},ae,ie]},le,i]}]},{kind:"LinkedHandle",alias:"allCommentsConnection",name:"genericCommentsConnection",args:o,handle:"connection",key:"AllCommentsList_allCommentsConnection",filters:["requestType"]},{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"refetch",selections:[{kind:"ScalarField",alias:null,name:"numDisplayComments",args:null,storageKey:null}]},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"show_react_live_update_banner",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"genericCommentsLiveBannerHash",args:[s],storageKey:"genericCommentsLiveBannerHash(requestType:4)"}]}]}]},params:{operationKind:"query",name:"AllCommentsListQuery",id:"c1cd3d6a3ce7dff0c4748b46b1debf4390349dd01c9a09cf414bbef6b7284dc2",text:null,metadata:{}}}}();se.hash="aef301a28c6c7af80410d6e853363972";var oe=se,ue=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},a=[{kind:"Literal",name:"requestType",value:4}];return{kind:"Fragment",name:"AllCommentsList_container",type:"CommentsContainer",metadata:{connection:[{count:"first",cursor:"after",direction:"forward",path:["allCommentsConnection"]}]},argumentDefinitions:[{kind:"LocalArgument",name:"first",type:"Int",defaultValue:5},{kind:"LocalArgument",name:"after",type:"String",defaultValue:null},{kind:"LocalArgument",name:"refetch",type:"Boolean",defaultValue:!1}],selections:[e,n,l,{kind:"LinkedField",alias:"allCommentsConnection",name:"__AllCommentsList_allCommentsConnection_connection",storageKey:"__AllCommentsList_allCommentsConnection_connection(requestType:4)",args:a,concreteType:"GenericCommentsConnection",plural:!1,selections:[e,n,{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"NodeEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,n,{kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},l,{kind:"FragmentSpread",name:"CommentThreadItem_comment",args:null}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]}]},{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"refetch",selections:[{kind:"ScalarField",alias:null,name:"numDisplayComments",args:null,storageKey:null}]},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"show_react_live_update_banner",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"genericCommentsLiveBannerHash",args:a,storageKey:"genericCommentsLiveBannerHash(requestType:4)",isLive:!0}]}]}}();ue.hash="2b42bacbfff94851624150537c3410e7";var de=ue,me=l("RA+f"),ce={kind:"Fragment",name:"CommentThreadItem_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"FragmentSpread",name:"CommentItem_comment",args:null},{kind:"FragmentSpread",name:"CommentRepliesList_comment",args:null}],hash:"34607b68e593b97148235e46d31b47f3"},ge=ce,pe=function(){var e=[{kind:"LocalArgument",name:"commentId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null}],n=[{kind:"Variable",name:"commentId",variableName:"commentId"},{kind:"Variable",name:"commentType",variableName:"commentType"}],l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"deletedTime",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"isReply",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},u={kind:"ScalarField",alias:null,name:"canSeeDeletedContent",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"isAdmin",args:null,storageKey:null},m={name:"annotate_with_ids",value:"true"},c={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},y={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},v={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},F=[a,l,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],C={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:F},S={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:F},h={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerBundleSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"consumerBundleActive",args:null,storageKey:null}]},K=[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}],b={kind:"Condition",passingValue:!0,isCustom:!0,customValue:m,condition:"onGate",selections:K},T={kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},L={kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},I={kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"CommentItemQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,i,t,r,s,o,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,{kind:"FragmentSpread",name:"UserPhoto_user",args:null}]},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[u,d]},{kind:"FragmentSpread",name:"CommentHeader_comment",args:null},{kind:"FragmentSpread",name:"CommentQTextExpandable_comment",args:null},{kind:"FragmentSpread",name:"CommentActionBar_comment",args:null},{kind:"FragmentSpread",name:"CommentEditor_comment",args:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:m,condition:"onGate",selections:[{kind:"InlineFragment",type:"AnswerComment",selections:[{kind:"FragmentSpread",name:"AnswerCommentId_comment",args:null}]}]}]}]},operation:{kind:"Operation",name:"CommentItemQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,i,t,r,s,o,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,c,g,p,y,k,f,v,C,S,{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null},h,b]},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[u,d,l,a,{kind:"ScalarField",alias:null,name:"isAdminMode",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"commenterIsTribeModerator",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commenterIsTribeAdmin",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,c]},{kind:"ScalarField",alias:null,name:"creationTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isSensitive",args:null,storageKey:null},l,a,{kind:"ScalarField",alias:null,name:"viewerCanModerate",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"authorIsBlockedByTribe",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"replyDraftContent",args:null,storageKey:null},T,L,I,T,L,I,{kind:"ScalarField",alias:null,name:"viewerCanDelete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanAdminDelete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanBlockCommentAuthor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanInviteToContribute",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"reportableId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerInvitedAuthorToTribe",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"featuredUpvoters",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[c,l,g,p,y,k,a,f,v,C,S,h,b]},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerDirectSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"LinkedField",alias:null,name:"authorTribeUser",storageKey:null,args:null,concreteType:"TribeUser",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isDirectSubscriber",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"permission",args:null,storageKey:null},l]}]},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:m,condition:"onGate",selections:[{kind:"InlineFragment",type:"AnswerComment",selections:K}]}]}]},params:{operationKind:"query",name:"CommentItemQuery",id:"a308f479e7470d18151d7da810949b2e063dfa8becfdf1a24d346de74fd26830",text:null,metadata:{}}}}();pe.hash="dbfe3f4f9aea4afd06d193c8617ddb86";var ye=pe,ke=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"CommentItem_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"deletedTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isReply",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[e,n,{kind:"FragmentSpread",name:"UserPhoto_user",args:null}]},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"canSeeDeletedContent",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isAdmin",args:null,storageKey:null}]},{kind:"FragmentSpread",name:"CommentHeader_comment",args:null},{kind:"FragmentSpread",name:"CommentQTextExpandable_comment",args:null},{kind:"FragmentSpread",name:"CommentActionBar_comment",args:null},{kind:"FragmentSpread",name:"CommentEditor_comment",args:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"annotate_with_ids",value:"true"},condition:"onGate",selections:[{kind:"InlineFragment",type:"AnswerComment",selections:[{kind:"FragmentSpread",name:"AnswerCommentId_comment",args:null}]}]}]}}();ke.hash="a2cce43489becd29664ae2cb9d9e8725";var fe,ve=ke,Fe=l("5KiF"),Ce=l("AaDK"),Se=l("LW3J"),he=l("jufJ"),Ke=l("cbxS"),be=l("Yc5t"),Te=l("r+vq"),Le=l("VwdU"),Ie=l("1cij"),we={kind:"Fragment",name:"AnswerCommentId_comment",type:"AnswerComment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}],hash:"5d8c47612df8583773bffdb6959a6b6d"},Ee=we,_e=l("rCfO"),Ae=l("b0KT"),De=function(e){z()(l,e);var n=G()(l);function l(){return M()(this,l),n.apply(this,arguments)}return H()(l,[{key:"render",value:function(){var e=this.props.comment,n=e.commentId,l=e.debugInfo,a=JSON.parse(l);if(this.context){var i="".concat(_e.a.answer_comment," ").concat(n);return i="".concat(i," | scores: ").concat(a.answerCommentScoreInfo),ne.createElement(Ae.b,null,ne.createElement(me.r,{regular:!0,fontSize:"small"},ne.createElement(me.m,{alignItems:"center"},ne.createElement(he.e,null,i))))}return null}}]),l}(ne.Component);De.contextType=Ie.b,De.fragments={comment:void 0!==fe?fe:fe=c},De.displayName="AnswerCommentId";var Re=Object(le.b)(De),Ve=l("KAdM"),Pe=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null};return{kind:"Fragment",name:"CommentHeader_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:null,name:"commenterIsTribeModerator",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commenterIsTribeAdmin",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isReply",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[e,n,l,{kind:"FragmentSpread",name:"UserPhoto_user",args:null},{kind:"FragmentSpread",name:"UserLink_user",args:null}]},{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[e,n,l]},{kind:"FragmentSpread",name:"CommentTimestamp_comment",args:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerDirectSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"LinkedField",alias:null,name:"authorTribeUser",storageKey:null,args:null,concreteType:"TribeUser",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isDirectSubscriber",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"permission",args:null,storageKey:null}]}]}]}}();Pe.hash="e9bdcf3462eb3517e0d30d1cd35604a0";var Oe,Ne=Pe,Ue=l("sC65"),Be=l("F0ZP"),xe=l("zv2T"),je={kind:"Fragment",name:"CommentTimestamp_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"creationTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null}],hash:"a21fe387fff7890b2b95037238da8fc6"},Me=je,qe=function(e){z()(l,e);var n=G()(l);function l(){return M()(this,l),n.apply(this,arguments)}return H()(l,[{key:"render",value:function(){var e=this.props.comment,n=e.creationTime,l=e.url;return ne.createElement(me.o,{href:null!==l&&void 0!==l?l:undefined},ne.createElement(he.i,{utime:n}))}}]),l}(ne.Component);qe.fragments={comment:void 0!==Oe?Oe:Oe=p},qe.displayName="CommentTimestamp";var He,Qe=Object(le.b)(qe),ze=function(e){z()(l,e);var n=G()(l);function l(){return M()(this,l),n.apply(this,arguments)}return H()(l,[{key:"render",value:function(){var e,n,l=this.props.comment,a=l.commenterIsTribeModerator,i=l.commenterIsTribeAdmin,t=l.isReply,r=l.user,s=l.owner,o=l.user;return ne.createElement(Be.a,{photo:t?ne.createElement(Te.a,{user:o,size:18,shouldShowBadge:!0}):undefined,name:ne.createElement(Ue.a,{user:o,isTribePremiumMember:Object(xe.b)()&&(null===(e=l.authorTribeUser)||void 0===e?void 0:e.isDirectSubscriber)}),isTribeAdmin:null!==i&&void 0!==i?i:undefined,isTribeModerator:null!==a&&void 0!==a?a:undefined,isOriginalAuthor:null!==(n=s.uid===r.uid)&&void 0!==n?n:undefined,timestamp:ne.createElement(Qe,{comment:l}),compact:null!==t&&void 0!==t?t:undefined})}}]),l}(ne.Component);ze.fragments={comment:void 0!==He?He:He=g},ze.displayName="CommentHeader";var Ze,Ge=Object(le.b)(ze),Je=l("vOnD"),We={kind:"Fragment",name:"CommentEditor_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"FragmentSpread",name:"CommentEditMutation_comment",args:null}],hash:"70d45ae3b50e42b418a628af5353e751"},Ye=We,Xe=l("/bbo"),$e=l("zLpq"),en=l("EreF"),nn=l("9Tc6"),ln=Object(Je["default"])(me.r).withConfig({displayName:"CommentEditor___StyledText",componentId:"sc-1hr4eh4-0"})([".doc{line-height:22px;min-height:0;margin:0;padding:0;}"]),an=function(e){z()(l,e);var n=G()(l);function l(e){var a;return M()(this,l),(a=n.call(this,e)).editorRef=void 0,a.state={buttonIsDisabled:!1},a.editorRef=ne.createRef(),a}return H()(l,[{key:"render",value:function(){var e=this,n=this.props.comment,l=(n||{}).content,a="string"===typeof l?JSON.parse(l):l;return ne.createElement(ne.Fragment,null,ne.createElement(ln,{bg:"white",borderAll:!0,borderRadius:"20px",py:"small",px:"medium"},ne.createElement(en.a,{ref:this.editorRef,placeholder:Object(he.Z)("Add a comment..."),toolbarOnWeb:!1,content:a,commandsToDisable:["horizontal-rule","video"],editorPaddingReset:!0,onMeaningfulChange:function(n){n&&(n.isEmpty()&&!e.state.buttonIsDisabled?e.setState({buttonIsDisabled:!0}):!n.isEmpty()&&e.state.buttonIsDisabled&&e.setState({buttonIsDisabled:!1}))}})),ne.createElement(me.i,{justifyContent:"flex-end",my:"small"},ne.createElement($e.a,{text:Object(he.Z)("Cancel"),variant:"gray",size:"small",onClick:this.props.onCancel}),ne.createElement(nn.a,{comment:n},(function(n){return ne.createElement(Xe.a,{disabled:e.state.buttonIsDisabled,text:Object(he.Z)("Update"),size:"small",onClick:function(){var l=JSON.stringify(e.editorRef.current.save());n(l),e.props.onSubmit()}})}))))}}]),l}(ne.Component);an.fragments={comment:void 0!==Ze?Ze:Ze=y},an.displayName="CommentEditor";var tn=Object(le.b)(an),rn=l("ptJ+"),sn=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"CommentActionBar_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[e,n,{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"authorIsBlockedByTribe",args:null,storageKey:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:null,condition:"onLoggedOut",selections:[{kind:"FragmentSpread",name:"TribeLoggedOutCommentActionBar_comment",args:null}]},{kind:"FragmentSpread",name:"CommentReplyButton_comment",args:null},{kind:"FragmentSpread",name:"CommentUpvoteButton_comment",args:null},{kind:"FragmentSpread",name:"CommentDownvoteButton_comment",args:null},{kind:"FragmentSpread",name:"CommentOverflowMenu_comment",args:null},{kind:"FragmentSpread",name:"CommentUpvoteBadgePile_comment",args:null}]}}();sn.hash="0f3e3aa53677870a18b2242dffa9bf29";var on=sn,un=l("FuLD"),dn=l("wt7Y"),mn=l("ovGs"),cn={kind:"Fragment",name:"TribeLoggedOutCommentActionBar_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null}],hash:"f8674650c7daa7950192a1755a117465"},gn=cn,pn=l("rhDr"),yn=l.n(pn),kn=l("OMLc"),fn=function(e){var n=e.count,l=e.pressed,a=e.onClick,i=e.showText,t=void 0===i||i,r=e.size,s=void 0===r?"regular":r,o=yn()(e,["count","pressed","onClick","showText","size"]);return ne.createElement($e.a,Object.assign({icon:ne.createElement(kn.a,{name:"Reply"}),text:t?Object(he.Z)("Reply"):undefined,count:n,pressed:l,variant:"gray",onClick:a,size:s},o))};fn.displayName="ReplyButton";var vn,Fn=fn,Cn=l("5IZ5"),Sn=l("wGqc"),hn=function(e){z()(l,e);var n=G()(l);function l(){return M()(this,l),n.apply(this,arguments)}return H()(l,[{key:"render",value:function(){var e=this.props.comment.numUpvotes,n=[];n.push(ne.createElement($e.a,{icon:ne.createElement(kn.a,{name:"Downvote"}),tooltipText:Object(he.Z)("Downvote"),variant:"gray",pressed:!1,onClick:function(){return Object(Sn.k)()},size:"small"}));var l=[];return l.push(ne.createElement(Fn,{onClick:function(){return Object(Sn.k)()}}),ne.createElement(Cn.a,{count:e,pressed:!1,onClick:function(){return Object(Sn.k)()},prominent:!1})),ne.createElement(dn.d,{primaryActions:l,secondaryActions:n})}}]),l}(ne.Component);hn.fragments={comment:void 0!==vn?vn:vn=f},hn.displayName="TribeLoggedOutCommentActionBar";var Kn=Object(le.b)(hn),bn=l("EFAP"),Tn=l("RqIh"),Ln=function(){var e=[{kind:"LocalArgument",name:"commentId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"commentUpvoteAdd",storageKey:null,args:[{kind:"Variable",name:"commentId",variableName:"commentId"},{kind:"Variable",name:"commentType",variableName:"commentType"}],concreteType:"CommentUpvoteAdd",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"CommentUpvoteButton_commentUpvoteAdd_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"CommentUpvoteButton_commentUpvoteAdd_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"CommentUpvoteButton_commentUpvoteAdd_Mutation",id:"1e966524997549f3f4c3edaad3dae6c54dd245291a819e5211e9da0f36ec4ff0",text:null,metadata:{}}}}();Ln.hash="71dfac2bff5fc6c8c929f99b652e4734";var In=Ln,wn=function(){var e=[{kind:"LocalArgument",name:"commentId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"commentUpvoteRemove",storageKey:null,args:[{kind:"Variable",name:"commentId",variableName:"commentId"},{kind:"Variable",name:"commentType",variableName:"commentType"}],concreteType:"CommentUpvoteRemove",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"CommentUpvoteButton_commentUpvoteRemove_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"CommentUpvoteButton_commentUpvoteRemove_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"CommentUpvoteButton_commentUpvoteRemove_Mutation",id:"b1966bf5925eafa26c9a9382165a058f992b977214f298ffb91d6059d53a77f7",text:null,metadata:{}}}}();wn.hash="c400797ebcfddf5545356d09a0ca2f8a";var En=wn,_n=function(){var e=[{kind:"LocalArgument",name:"commentId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null}],n=[{kind:"Variable",name:"commentId",variableName:"commentId"},{kind:"Variable",name:"commentType",variableName:"commentType"}],l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"CommentUpvoteButtonReloadableQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,{kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null,isLive:!0},{kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null,isLive:!0},{kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null,isLive:!0}]}]},operation:{kind:"Operation",name:"CommentUpvoteButtonReloadableQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,{kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null}]}]},params:{operationKind:"query",name:"CommentUpvoteButtonReloadableQuery",id:"cb3e5249c853c594155a8ec989742f9db0713d4edf5b31df941e639217f7e6d7",text:null,metadata:{}}}}();_n.hash="1212f3f1ed2fa505cd2c7261f511a787";var An,Dn,Rn,Vn,Pn=_n,On={kind:"Fragment",name:"CommentUpvoteButton_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null,isLive:!0},{kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null,isLive:!0},{kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null,isLive:!0}],hash:"b21aa2f826ac72d9d502ac6f180b5b70"},Nn=On,Un=l("Pp7N"),Bn=l("nwxp"),xn=l("hXLn"),jn=function(e){z()(l,e);var n=G()(l);function l(){return M()(this,l),n.apply(this,arguments)}return H()(l,[{key:"render",value:function(){var e=this.props,n=e.comment,a=yn()(e,["comment"]),i=n.id,t=n.__typename,r=n.commentId,s=n.commentType,o=n.numUpvotes,u=n.viewerHasUpvoted,d=n.viewerIsAuthor,m=u?l.mutations.upvoteRemove:l.mutations.upvoteAdd,c={id:i,__typename:t,viewerHasUpvoted:!u,viewerHasDownvoted:!1,numUpvotes:u?o-1:o+1},g=u?{commentUpvoteRemove:{comment:c}}:{commentUpvoteAdd:{comment:c}};return ne.createElement(xn.a,{fragmentOrQuery:l.queries.comment,initialData:{comment:n},variables:{commentId:r,commentType:s}},ne.createElement(le.a,{mutation:m,optimisticResponse:g,variables:{commentId:r,commentType:s}},(function(e){return ne.createElement(Cn.a,Object.assign({count:o,pressed:u&&!d,onClick:function(){e(),!u&&Object(Bn.g)()&&Un.b.dispatch({type:Un.a.COMMENT_UPVOTED,payload:{commentId:r}})},prominent:!1,size:"small",disabled:d},a))})))}}]),l}(ne.Component);jn.fragments={comment:void 0!==An?An:An=S},jn.defaultProps={showText:!0},jn.queries={comment:void 0!==Dn?Dn:Dn=C},jn.mutations={upvoteRemove:void 0!==Rn?Rn:Rn=F,upvoteAdd:void 0!==Vn?Vn:Vn=v},jn.displayName="CommentUpvoteButton";var Mn=Object(le.b)(jn),qn=l("fXiK"),Hn=function(){var e=[{kind:"LocalArgument",name:"replyCommentId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null}],n=[{kind:"Variable",name:"commentId",variableName:"replyCommentId"},{kind:"Variable",name:"commentType",variableName:"commentType"}];return{kind:"Request",fragment:{kind:"Fragment",name:"CommentReplyButtonQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[{kind:"FragmentSpread",name:"CommentReplyButton_comment",args:null}]}]},operation:{kind:"Operation",name:"CommentReplyButtonQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"replyDraftContent",args:null,storageKey:null}]}]},params:{operationKind:"query",name:"CommentReplyButtonQuery",id:"6a78cf95d4fb9137e65fcd4c2ece856155717f57817f7d6197d2b800a20159ea",text:null,metadata:{}}}}();Hn.hash="2d6234f1b0b8f5568ff7281ca6a7e473";var Qn,zn,Zn=Hn,Gn={kind:"Fragment",name:"CommentReplyButton_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"replyDraftContent",args:null,storageKey:null}],hash:"defbfcdb2583e35e34ce9fad3495325a"},Jn=Gn,Wn=l("UyMh"),Yn=l("AFGi"),Xn=l("PRXj"),$n=l("uRky"),el=l("8ojC"),nl=function(e){z()(l,e);var n=G()(l);function l(e){var a;return M()(this,l),(a=n.call(this,e)).editorRef=void 0,a.editorRef=ne.createRef(),a.state={canSubmit:!1,isSubmitting:!1},a}return H()(l,[{key:"renderMobile",value:function(){var e=this.props,n=e.onReplyAdded,l=e.comment,a=e.showText,i=e.relay,t=yn()(e,["onReplyAdded","comment","showText","relay"]),r=l.commentId,s=l.commentType,o=l.containerId,u=l.replyDraftContent;return ne.createElement(el.a,{commentType:s,containerId:o,replyCommentId:r,commentDraftContent:u,postDismissCallback:function(){setTimeout((function(){i.refetch({replyCommentId:r,commentType:s})}),200)},onCommentAdded:function(e){var l=e.commentId,a=e.url;n?n({commentId:l}):a&&Object(Wn.b)(a)}},(function(e){return ne.createElement(Fn,Object.assign({size:"small",onClick:e,showText:a},t))}))}},{key:"renderDesktop",value:function(){var e=this;return ne.createElement(Fn,{size:"small",showText:this.props.showText,onClick:function(){e.props.toggleEditor(!0)}})}},{key:"renderDesktopEditing",value:function(){var e=this,n=this.props,l=n.onReplyAdded,a=n.comment,i=a.commentId,t=a.commentType,r=a.containerId;return ne.createElement(me.i,{mt:"small",mb:"medium",alignItems:"flex-end"},ne.createElement(Xn.a,{onBlur:function(){setTimeout((function(){e.state.canSubmit||e.props.toggleEditor(!1)}),10)}},ne.createElement(en.a,{ref:this.editorRef,placeholder:Object(he.Z)("Add a reply..."),toolbarOnWeb:!1,content:Object(Yn.h)(),commandsToDisable:["horizontal-rule","video"],onMeaningfulChange:function(n){e.setState({canSubmit:!n.isEmpty()||n.linkSelector.isActive()})},editorPaddingReset:!0})),ne.createElement(me.d,null,ne.createElement(me.i,{alignItems:"center",justifyContent:"flex-end",mb:"tiny"},ne.createElement($n.a,{objectId:r,commentType:t,replyToId:i},(function(n){return ne.createElement(me.d,{ml:"tiny"},ne.createElement(Xe.a,{size:"small",text:Object(he.Z)(ne.createElement(he.J,{context:he.V.verb},"Reply")),disabled:!e.state.canSubmit||e.state.isSubmitting,onClick:function(){e.state.canSubmit&&e.editorRef.current&&!e.state.isSubmitting&&e.setState({isSubmitting:!0},(function(){var a=e.editorRef.current.save();n(a).then((function(n){var a=n.data.commentAdd,i=a.success,t=a.comment;e.setState({isSubmitting:!1},(function(){if(i&&t){var n=t.commentId,a=t.url;e.editorRef.current.clear(),e.props.toggleEditor(!1),l?l({commentId:n}):Object(Wn.b)(a)}}))}))}))}}))})))))}},{key:"render",value:function(){return Object(Bn.e)()?this.renderMobile():this.props.editing?this.renderDesktopEditing():this.renderDesktop()}}]),l}(ne.Component);nl.fragments={comment:void 0!==Qn?Qn:Qn=K},nl.queries={refetchQuery:void 0!==zn?zn:zn=h},nl.defaultProps={showText:!0},nl.displayName="CommentReplyButton";var ll,al=Object(le.f)(nl),il={kind:"Fragment",name:"CommentUpvoteBadgePile_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"featuredUpvoters",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},{kind:"FragmentSpread",name:"UserPhoto_user",args:null}]}],hash:"2c95e3e29d7ee220e9d5498bdead7d7d"},tl=il,rl=l("JWOy"),sl=l("PNyD"),ol=function(e){z()(l,e);var n=G()(l);function l(){return M()(this,l),n.apply(this,arguments)}return H()(l,[{key:"render",value:function(){var e=this.props.comment,n=e.id,l=e.featuredUpvoters;return 0===l.length?null:ne.createElement(sl.a,{nodeId:n},(function(e){return ne.createElement(me.e,{onClick:function(){return e()},display:"flex",minWidth:30,minHeight:30,alignItems:"center",justifyContent:"center"},ne.createElement(rl.a,{maxCount:3,tooltipText:Object(he.Z)("Upvotes")},l.map((function(e){return ne.createElement(Te.a,{key:e.uid,user:e,linked:!1})}))))}))}}]),l}(ne.Component);ol.fragments={comment:void 0!==ll?ll:ll=b},ol.displayName="CommentUpvoteBadgePile";var ul,dl=Object(le.b)(ol),ml=function(e){z()(l,e);var n=G()(l);function l(e){var a;return M()(this,l),(a=n.call(this,e)).state={showReplyEditor:!1},a}return H()(l,[{key:"getPrimaryActions",value:function(){var e=this,n=this.props,l=n.comment,a=n.onReplyAdded,i=n.isCommentsDisabled,t=l.user,r=l.authorIsBlockedByTribe,s=t.isBlocking,o=!(r||s),u=[];return u.push(ne.createElement(dn.b,{size:"small",priority:1,render:function(e){return ne.createElement(Mn,{comment:l,showText:!e.wantsTruncation})}})),o&&!i&&u.push(ne.createElement(dn.b,{size:"small",priority:1,render:function(n){return ne.createElement(al,{showText:!n.wantsTruncation,comment:l,editing:!1,onReplyAdded:a,toggleEditor:function(n){return e.setState({showReplyEditor:n})}})}})),u}},{key:"getSecondaryActions",value:function(){var e=this.props,n=e.comment,l=e.toggleEditor,a=e.onCommentEditSuccess,i=n.viewerIsAuthor,t=[];return t.push(ne.createElement(dl,{comment:n})),!i&&t.push(ne.createElement(qn.a,{comment:n})),t.push(ne.createElement(mn.c,{comment:n,toggleEditor:l,onCommentEditSuccess:a})),t}},{key:"renderActionBar",value:function(){return ne.createElement(dn.d,{size:"small",responsive:!0,primaryActions:this.getPrimaryActions(),secondaryActions:this.getSecondaryActions()})}},{key:"render",value:function(){var e=this;if(Object(un.b)())return ne.createElement(bn.e.Consumer,null,(function(n){return(n===Tn.a.tribe_item||n===Tn.a.tribe)&&ne.createElement(Kn,{comment:e.props.comment})}));var n=this.props,l=n.comment,a=n.onReplyAdded,i=l.user,t=l.authorIsBlockedByTribe,r=i.isBlocking,s=!(t||r);return ne.createElement(ne.Fragment,null,this.state.showReplyEditor?ne.createElement(ne.Fragment,null,s&&ne.createElement(al,{comment:l,editing:!0,onReplyAdded:a,toggleEditor:function(n){return e.setState({showReplyEditor:n})}})):this.renderActionBar())}}]),l}(ne.Component);ml.fragments={comment:void 0!==ul?ul:ul=k},ml.displayName="CommentActionBar";var cl,gl,pl=Object(le.b)(ml),yl=function(e){z()(l,e);var n=G()(l);function l(e){var a;return M()(this,l),(a=n.call(this,e)).commentDeletedMessage=function(e){return ne.createElement(Se.a,null,ne.createElement(he.J,null,"This comment has been deleted"),0!==e?ne.createElement(he.i,{utime:e}):null)},a.state={isEditing:!1},a}return H()(l,[{key:"render",value:function(){var e=this,n=this.props,a=n.comment,i=n.onReplyAdded,t=n.showHighlight,r=n.isCommentsDisabled,s=a.isDeleted&&!a.viewerIsAuthor&&!a.viewer.canSeeDeletedContent,o=!a.isDeleted||a.viewer.isAdmin;return s?ne.createElement(Ke.a,{my:"small",variant:"muted",dismissable:!1},ne.createElement(me.r,{fontSize:"small"},this.commentDeletedMessage(a.deletedTime))):ne.createElement(ae.a,{query:l.queries.rerenderComment,variables:{commentId:a.commentId,commentType:a.__typename}},(function(n){var l=n.loading,a=n.error,s=n.data,u=n.refetch;if(l||a||null===s.comment)return null;var d=s.comment;return ne.createElement(ie.a,{showHighlight:t,isTopLevel:!d.isReply},ne.createElement(be.b,{onImpression:function(){Object(Ce.a)("comment_impression",{comment_id:d.commentId,comment_type:d.__typename})}},d.isDeleted&&ne.createElement(Ve.a,null),ne.createElement(Le.a,{condition:!d.isReply,wrapper:function(e){return ne.createElement(me.i,{alignItems:"start"},ne.createElement(Te.a,{user:d.user,size:ie.k,shouldShowBadge:!0}),ne.createElement(me.d,{ml:"small",flex:"auto",minWidth:0},e))}},ne.createElement(me.d,{mb:"tiny"},ne.createElement(Ge,{comment:d})),Object(Ie.d)()&&Object(Fe.b)(d,"AnswerComment")&&ne.createElement(Re,{comment:d}),e.state.isEditing?ne.createElement(tn,{comment:d,onSubmit:function(){e.setState({isEditing:!1})},onCancel:function(){e.setState({isEditing:!1})}}):ne.createElement(ne.Fragment,null,ne.createElement(rn.a,{comment:d}),d.isDeleted?ne.createElement(me.r,{fontSize:"small",color:"red_error"},e.commentDeletedMessage(d.deletedTime)):null,o&&ne.createElement(pl,{comment:d,onReplyAdded:i,onCommentEditSuccess:function(){u()},toggleEditor:function(){return e.setState({isEditing:!0})},isCommentsDisabled:r})))))}))}}]),l}(ne.Component);yl.fragments={comment:void 0!==cl?cl:cl=m},yl.queries={rerenderComment:void 0!==gl?gl:gl=d},yl.displayName="CommentItem";var kl=Object(le.b)(yl),fl=function(){var e=[{kind:"LocalArgument",name:"commentId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"after",type:"String",defaultValue:null}],n=[{kind:"Variable",name:"commentId",variableName:"commentId"},{kind:"Variable",name:"commentType",variableName:"commentType"}],l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"numReplies",args:null,storageKey:null},s={kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]},o={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},u=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"first",variableName:"first"}],d={kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},y={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},v=[a,l,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],F={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:v},C={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:v},S={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerBundleSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"consumerBundleActive",args:null,storageKey:null}]},h={name:"annotate_with_ids",value:"true"},K=[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}],b={kind:"Condition",passingValue:!0,isCustom:!0,customValue:h,condition:"onGate",selections:K},T={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},L={kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},I={kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},w={kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null},E=[{kind:"Literal",name:"first",value:1}];return{kind:"Request",fragment:{kind:"Fragment",name:"CommentRepliesListQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,i,t,r,{kind:"LinkedField",alias:"repliesConnection",name:"__CommentRepliesList_repliesConnection_connection",storageKey:null,args:null,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,s,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,i,t,{kind:"FragmentSpread",name:"CommentReplyListItem_comment",args:null}]},o]}]}]}]},operation:{kind:"Operation",name:"CommentRepliesListQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,i,t,r,{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:null,args:u,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,s,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,i,t,d,{kind:"ScalarField",alias:null,name:"deletedTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isReply",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,m,c,g,p,y,k,f,F,C,{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null},S,b]},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"canSeeDeletedContent",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isAdmin",args:null,storageKey:null},l,a,{kind:"ScalarField",alias:null,name:"isAdminMode",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"commenterIsTribeModerator",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commenterIsTribeAdmin",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,m]},{kind:"ScalarField",alias:null,name:"creationTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},T,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isSensitive",args:null,storageKey:null},l,a,{kind:"ScalarField",alias:null,name:"viewerCanModerate",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"authorIsBlockedByTribe",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"replyDraftContent",args:null,storageKey:null},L,I,w,L,I,w,{kind:"ScalarField",alias:null,name:"viewerCanDelete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanAdminDelete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanBlockCommentAuthor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanInviteToContribute",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"reportableId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerInvitedAuthorToTribe",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"featuredUpvoters",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[m,l,c,g,p,y,a,k,f,F,C,S,b]},{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:1)",args:E,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,d,T,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,m,f,F,C,b]}]},o]},s]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:E,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerDirectSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"LinkedField",alias:null,name:"authorTribeUser",storageKey:null,args:null,concreteType:"TribeUser",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isDirectSubscriber",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"permission",args:null,storageKey:null},l]}]},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:h,condition:"onGate",selections:[{kind:"InlineFragment",type:"AnswerComment",selections:K}]}]},o]}]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:u,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null}]}]},params:{operationKind:"query",name:"CommentRepliesListQuery",id:"9bc86b993d6406670dc91fd7b8e7a7a961db54a60e01fa50466ae313267bacb3",text:null,metadata:{connection:[{count:"first",cursor:"after",direction:"forward",path:["comment","repliesConnection"]}]}}}}();fl.hash="a84b8702d783c8702d8aee7ea4cb61fc";var vl=fl,Fl=function(){var e=[{kind:"LocalArgument",name:"commentId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null}],n=[{kind:"Variable",name:"commentId",variableName:"commentId"},{kind:"Variable",name:"commentType",variableName:"commentType"}],l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},u={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},p=[a,l,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],y={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:p},k={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:p},f={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerBundleSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"consumerBundleActive",args:null,storageKey:null}]},v={name:"annotate_with_ids",value:"true"},F=[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}],C={kind:"Condition",passingValue:!0,isCustom:!0,customValue:v,condition:"onGate",selections:F},S={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},K={kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null},T=[{kind:"Literal",name:"first",value:1}];return{kind:"Request",fragment:{kind:"Fragment",name:"CommentRepliesListAddedQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,i,t,{kind:"FragmentSpread",name:"CommentReplyListItem_comment",args:null}]}]},operation:{kind:"Operation",name:"CommentRepliesListAddedQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,i,t,r,{kind:"ScalarField",alias:null,name:"deletedTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isReply",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,s,o,u,d,m,c,g,y,k,{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null},f,C]},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"canSeeDeletedContent",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isAdmin",args:null,storageKey:null},l,a,{kind:"ScalarField",alias:null,name:"isAdminMode",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"commenterIsTribeModerator",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commenterIsTribeAdmin",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,s]},{kind:"ScalarField",alias:null,name:"creationTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},S,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isSensitive",args:null,storageKey:null},l,a,{kind:"ScalarField",alias:null,name:"viewerCanModerate",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"authorIsBlockedByTribe",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"replyDraftContent",args:null,storageKey:null},h,K,b,h,K,b,{kind:"ScalarField",alias:null,name:"viewerCanDelete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanAdminDelete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanBlockCommentAuthor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanInviteToContribute",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"reportableId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerInvitedAuthorToTribe",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"featuredUpvoters",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[s,l,o,u,d,m,a,c,g,y,k,f,C]},{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:1)",args:T,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,r,S,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,s,g,y,k,C]}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]}]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:T,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerDirectSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"LinkedField",alias:null,name:"authorTribeUser",storageKey:null,args:null,concreteType:"TribeUser",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isDirectSubscriber",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"permission",args:null,storageKey:null},l]}]},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:v,condition:"onGate",selections:[{kind:"InlineFragment",type:"AnswerComment",selections:F}]}]}]},params:{operationKind:"query",name:"CommentRepliesListAddedQuery",id:"f939d2ddbacd043eb0ef83909480006edc58ccee2fe2876d3000d0fab146adef",text:null,metadata:{}}}}();Fl.hash="71bb4ba4535554c522f1700d73cc5513";var Cl=Fl,Sl=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null};return{kind:"Fragment",name:"CommentRepliesList_comment",type:"Comment",metadata:{connection:[{count:null,cursor:null,direction:"forward",path:["repliesConnection"]}]},argumentDefinitions:[],selections:[e,n,l,a,{kind:"ScalarField",alias:null,name:"numReplies",args:null,storageKey:null},{kind:"LinkedField",alias:"repliesConnection",name:"__CommentRepliesList_repliesConnection_connection",storageKey:null,args:null,concreteType:"CommentRepliesConnection",plural:!1,selections:[e,n,{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[e,n,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,n,l,a,{kind:"FragmentSpread",name:"CommentReplyListItem_comment",args:null}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]}]}]}}();Sl.hash="e61077f3bd6898c10484048a10e66a48";var hl=Sl,Kl=l("m+xM"),bl=l("td6z"),Tl={kind:"Fragment",name:"CommentReplyListItem_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},{kind:"FragmentSpread",name:"CommentItem_comment",args:null},{kind:"FragmentSpread",name:"CommentReplySwitcher_comment",args:null}],hash:"15e240b614ba68aaec550f7a0e4978ac"},Ll=Tl,Il=l("Gnru"),wl=function(){var e=[{kind:"LocalArgument",name:"commentId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null}],n=[{kind:"Variable",name:"commentId",variableName:"commentId"},{kind:"Variable",name:"commentType",variableName:"commentType"}],l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},r=[{kind:"Literal",name:"first",value:2}],s={kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]},o={kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},u={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},y={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},k=[a,l,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],f={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:k},v={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:k},F={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerBundleSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"consumerBundleActive",args:null,storageKey:null}]},C={name:"annotate_with_ids",value:"true"},S=[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}],h={kind:"Condition",passingValue:!0,isCustom:!0,customValue:C,condition:"onGate",selections:S},K={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},T={kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},L={kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null},I=[{kind:"Literal",name:"first",value:1}],w={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"CommentReplySwitcherQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,{kind:"FragmentSpread",name:"CommentRepliesList_comment",args:null}]}]},operation:{kind:"Operation",name:"CommentReplySwitcherQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,i,t,{kind:"ScalarField",alias:null,name:"numReplies",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:2)",args:r,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,s,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,i,t,o,{kind:"ScalarField",alias:null,name:"deletedTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isReply",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,u,d,m,c,g,p,y,f,v,{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null},F,h]},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"canSeeDeletedContent",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isAdmin",args:null,storageKey:null},l,a,{kind:"ScalarField",alias:null,name:"isAdminMode",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"commenterIsTribeModerator",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commenterIsTribeAdmin",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,u]},{kind:"ScalarField",alias:null,name:"creationTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},K,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isSensitive",args:null,storageKey:null},l,a,{kind:"ScalarField",alias:null,name:"viewerCanModerate",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"authorIsBlockedByTribe",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"replyDraftContent",args:null,storageKey:null},b,T,L,b,T,L,{kind:"ScalarField",alias:null,name:"viewerCanDelete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanAdminDelete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanBlockCommentAuthor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanInviteToContribute",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"reportableId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerInvitedAuthorToTribe",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"featuredUpvoters",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[u,l,d,m,c,g,a,p,y,f,v,F,h]},{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:1)",args:I,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,o,K,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,u,y,f,v,h]}]},w]},s]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:I,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerDirectSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"LinkedField",alias:null,name:"authorTribeUser",storageKey:null,args:null,concreteType:"TribeUser",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isDirectSubscriber",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"permission",args:null,storageKey:null},l]}]},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:C,condition:"onGate",selections:[{kind:"InlineFragment",type:"AnswerComment",selections:S}]}]},w]}]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:r,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null}]}]},params:{operationKind:"query",name:"CommentReplySwitcherQuery",id:"4d744aa84189514bfa31a17f56f4c1569e72371130725a8b6703d8d22af4560e",text:null,metadata:{}}}}();wl.hash="492790fdcc31b9f2d261f1fdd7c7824c";var El=wl,_l=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"CommentReplySwitcher_comment",type:"Comment",metadata:{connection:[{count:null,cursor:null,direction:"forward",path:["repliesConnection"]}]},argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},{kind:"LinkedField",alias:"repliesConnection",name:"__CommentRepliesList_repliesConnection_connection",storageKey:null,args:null,concreteType:"CommentRepliesConnection",plural:!1,selections:[e,n,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[e,n,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,n,{kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},{kind:"FragmentSpread",name:"CommentReplyPreview_comment",args:null}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]}]}]}}();_l.hash="cd704166161c939c8ef81e6706c48143";var Al=_l,Dl=l("HZII"),Rl=l.n(Dl),Vl=l("8lmh"),Pl=l("VrYk"),Ol=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"CommentReplyPreview_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[e,n,{kind:"FragmentSpread",name:"UserName_user",args:null}]}]}}();Ol.hash="69117fba8b5b10fe141ac1cd7362ca91";var Nl,Ul=Ol,Bl=l("R+um"),xl=l("gP7D"),jl=l("QLaP"),Ml=l.n(jl),ql=function(e){z()(l,e);var n=G()(l);function l(){return M()(this,l),n.apply(this,arguments)}return H()(l,[{key:"render",value:function(){var e=this.props.comment,n=e.user,l=e.content;Ml()(null!==l,"missing content for comment");var a=JSON.parse(l);return ne.createElement(ie.e,null,ne.createElement(me.r,{bold:!0,as:"span",pr:"tiny"},ne.createElement(Bl.b,{user:n})),ne.createElement(xl.a,{qt:a,options:{lists:!1}}))}}]),l}(ne.Component);ql.fragments={comment:void 0!==Nl?Nl:Nl=A},ql.displayName="CommentReplyPreview";var Hl,Ql,zl=Object(le.b)(ql),Zl=function(e){var n=e.commentId,l=e.commentType,a=e.isCommentsDisabled,i=e.repliesAdded,t=void 0===i?[]:i;return ne.createElement(ae.a,{query:Gl.getQuery(),variables:{commentId:n,commentType:l}},(function(e){var n=e.loading,l=e.error,i=e.data,r=e.refetch;return n||l||null===(null===i||void 0===i?void 0:i.comment)?l?(console.error(l),Object(Vl.isConnectionError)(l)?Object(Pl.a)(r):Object(Pl.b)(r)):ne.createElement(bl.c,null):ne.createElement(ia,{comment:i.comment,repliesAdded:t,isCommentsDisabled:a})}))},Gl=function(e){z()(l,e);var n=G()(l);function l(e){var a,i,t,r,s,o,u,d;M()(this,l);var m=null!==(a=null===(i=(d=n.call(this,e)).props)||void 0===i||null===(t=i.comment)||void 0===t||null===(r=t.repliesConnection)||void 0===r||null===(s=r.edges)||void 0===s||null===(o=s[0])||void 0===o||null===(u=o.node)||void 0===u?void 0:u.isDeleted)&&void 0!==a&&a;return d.state={showPreview:!m},d}return H()(l,[{key:"render",value:function(){var e=this,n=this.props,l=n.comment,a=n.isCommentsDisabled;return l.repliesConnection.edges.length>0?this.state.showPreview?ne.createElement(Il.ClientLogConsumer,null,(function(n){return ne.createElement(me.e,{onClick:function(){n("ChildCommentToggle"),e.setState({showPreview:!1})},underlineHover:!1,width:"100%",display:"block"},ne.createElement(zl,{comment:l.repliesConnection.edges[0].node}))})):ne.createElement(Zl,{commentId:l.commentId,commentType:l.commentType,isCommentsDisabled:a}):null}}]),l}(ne.Component);Gl.connectionKey="CommentRepliesList",Gl.fragments={comment:void 0!==Hl?Hl:Hl=_},Gl.getQuery=Rl()((function(){return void 0!==Ql?Ql:Ql=E})),Gl.displayName="CommentReplySwitcher";var Jl,Wl=Object(le.b)(Gl),Yl=function(e){z()(l,e);var n=G()(l);function l(e){var a;return M()(this,l),(a=n.call(this,e)).state={repliesAdded:[]},a}return H()(l,[{key:"render",value:function(){var e=this,n=this.props,l=n.comment,a=n.isCommentsDisabled;return ne.createElement(Il.ClientLogConsumer,null,(function(n){return ne.createElement(me.d,null,ne.createElement(kl,{onReplyAdded:function(l){var a=l.commentId;e.setState((function(e){return{repliesAdded:[a].concat(e.repliesAdded)}})),n("CommentReply")},comment:l,isCommentsDisabled:a}),e.state.repliesAdded.length>0?ne.createElement(Zl,{commentId:l.commentId,commentType:l.commentType,repliesAdded:e.state.repliesAdded,isCommentsDisabled:a}):ne.createElement(Wl,{comment:l,isCommentsDisabled:a}))}))}}]),l}(ne.Component);Yl.fragments={comment:void 0!==Jl?Jl:Jl=w},Yl.displayName="CommentReplyListItem";var Xl,$l,ea,na=Object(le.b)(Yl),la=function(e){z()(l,e);var n=G()(l);function l(){return M()(this,l),n.apply(this,arguments)}return H()(l,[{key:"render",value:function(){var e=this.props,n=e.comment,a=e.isCommentsDisabled,i=e.hideReplies,t=e.repliesAdded,r=n.repliesConnection.edges;return 0===(void 0===r?[]:r).length&&0===t.length?null:ne.createElement(ie.d,null,t.length>0?t.map((function(e){return ne.createElement(ae.a,{key:e,query:l.queries.addedReply,variables:{commentId:e,commentType:n.commentType}},(function(e){var n=e.loading,l=e.error,i=e.data;return n?ne.createElement(bl.c,null):l||null===i.comment?null:ne.createElement(na,{comment:i.comment,isCommentsDisabled:a})}))})):null,i?null:ne.createElement(Kl.c,{relayObject:this.props.relay,connection:n.repliesConnection,endOfPageComponent:function(e){return ne.createElement(me.e,{onClick:e,underlineHover:!1},ne.createElement(ie.c,null))}},(function(e){var n=e.node,l=n.commentId;return l===undefined||-1===t.indexOf(l)?ne.createElement(na,{key:n.commentId,comment:n,isCommentsDisabled:a}):null})))}}]),l}(ne.Component);la.initialPageSize=2,la.pageSize=5,la.connectionKey="CommentRepliesList",la.fragments={comment:void 0!==Xl?Xl:Xl=I},la.queries={addedReply:void 0!==$l?$l:$l=L,commentRepliesList:void 0!==ea?ea:ea=T},la.connectionConfig={query:la.queries.commentRepliesList,direction:"forward",getConnectionFromProps:function(e){var n;return null===(n=e.comment)||void 0===n?void 0:n.repliesConnection},getVariables:function(e,n){var l=n.cursor;return{commentId:e.comment.commentId,commentType:e.comment.commentType,first:la.pageSize,after:l}}},la.displayName="CommentRepliesList";var aa,ia=Object(le.d)(la),ta=function(e){z()(l,e);var n=G()(l);function l(e){var a;return M()(this,l),(a=n.call(this,e)).state={repliesAdded:[]},a}return H()(l,[{key:"render",value:function(){var e=this,n=this.props,l=n.comment,a=n.isCommentsDisabled,i=n.hideReplies;return ne.createElement(ie.f,null,ne.createElement(kl,{onReplyAdded:function(n){var l=n.commentId;e.setState((function(e){return{repliesAdded:[l].concat(e.repliesAdded)}}))},comment:l,isCommentsDisabled:a}),ne.createElement(ia,{repliesAdded:this.state.repliesAdded,comment:l,isCommentsDisabled:a,hideReplies:i}))}}]),l}(ne.Component);ta.fragments={comment:void 0!==aa?aa:aa=u},ta.displayName="CommentThreadItem";var ra=Object(le.b)(ta),sa=l("yMAQ"),oa=l.n(sa),ua=function(){var e=[{kind:"LocalArgument",name:"commentId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null}],n=[{kind:"Variable",name:"commentId",variableName:"commentId"},{kind:"Variable",name:"commentType",variableName:"commentType"}],l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},u={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},p=[a,l,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],y={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:p},k={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:p},f={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerBundleSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"consumerBundleActive",args:null,storageKey:null}]},v={name:"annotate_with_ids",value:"true"},F=[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}],C={kind:"Condition",passingValue:!0,isCustom:!0,customValue:v,condition:"onGate",selections:F},S={kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},K={kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"NotifInjectedCommentsLoaderQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,i,{kind:"LinkedField",alias:null,name:"allAncestors",storageKey:null,args:null,concreteType:null,plural:!0,selections:[l,a,t,r,i,{kind:"FragmentSpread",name:"CommentItem_comment",args:null},{kind:"FragmentSpread",name:"NotifInjectedCommentsPreviewLoader_comment",args:null}]}]}]},operation:{kind:"Operation",name:"NotifInjectedCommentsLoaderQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,i,{kind:"LinkedField",alias:null,name:"allAncestors",storageKey:null,args:null,concreteType:null,plural:!0,selections:[l,a,t,r,i,{kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"deletedTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isReply",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,s,o,u,d,m,c,g,y,k,{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null},f,C]},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"canSeeDeletedContent",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isAdmin",args:null,storageKey:null},l,a,{kind:"ScalarField",alias:null,name:"isAdminMode",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"commenterIsTribeModerator",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commenterIsTribeAdmin",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,s]},{kind:"ScalarField",alias:null,name:"creationTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isSensitive",args:null,storageKey:null},l,a,{kind:"ScalarField",alias:null,name:"viewerCanModerate",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"authorIsBlockedByTribe",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"replyDraftContent",args:null,storageKey:null},S,h,K,S,h,K,{kind:"ScalarField",alias:null,name:"viewerCanDelete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanAdminDelete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanBlockCommentAuthor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanInviteToContribute",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"reportableId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerInvitedAuthorToTribe",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"featuredUpvoters",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[s,l,o,u,d,m,a,c,g,y,k,f,C]},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerDirectSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"LinkedField",alias:null,name:"authorTribeUser",storageKey:null,args:null,concreteType:"TribeUser",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isDirectSubscriber",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"permission",args:null,storageKey:null},l]}]},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:v,condition:"onGate",selections:[{kind:"InlineFragment",type:"AnswerComment",selections:F}]}]}]}]},params:{operationKind:"query",name:"NotifInjectedCommentsLoaderQuery",id:"55d55584a4a80641d0da88aa42e40095eb7346fa4bfb3bc9f8334a2fcfdc5994",text:null,metadata:{}}}}();ua.hash="e983479c85f61321f41e24b679e56a95";var da=ua,ma=l("mF64"),ca=l("s/A7"),ga=l("nG0s"),pa=function(){var e=[{kind:"LocalArgument",name:"commentId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"filtered",type:"[BigInt!]",defaultValue:null}],n=[{kind:"Variable",name:"commentId",variableName:"commentId"},{kind:"Variable",name:"commentType",variableName:"commentType"}],l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},r={kind:"Variable",name:"filtered",variableName:"filtered"},s={kind:"Literal",name:"first",value:1},o=[r,s],u={kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]},d={kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},y={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},v=[a,l,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],F={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:v},C={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:v},S={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerBundleSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"consumerBundleActive",args:null,storageKey:null}]},h={name:"annotate_with_ids",value:"true"},K=[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}],b={kind:"Condition",passingValue:!0,isCustom:!0,customValue:h,condition:"onGate",selections:K},T={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},L={kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},I={kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},w={kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null},E=[s],_={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"NotifInjectedCommentsPreviewLoaderCommentRepliesListQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,i,t,{kind:"FragmentSpread",name:"NotifInjectedCommentsPreviewPagedList_comment",args:[r]}]}]},operation:{kind:"Operation",name:"NotifInjectedCommentsPreviewLoaderCommentRepliesListQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,i,t,{kind:"ScalarField",alias:null,name:"numReplies",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:null,args:o,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,u,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,i,t,d,{kind:"ScalarField",alias:null,name:"deletedTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isReply",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,m,c,g,p,y,k,f,F,C,{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null},S,b]},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"canSeeDeletedContent",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isAdmin",args:null,storageKey:null},l,a,{kind:"ScalarField",alias:null,name:"isAdminMode",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"commenterIsTribeModerator",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commenterIsTribeAdmin",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,m]},{kind:"ScalarField",alias:null,name:"creationTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},T,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isSensitive",args:null,storageKey:null},l,a,{kind:"ScalarField",alias:null,name:"viewerCanModerate",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"authorIsBlockedByTribe",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"replyDraftContent",args:null,storageKey:null},L,I,w,L,I,w,{kind:"ScalarField",alias:null,name:"viewerCanDelete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanAdminDelete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanBlockCommentAuthor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanInviteToContribute",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"reportableId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerInvitedAuthorToTribe",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"featuredUpvoters",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[m,l,c,g,p,y,a,k,f,F,C,S,b]},{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:1)",args:E,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,d,T,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,m,f,F,C,b]}]},_]},u]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:E,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerDirectSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"LinkedField",alias:null,name:"authorTribeUser",storageKey:null,args:null,concreteType:"TribeUser",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isDirectSubscriber",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"permission",args:null,storageKey:null},l]}]},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:h,condition:"onGate",selections:[{kind:"InlineFragment",type:"AnswerComment",selections:K}]}]},_]}]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:o,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:["filtered"]}]}]},params:{operationKind:"query",name:"NotifInjectedCommentsPreviewLoaderCommentRepliesListQuery",id:"28c7a38a845682d44e99de36a47250167672126e06985c66d31ff33a176f0387",text:null,metadata:{}}}}();pa.hash="768fc431332c6dcea1079a65777b0e10";var ya=pa,ka={kind:"Fragment",name:"NotifInjectedCommentsPreviewLoader_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null}],hash:"44167518bcb22b1eb69ad79ac0dcbbe4"},fa=ka,va=l("6Gvz"),Fa=function(){var e=[{kind:"LocalArgument",name:"commentId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"after",type:"String",defaultValue:null},{kind:"LocalArgument",name:"filtered",type:"[BigInt!]",defaultValue:null}],n=[{kind:"Variable",name:"commentId",variableName:"commentId"},{kind:"Variable",name:"commentType",variableName:"commentType"}],l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"numReplies",args:null,storageKey:null},s={kind:"Variable",name:"filtered",variableName:"filtered"},o={kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]},u={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},d=[{kind:"Variable",name:"after",variableName:"after"},s,{kind:"Variable",name:"first",variableName:"first"}],m={kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},y={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},v={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},F=[a,l,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],C={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:F},S={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:F},h={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerBundleSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"consumerBundleActive",args:null,storageKey:null}]},K={name:"annotate_with_ids",value:"true"},b=[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}],T={kind:"Condition",passingValue:!0,isCustom:!0,customValue:K,condition:"onGate",selections:b},L={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},I={kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},w={kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},E={kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null},_=[{kind:"Literal",name:"first",value:1}];return{kind:"Request",fragment:{kind:"Fragment",name:"NotifInjectedCommentsPreviewPagedListCommentRepliesListQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,i,t,r,{kind:"LinkedField",alias:"repliesConnection",name:"__CommentRepliesList_repliesConnection_connection",storageKey:null,args:[s],concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,o,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,i,t,{kind:"FragmentSpread",name:"CommentReplyListItem_comment",args:null}]},u]}]}]}]},operation:{kind:"Operation",name:"NotifInjectedCommentsPreviewPagedListCommentRepliesListQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,i,t,r,{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:null,args:d,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,o,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,i,t,m,{kind:"ScalarField",alias:null,name:"deletedTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isReply",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,c,g,p,y,k,f,v,C,S,{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null},h,T]},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"canSeeDeletedContent",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isAdmin",args:null,storageKey:null},l,a,{kind:"ScalarField",alias:null,name:"isAdminMode",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"commenterIsTribeModerator",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commenterIsTribeAdmin",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,c]},{kind:"ScalarField",alias:null,name:"creationTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},L,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isSensitive",args:null,storageKey:null},l,a,{kind:"ScalarField",alias:null,name:"viewerCanModerate",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"authorIsBlockedByTribe",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"replyDraftContent",args:null,storageKey:null},I,w,E,I,w,E,{kind:"ScalarField",alias:null,name:"viewerCanDelete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanAdminDelete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanBlockCommentAuthor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanInviteToContribute",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"reportableId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerInvitedAuthorToTribe",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"featuredUpvoters",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[c,l,g,p,y,k,a,f,v,C,S,h,T]},{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:1)",args:_,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,m,L,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,c,v,C,S,T]}]},u]},o]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:_,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerDirectSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"LinkedField",alias:null,name:"authorTribeUser",storageKey:null,args:null,concreteType:"TribeUser",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isDirectSubscriber",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"permission",args:null,storageKey:null},l]}]},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:K,condition:"onGate",selections:[{kind:"InlineFragment",type:"AnswerComment",selections:b}]}]},u]}]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:d,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:["filtered"]}]}]},params:{operationKind:"query",name:"NotifInjectedCommentsPreviewPagedListCommentRepliesListQuery",id:"8da71dcc6e3d510747acbca41819c9aecc04a644cdcd2fe386816286a55d1fed",text:null,metadata:{connection:[{count:"first",cursor:"after",direction:"forward",path:["comment","repliesConnection"]}]}}}}();Fa.hash="80ad5641e1261d4ce736885660265c4f";var Ca=Fa,Sa=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null};return{kind:"Fragment",name:"NotifInjectedCommentsPreviewPagedList_comment",type:"Comment",metadata:{connection:[{count:null,cursor:null,direction:"forward",path:["repliesConnection"]}]},argumentDefinitions:[{kind:"LocalArgument",name:"filtered",type:"[BigInt!]",defaultValue:[]}],selections:[e,n,l,a,{kind:"ScalarField",alias:null,name:"numReplies",args:null,storageKey:null},{kind:"LinkedField",alias:"repliesConnection",name:"__CommentRepliesList_repliesConnection_connection",storageKey:null,args:[{kind:"Variable",name:"filtered",variableName:"filtered"}],concreteType:"CommentRepliesConnection",plural:!1,selections:[e,n,{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[e,n,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,n,l,a,{kind:"FragmentSpread",name:"CommentReplyListItem_comment",args:null}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]}]}]}}();Sa.hash="9a56e29eed9c2d0c5cda6c8fbe6987dc";var ha,Ka,ba=Sa,Ta=function(e){z()(l,e);var n=G()(l);function l(){return M()(this,l),n.apply(this,arguments)}return H()(l,[{key:"render",value:function(){var e,n=this,l=this.props,a=l.comment,i=l.isCommentsDisabled,t=null===(e=a.repliesConnection)||void 0===e?void 0:e.edges;if(t&&t.length>0){var r,s,o,u=new Set(this.props.commentsAlreadyRendered),d=null===(r=a.repliesConnection)||void 0===r||null===(s=r.edges)||void 0===s||null===(o=s.filter((function(e){return!n.props.commentsAlreadyRendered||!e.node.commentId||!u.has(e.node.commentId)})))||void 0===o?void 0:o.map((function(e){return ne.createElement(na,{key:e.node.commentId,comment:e.node,isCommentsDisabled:i})}));return ne.createElement(Kl.c,{relayObject:this.props.relay},(function(e){var n=e.error,l=e.readyToLoadMore,a=e.loadMore;return n?ne.createElement(va.a,null,n):d.length>0&&ne.createElement(ie.d,null,d,l&&ne.createElement(me.e,{onClick:a,underlineHover:!1},ne.createElement(ie.c,null)))}))}return null}}]),l}(ne.Component);Ta.initialPageSize=1,Ta.fragments={comment:void 0!==ha?ha:ha=O},Ta.queries={commentRepliesList:void 0!==Ka?Ka:Ka=P},Ta.connectionConfig={query:Ta.queries.commentRepliesList,direction:"forward",getConnectionFromProps:function(e){var n;return null===(n=e.comment)||void 0===n?void 0:n.repliesConnection},getVariables:function(e,n){var l=n.cursor;return{commentId:e.comment.commentId,commentType:e.comment.commentType,first:Ta.initialPageSize,after:l,filtered:e.commentsAlreadyRendered||[]}},getFragmentVariables:function(e){return{filtered:e.filtered}}},Ta.displayName="NotifInjectedCommentsPreviewPagedList";var La,Ia,wa=Object(le.d)(Ta),Ea=function(e){z()(l,e);var n=G()(l);function l(){return M()(this,l),n.apply(this,arguments)}return H()(l,[{key:"render",value:function(){var e=this;return ne.createElement(ae.a,{query:l.queries.commentRepliesList,variables:{commentId:this.props.comment.commentId,commentType:this.props.comment.commentType,filtered:this.props.commentsAlreadyRendered}},(function(n){var l=n.loading,a=n.error,i=n.data;return l?ne.createElement(bl.c,null):a?ne.createElement(va.a,null,a):i.comment?ne.createElement(wa,{comment:i.comment,commentsAlreadyRendered:e.props.commentsAlreadyRendered,isCommentsDisabled:e.props.isCommentsDisabled}):null}))}}]),l}(ne.Component);Ea.initialPageSize=1,Ea.connectionKey="CommentRepliesList",Ea.fragments={comment:void 0!==La?La:La=V},Ea.queries={commentRepliesList:void 0!==Ia?Ia:Ia=R},Ea.displayName="NotifInjectedCommentsPreviewLoader";var _a,Aa,Da=Object(le.b)(Ea);!function(e){e[e.QuestionComment=1]="QuestionComment",e[e.AnswerComment=2]="AnswerComment",e[e.PostComment=3]="PostComment",e[e.ShareComment=9]="ShareComment"}(Aa||(Aa={}));var Ra=function(e){var n=e.children,l=e.isTopLevel,a={};return ne.createElement(me.p,a,l?ne.createElement(me.d,null,n):ne.createElement(ie.d,null,n))};Ra.displayName="Wrapper";var Va,Pa,Oa,Na=function(e){z()(l,e);var n=G()(l);function l(e){var a;M()(this,l),(a=n.call(this,e)).commentId=void 0,a.commentType=void 0,a.scrollToRef=void 0,a.ScrollWrapper=function(e){var n=e.childRef,l=e.children,i=Object(ne.useState)(!1),t=oa()(i,2),r=t[0],s=t[1];return Object(ne.useEffect)((function(){r||(Object(ca.a)(a.scrollToRef.current,"center"),s(!0))}),[r,n]),l};var i=Object(ma.e)();return a.commentId=Number(i.comment_id),a.commentType=Aa[Number(i.comment_type)],a.scrollToRef=ne.createRef(),a}return H()(l,[{key:"renderCommentsTree",value:function(e){var n=this,l=arguments.length>1&&arguments[1]!==undefined&&arguments[1];if(0===e.length)return null;var a=e[0],i=0===e.slice(1).length;return a&&ne.createElement(Ra,{isTopLevel:l},ne.createElement(Le.a,{condition:i,wrapper:function(e){return ne.createElement(me.d,{innerRef:n.scrollToRef},e)}},ne.createElement(kl,{key:a.commentId,comment:a,showHighlight:i,isCommentsDisabled:this.props.isCommentsDisabled})),this.renderCommentsTree(e.slice(1)),ne.createElement(Da,{comment:a,commentsAlreadyRendered:e.map((function(e){return e.commentId})),isCommentsDisabled:this.props.isCommentsDisabled}))}},{key:"render",value:function(){var e=this,n=this.props.children;if(Number.isNaN(this.commentId)||!this.commentType||this.props.containerObjectId!==this.props.commentContainerId)return n();var a=this.ScrollWrapper;return ne.createElement(ae.a,{query:l.queries.InjectedCommentsList,variables:{commentId:this.commentId,commentType:this.commentType}},(function(l){var i=l.loading,t=l.error,r=l.data;if(i)return ne.createElement(bl.c,null);if(t)return n();var s=r.comment;if((null===s||void 0===s?void 0:s.containerId)!==e.props.containerObjectId)return n();if(s){var o=s.allAncestors;return ne.createElement(ga.b,null,ne.createElement(a,{childRef:e.scrollToRef},ne.createElement(ie.f,null,e.renderCommentsTree(o,!0))),n(o[0].commentId))}return null}))}}]),l}(ne.Component);Na.queries={InjectedCommentsList:void 0!==_a?_a:_a=D},Na.displayName="NotifInjectedCommentsLoader";var Ua=function(e){z()(l,e);var n=G()(l);function l(e){var a;return M()(this,l),(a=n.call(this,e)).state={hideReplies:a.props.initiallyHideReplies||!1},a}return H()(l,[{key:"getIgnoreList",value:function(e){var n=this.props.commentsAdded;return e&&(n=n.concat(e)),n.map((function(e){return String(e)}))}},{key:"render",value:function(){var e,n,a=this,i=this.props,t=i.container,r=i.autoPaged,s=i.onPagingEnd,o=i.isCommentsDisabled,u=(null===t||void 0===t||null===(e=t.allCommentsConnection)||void 0===e?void 0:e.edges.length)>0?null===t||void 0===t||null===(n=t.allCommentsConnection)||void 0===n?void 0:n.edges[0].node.containerId:null,d=this.state.hideReplies;return ne.createElement(Na,{commentContainerId:u,containerObjectId:t.containerId,isCommentsDisabled:o},(function(e){return ne.createElement(Kl.c,{relayObject:a.props.relay,autoPaged:{enabled:r},onPagingEnd:s,endOfPageComponent:function(e){return ne.createElement(me.d,{onClick:function(){e(),d&&a.setState({hideReplies:!1})}},ne.createElement(ie.g,null))},connection:null===t||void 0===t?void 0:t.allCommentsConnection,liveBannerConfig:{query:l.queries.getLiveBannerHash,initialData:{node:t},bannerText:Object(he.Z)("See new comments"),variables:function(){return{id:t.id}},hashValue:t.genericCommentsLiveBannerHash,ignoreList:a.getIgnoreList(e)}},(function(n){var l=n.node,i=null===l||void 0===l?void 0:l.commentId;return i&&-1===a.props.commentsAdded.indexOf(i)&&i!==e?ne.createElement(ra,{key:i,comment:l,isCommentsDisabled:o,hideReplies:d}):null}))}))}}]),l}(ne.Component);Ua.nextPageSize=5,Ua.defaultProps={commentsAdded:[],autoPaged:!1},Ua.fragments={container:void 0!==Va?Va:Va=o},Ua.queries={allCommentsList:void 0!==Pa?Pa:Pa=s,getLiveBannerHash:void 0!==Oa?Oa:Oa=r},Ua.connectionConfig={query:Ua.queries.allCommentsList,direction:"forward",getConnectionFromProps:function(e){var n;return null===(n=e.container)||void 0===n?void 0:n.allCommentsConnection},getFragmentVariables:function(e){return{first:e.first,refetch:!1}},getVariables:function(e,n){var l=n.cursor;return{id:e.container.id,first:Ua.nextPageSize,after:l,refetch:!1}}},Ua.displayName="AllCommentsList";var Ba=Object(le.d)(Ua),xa=function(){var e=[{kind:"LocalArgument",name:"id",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"requestType",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"after",type:"String",defaultValue:null}],n=[{kind:"Variable",name:"id",variableName:"id"}],l={kind:"Variable",name:"requestType",variableName:"requestType"},a=[l],i={kind:"ScalarField",alias:"numCommentsCollapsed",name:"numComments",args:a,storageKey:null},t={kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]},r={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},u=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"first",variableName:"first"},l],d={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"deletedTime",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"isReply",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},y={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},v={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},F={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},C={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},S={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},h=[s,d,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],K={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:h},b={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:h},T={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerBundleSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"consumerBundleActive",args:null,storageKey:null}]},L={name:"annotate_with_ids",value:"true"},I=[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}],w={kind:"Condition",passingValue:!0,isCustom:!0,customValue:L,condition:"onGate",selections:I},E={kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[d,s,y,k,f,v,F,C,S,K,b,{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null},T,w]},_={kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"canSeeDeletedContent",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isAdmin",args:null,storageKey:null},d,s,{kind:"ScalarField",alias:null,name:"isAdminMode",args:null,storageKey:null}]},A={kind:"ScalarField",alias:null,name:"commenterIsTribeModerator",args:null,storageKey:null},D={kind:"ScalarField",alias:null,name:"commenterIsTribeAdmin",args:null,storageKey:null},R={kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[d,s,y]},V={kind:"ScalarField",alias:null,name:"creationTime",args:null,storageKey:null},P={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},O={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},N={kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isSensitive",args:null,storageKey:null},d,s,{kind:"ScalarField",alias:null,name:"viewerCanModerate",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null}]},U={kind:"ScalarField",alias:null,name:"authorIsBlockedByTribe",args:null,storageKey:null},B={kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},x={kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"replyDraftContent",args:null,storageKey:null},M={kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},q={kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},H={kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null},Q={kind:"ScalarField",alias:null,name:"viewerCanDelete",args:null,storageKey:null},z={kind:"ScalarField",alias:null,name:"viewerCanAdminDelete",args:null,storageKey:null},Z={kind:"ScalarField",alias:null,name:"viewerCanBlockCommentAuthor",args:null,storageKey:null},G={kind:"ScalarField",alias:null,name:"viewerCanInviteToContribute",args:null,storageKey:null},J={kind:"ScalarField",alias:null,name:"reportableId",args:null,storageKey:null},W={kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null},Y={kind:"ScalarField",alias:null,name:"viewerInvitedAuthorToTribe",args:null,storageKey:null},X={kind:"LinkedField",alias:null,name:"featuredUpvoters",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[y,d,k,f,v,F,s,C,S,K,b,T,w]},$=[{kind:"Literal",name:"first",value:2}],ee=[{kind:"Literal",name:"first",value:1}],ne={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerDirectSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"LinkedField",alias:null,name:"authorTribeUser",storageKey:null,args:null,concreteType:"TribeUser",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isDirectSubscriber",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"permission",args:null,storageKey:null},d]}]},le={kind:"Condition",passingValue:!0,isCustom:!0,customValue:L,condition:"onGate",selections:[{kind:"InlineFragment",type:"AnswerComment",selections:I}]};return{kind:"Request",fragment:{kind:"Fragment",name:"CollapsedCommentListQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:n,concreteType:null,plural:!1,selections:[i,{kind:"LinkedField",alias:"hiddenComments",name:"__AllComments_hiddenComments_connection",storageKey:null,args:a,concreteType:"GenericCommentsConnection",plural:!1,selections:[t,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"NodeEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[r,s,{kind:"FragmentSpread",name:"CommentThreadItem_comment",args:null}]},o]}]}]}]},operation:{kind:"Operation",name:"CollapsedCommentListQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:n,concreteType:null,plural:!1,selections:[s,i,{kind:"LinkedField",alias:"hiddenComments",name:"genericCommentsConnection",storageKey:null,args:u,concreteType:"GenericCommentsConnection",plural:!1,selections:[t,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"NodeEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[r,d,s,m,c,g,p,E,_,A,D,R,V,P,O,N,U,B,x,j,M,q,H,M,q,H,Q,z,Z,G,J,W,Y,X,{kind:"ScalarField",alias:null,name:"numReplies",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:2)",args:$,concreteType:"CommentRepliesConnection",plural:!1,selections:[d,s,t,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[d,s,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,s,r,B,m,c,g,p,E,_,A,D,R,V,P,O,N,U,x,j,M,q,H,M,q,H,Q,z,Z,G,J,W,Y,X,{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:1)",args:ee,concreteType:"CommentRepliesConnection",plural:!1,selections:[d,s,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[d,s,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,s,m,O,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[d,s,y,S,K,b,w]}]},o]},t]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:ee,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},ne,le]},o]}]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:$,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},ne,le]},o,d]},d]},{kind:"LinkedHandle",alias:"hiddenComments",name:"genericCommentsConnection",args:u,handle:"connection",key:"AllComments_hiddenComments",filters:["requestType"]},d]}]},params:{operationKind:"query",name:"CollapsedCommentListQuery",id:"95c2bd4c68b0182935f96ef240f5e5530ed9606fa7425a04525558ef589bdb7b",text:null,metadata:{connection:[{count:"first",cursor:"after",direction:"forward",path:["node","hiddenComments"]}]}}}}();xa.hash="31b89893142c8cc3b085acac54abd227";var ja=xa,Ma=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l=[{kind:"Literal",name:"requestType",value:3}];return{kind:"Fragment",name:"CollapsedCommentList_container",type:"CommentsContainer",metadata:{connection:[{count:null,cursor:null,direction:"forward",path:["hiddenComments"]}]},argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},{kind:"ScalarField",alias:"numCommentsCollapsed",name:"numComments",args:l,storageKey:"numComments(requestType:3)"},{kind:"LinkedField",alias:"hiddenComments",name:"__AllComments_hiddenComments_connection",storageKey:"__AllComments_hiddenComments_connection(requestType:3)",args:l,concreteType:"GenericCommentsConnection",plural:!1,selections:[e,n,{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"NodeEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},n,{kind:"FragmentSpread",name:"CommentThreadItem_comment",args:null}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]}]}]}}();Ma.hash="5adfa3dd021d00d6dcfa1a51a492e17d";var qa,Ha,Qa=Ma,za=function(e){z()(l,e);var n=G()(l);function l(e){var a;return M()(this,l),(a=n.call(this,e)).state={showList:!1},a}return H()(l,[{key:"render",value:function(){var e=this,n=this.props,l=n.container,a=n.isCommentsDisabled;return this.state.showList?ne.createElement(Kl.c,{relayObject:this.props.relay,connection:null===l||void 0===l?void 0:l.hiddenComments,endOfPageComponent:function(e){return ne.createElement(me.d,{onClick:e},ne.createElement(ie.g,null))}},(function(e){var n=e.node;return ne.createElement(ra,{key:n.commentId,comment:n,isCommentsDisabled:a})})):ne.createElement(ie.j,{onClick:function(){return e.setState({showList:!0})}})}}]),l}(ne.Component);za.initialPageSize=3,za.fragments={container:void 0!==qa?qa:qa=U},za.queries={collapsedComments:void 0!==Ha?Ha:Ha=N},za.connectionConfig={query:za.queries.collapsedComments,direction:"forward",getConnectionFromProps:function(e){var n;return null===(n=e.container)||void 0===n?void 0:n.hiddenComments},getVariables:function(e,n){var l=n.cursor;return{id:e.container.id,requestType:3,first:za.initialPageSize,after:l}}},za.displayName="CollapsedCommentList";var Za=Object(le.d)(za),Ga=function(){var e=[{kind:"LocalArgument",name:"oid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"isAnswer",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"isPost",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"isShare",type:"Boolean!",defaultValue:null}],n=[{kind:"Variable",name:"aid",variableName:"oid"}],l={kind:"ScalarField",alias:null,name:"commentDraftContent",args:null,storageKey:null},a=[l],i=[{kind:"Variable",name:"pid",variableName:"oid"}],t=[{kind:"Variable",name:"shareId",variableName:"oid"}],r={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},s=[l,r];return{kind:"Request",fragment:{kind:"Fragment",name:"CommentAddRootQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"isAnswer",selections:[{kind:"LinkedField",alias:null,name:"answer",storageKey:null,args:n,concreteType:"Answer",plural:!1,selections:a}]},{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"isPost",selections:[{kind:"LinkedField",alias:null,name:"post",storageKey:null,args:i,concreteType:"Post",plural:!1,selections:a}]},{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"isShare",selections:[{kind:"LinkedField",alias:null,name:"share",storageKey:null,args:t,concreteType:null,plural:!1,selections:a}]}]},operation:{kind:"Operation",name:"CommentAddRootQuery",argumentDefinitions:e,selections:[{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"isAnswer",selections:[{kind:"LinkedField",alias:null,name:"answer",storageKey:null,args:n,concreteType:"Answer",plural:!1,selections:s}]},{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"isPost",selections:[{kind:"LinkedField",alias:null,name:"post",storageKey:null,args:i,concreteType:"Post",plural:!1,selections:s}]},{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"isShare",selections:[{kind:"LinkedField",alias:null,name:"share",storageKey:null,args:t,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l,r]}]}]},params:{operationKind:"query",name:"CommentAddRootQuery",id:"b7bff200d20fcad09f8dfafd6a7919bb0c5983ceaff16a7265766b3a7edeb3f2",text:null,metadata:{}}}}();Ga.hash="372a99c6191d0b5a73a7c7ae7a08b63d";var Ja,Wa,Ya=Ga,Xa={kind:"Fragment",name:"CommentAddRoot_container",type:"CommentsContainer",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},{kind:"FragmentSpread",name:"UserName_user",args:null},{kind:"FragmentSpread",name:"UserPhoto_user",args:null}]}]},{kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentDraftContent",args:null,storageKey:null}],hash:"d4e26b7ff18aa51bd9ab92ae733b944f"},$a=Xa,ei=function(e){z()(l,e);var n=G()(l);function l(e){var a;return M()(this,l),(a=n.call(this,e)).editorRef=void 0,a.editorRef=ne.createRef(),a.state={isSubmitting:!1},a}return H()(l,[{key:"renderCommentPromptText",value:function(){return ne.createElement(he.J,null,"Add a comment...")}},{key:"renderCommentsDisabled",value:function(){return ne.createElement(me.i,{flex:"auto"},ne.createElement(me.r,{fontSize:"tiny",color:"gray_light"},ne.createElement(he.J,null,"Adding comments disabled")))}},{key:"renderMobile",value:function(){var e=this,n=this.props,l=n.onCommentAdded,a=n.container,i=n.relay,t=a.commentType,r=a.containerId,s=a.commentDraftContent,o=a.viewer.user;return ne.createElement(el.a,{commentType:t,containerId:r,commentDraftContent:s,postDismissCallback:function(e){e.shouldRefetch&&i.refetch({oid:r,isAnswer:"AnswerComment"===t,isPost:"PostComment"===t,isShare:"ShareComment"===t})},onCommentAdded:l},(function(n){return ne.createElement(ne.Fragment,null,o&&ne.createElement(Te.a,{user:o,size:36}),ne.createElement(Xn.a,{color:"gray_light",height:36,px:"small",ml:"small",onClick:function(){n()}},e.renderCommentPromptText()))}))}},{key:"renderDesktop",value:function(){var e=this,n=this.props,l=n.container,a=l.viewer.user,i=l.containerId,t=l.commentType,r=n.onCommentAdded;return ne.createElement(ne.Fragment,null,a&&ne.createElement(Te.a,{user:a,size:36}),ne.createElement(Xn.a,{ml:"small"},ne.createElement(en.a,{ref:this.editorRef,placeholder:Object(he.Z)(this.renderCommentPromptText()),content:Object(Yn.h)(),focusOnLoad:!1,toolbarOnWeb:!1,commandsToDisable:["horizontal-rule","video"],editorPaddingReset:!0,isCompactEditor:!0})),ne.createElement(me.d,{ml:"tiny"},ne.createElement(Il.ClientLogConsumer,null,(function(n){return ne.createElement(me.i,{alignItems:"center",justifyContent:"flex-end"},ne.createElement($n.a,{objectId:i,commentType:t,onSuccess:function(n){var l=n.commentId;e.editorRef.current.clear(),r({commentId:l})}},(function(l){return ne.createElement(Xe.a,{size:"small",text:Object(he.Z)("Add Comment"),disabled:e.state.isSubmitting,onClick:function(){e.editorRef.current&&!e.state.isSubmitting&&e.setState({isSubmitting:!0},(function(){var a=e.editorRef.current.save();l(a).then((function(){e.setState((function(){return{isSubmitting:!1}}))})),function(e,n,l){var a,i;switch(n){case"AnswerComment":i="AddAnswerComment",a={aid:l};break;case"ShareComment":i="QuoraShareCommentAdd",a={share_id:l};break;case"PostComment":i="TribePostCommentAdd",a={pid:l};break;default:return null}e(i,a)}(n,t,i)}))}})})))}))))}},{key:"render",value:function(){var e=this.props.isCommentsDisabled;return Object(un.b)()?null:ne.createElement(me.i,{bg:"gray_ultralight",px:"medium",py:"small",alignItems:"center"},e?this.renderCommentsDisabled():Object(Bn.e)()?this.renderMobile():this.renderDesktop())}}]),l}(ne.Component);ei.fragments={container:void 0!==Ja?Ja:Ja=x},ei.queries={refetchQuery:void 0!==Wa?Wa:Wa=B},ei.displayName="CommentAddRoot";var ni,li,ai,ii=Object(le.f)(ei),ti=l("m6aV"),ri=l("06DM"),si=function(e){z()(l,e);var n=G()(l);function l(e){var a;return M()(this,l),(a=n.call(this,e)).state={hasMoreCommentsToPage:!0,commentsAdded:[]},a}return H()(l,[{key:"isCommentsDisabled",value:function(){var e=this.props.container,n=e.isCommentsDisabled,l=e.canViewerAddComment;return this.props.isCommentsDisabled||n||!l}},{key:"renderCommentsAdded",value:function(){var e=this,n=this.props.commentType;return 0===this.state.commentsAdded.length?null:ne.createElement(ne.Fragment,null,this.state.commentsAdded.map((function(a){return ne.createElement(ae.a,{key:a,query:l.queries.addedComment,variables:{commentId:a,commentType:n}},(function(n){var l=n.loading,a=n.error,i=n.data;return l?ne.createElement(bl.c,null):a||null===i.comment?null:ne.createElement(ra,{comment:i.comment,isCommentsDisabled:e.isCommentsDisabled()})}))})))}},{key:"renderCommentsList",value:function(){var e=this,n=this.props,l=n.container,a=n.autoPaged,i=n.initiallyHideReplies,t=n.commentType,r=n.hideCollapsedCommentsToggle,s=!this.state.hasMoreCommentsToPage||l.numUncollapsedToplevelComments<5,o=null;return l.numDisplayComments>0&&(o=ne.createElement(Ba,{container:l,onPagingEnd:function(n,l){l||e.setState({hasMoreCommentsToPage:!1})},commentsAdded:this.state.commentsAdded,autoPaged:a,isCommentsDisabled:this.isCommentsDisabled(),initiallyHideReplies:i})),ne.createElement(ne.Fragment,null,o,ne.createElement(ti.a.Consumer,null,(function(n){return ne.createElement(bn.e.Consumer,null,(function(a){return s&&!(n.hideCollapsedCommentsToggle||r)&&!(a===Tn.a.question_main&&"AnswerComment"===t&&0===l.numDisplayComments)&&e.renderCollapsedComments.call(e,!1)}))})))}},{key:"renderCollapsedComments",value:function(e){var n=this;return 0===this.props.container.numCommentsCollapsed?null:ne.createElement(ae.a,{query:l.queries.loadCollapsedComments,variables:{id:this.props.container.id}},(function(l){var a,i=l.loading,t=l.error,r=l.data;return i?e?null:ne.createElement(bl.c,null):t?null:(null===r||void 0===r||null===(a=r.node)||void 0===a?void 0:a.numCommentsCollapsed)!==undefined&&r.node.numCommentsCollapsed>0&&ne.createElement(Za,{container:r.node,isCommentsDisabled:n.isCommentsDisabled()})}))}},{key:"renderAddRoot",value:function(){var e=this,n=this.props,l=n.container,a=n.hideAddRoot,i=n.onClick;return a?null:ne.createElement(ii,{container:l,onCommentAdded:function(n){var l=n.commentId;e.state.commentsAdded.includes(l)||e.setState((function(e){return{commentsAdded:[l].concat(e.commentsAdded)}})),null===i||void 0===i||i()},isCommentsDisabled:this.isCommentsDisabled()})}},{key:"render",value:function(){var e=this.props.isBorderAll;return ne.createElement(ie.h,{isBorderAll:e},this.renderAddRoot(),this.renderCommentsAdded(),!Object(un.a)()&&ne.createElement(me.d,{borderTop:!0},ne.createElement(ri.a,{borderBottom:!1,bg:"ultralight_gray",titleText:ne.createElement(he.J,null,"Comments")})),this.renderCommentsList())}}]),l}(ne.Component);si.fragments={container:void 0!==ni?ni:ni=t},si.queries={addedComment:void 0!==li?li:li=i,loadCollapsedComments:void 0!==ai?ai:ai=a},si.displayName="CommentArea";n.a=Object(le.b)(si)},zm58:function(e,n,l){"use strict";l.d(n,"a",(function(){return I}));var a=l("8ZkK"),i=l.n(a),t=l("tQZz"),r=l.n(t),s=l("10u2"),o=l.n(s),u=l("MMxs"),d=l.n(u),m=l("q1tI"),c=l("sEfC"),g=l.n(c),p=l("bdgK"),y=l("nwxp"),k=l("yju1"),f=l("0xW3"),v=l("jufJ"),F=l("EreF"),C=l("AFGi"),S=l("nW6E"),h=l("RA+f"),K=l("LJFN"),b=l("4Xda"),T=l("SKAY"),L=l("rS24"),I=function(e){o()(l,e);var n=d()(l);function l(e){var a,t;return i()(this,l),(t=n.call(this,e)).editorRef=void 0,t.containerRef=void 0,t.resizeObserver=void 0,t.debouncedSaveDraft=void 0,t.lastSavedDraft=void 0,t.photoPermissionMessageHandler=void 0,t.handleSaveDraft=function(){var e=t.props.onNavButtonClick;t.saveDraft(!1),e&&e(t.editorRef.current.save())},t.handleClearDraft=function(){var e=t.props.onNavButtonClick;t.clearDraft(!1),e&&e(t.editorRef.current.save())},t.editorRef=null!==(a=e.ref)&&void 0!==a?a:m.createRef(),t.containerRef=m.createRef(),t.lastSavedDraft=undefined,t.debouncedSaveDraft=g()((function(){t.props.saveDraft&&t.saveDraft(!0)}),750,{maxWait:1e4,trailing:!0}),t}return r()(l,[{key:"componentDidMount",value:function(){if(Object(y.g)()){var e=this.props.saveDraft;Object(K.f)()?(Object(T.registerMessageHandler)("qtextNativeSaveDraft",this.handleSaveDraft),Object(T.registerMessageHandler)("qtextNativeClearDraft",this.handleClearDraft)):(Object(f.handleEventFromWebnode)("qtextNativeSaveDraft",this.handleSaveDraft),Object(f.handleEventFromWebnode)("qtextNativeClearDraft",this.handleClearDraft)),Object(k.a)("setupEditor",{hasDraft:!!e})}this.setupResizeObserver()}},{key:"componentWillUnmount",value:function(){this.resizeObserver&&this.resizeObserver.disconnect(),Object(y.g)()&&this.photoPermissionMessageHandler&&(Object(T.removeMessageHandler)("imageButtonTapped",this.photoPermissionMessageHandler),Object(K.f)()&&(Object(T.removeMessageHandler)("qtextNativeSaveDraft",this.handleSaveDraft),Object(T.removeMessageHandler)("qtextNativeClearDraft",this.handleClearDraft)))}},{key:"componentDidUpdate",value:function(e){var n;!this.props.onEditorContentHeightChange&&e.onEditorContentHeightChange&&(null===(n=this.resizeObserver)||void 0===n||n.disconnect())}},{key:"renderPhotoPermissionModal",value:function(){var e=this;return m.createElement(L.a,null,(function(n){return e.photoPermissionMessageHandler||(e.photoPermissionMessageHandler=function(e){var l;return n(null!==(l=null===e||void 0===e?void 0:e.photoAuthorizationStatus)&&void 0!==l?l:0)},Object(T.registerMessageHandler)("imageButtonTapped",e.photoPermissionMessageHandler)),null}))}},{key:"setupResizeObserver",value:function(){var e=this.props.onEditorContentHeightChange;if(e&&this.containerRef.current){var n=new p.a((function(n){n.forEach((function(n){var l=n.contentRect.height;e(Math.round(l))}))}));n.observe(this.containerRef.current),this.resizeObserver=n}}},{key:"saveDraft",value:function(e){var n=this.props.saveDraft;if(n&&this.editorRef.current){var l=this.editorRef.current.save();e&&JSON.stringify(l)===this.lastSavedDraft||(n(l,e),this.lastSavedDraft=JSON.stringify(l),Object(y.g)()&&!e&&Object(k.a)("draftSaveComplete",{success:!0}))}}},{key:"clearDraft",value:function(e){var n=this.props,l=n.saveDraft,a=n.editorKey;l&&(l(Object(C.h)(),e),Object(y.g)()&&Object(k.a)("draftClearComplete",{key:a,success:!0}))}},{key:"showDiscardActionSheet",value:function(){var e=this,n=this.props.onNavButtonClick;Object(k.a)("showActionSheet",{title:"",buttonTitles:[Object(v.Z)("Discard"),Object(v.Z)("Keep Editing")],destructiveButtonIndex:0},(function(l){0===l.buttonIndex&&n&&n(e.editorRef.current.save())}))}},{key:"showDraftActionSheet",value:function(){var e=this,n=this.props.onNavButtonClick;Object(k.a)("showActionSheet",{title:"",buttonTitles:[Object(v.Z)("Clear Draft"),Object(v.Z)("Save Draft"),Object(v.Z)("Keep Editing")],destructiveButtonIndex:0},(function(l){var a=l.buttonIndex;if(0===a)e.clearDraft(!1);else{if(1!==a)return;e.saveDraft(!1)}n&&n(0===a?Object(C.h)():e.editorRef.current.save())}))}},{key:"isDirty",value:function(){var e,n;return null!==(e=null===(n=this.editorRef.current)||void 0===n?void 0:n.isDirty())&&void 0!==e&&e}},{key:"focusEditor",value:function(){var e;null===(e=this.editorRef.current)||void 0===e||e.focusEditor()}},{key:"save",value:function(){var e;return null===(e=this.editorRef.current)||void 0===e?void 0:e.save()}},{key:"onNavButtonClick",value:function(){var e=this.props,n=e.onNavButtonClick,l=e.saveDraft;Object(y.g)()&&this.isDirty()?l?this.showDraftActionSheet():this.showDiscardActionSheet():n&&n(this.editorRef.current.save())}},{key:"render",value:function(){var e=this,n=this.props,l=n.header,a=n.footer,i=n.placeholder,t=n.onPrimaryButtonClick,r=n.primaryButtonDisabled,s=n.showPrimaryButton,o=void 0===s||s,u=n.editorKey,d=n.onFirstChange,c=n.startingContent,g=void 0===c?Object(C.h)():c,p=n.showToolbar,k=void 0===p||p,f=n.titleText,T=void 0===f?Object(v.Z)("Editor"):f,L=n.showTitleText,I=void 0===L||L,w=n.primaryButtonText,E=void 0===w?Object(v.Z)("Post"):w,_=n.secondaryButtonProps,A=n.extraBodyProps,D=n.hasPadding,R=n.subtitleText,V=n.navButton,P=void 0===V?"back":V,O=n.clearOnSubmit,N=void 0!==O&&O,U=n.modalLayoutHeaderExtra,B=n.modalLayoutHeader,x=n.onEditorMeaningfulChange,j=n.stickyButtonInfo,M=n.useLightWeightContentStyleToolBar,q=void 0!==M&&M,H=n.contentContext;return m.createElement(S.f,{hasPadding:D,navButton:P,footerExtra:a,primaryButtonProps:o&&{text:E,onClick:function(){t&&(t(e.editorRef.current.save()),N&&e.editorRef.current.clear())},disabled:r},extraBodyProps:A,secondaryButtonProps:_,navButtonProps:{onClick:function(){return e.onNavButtonClick()}},titleText:I&&T,subtitleText:R,headerExtra:U,header:B},l,m.createElement(h.d,{height:Object(y.b)()?"50vh":undefined},q?m.createElement(b.a.Consumer,null,(function(n){return m.createElement(h.d,{px:"medium",pt:"small",innerRef:e.containerRef},m.createElement(F.a,{placeholder:i,content:g,editorKey:u,ref:e.editorRef,onMeaningfulChange:function(n){d&&!e.isDirty()&&d(),null===x||void 0===x||x(n),e.debouncedSaveDraft()},settingOverrides:{imageRemoveButtonEnabled:!0,qtext_hyperlink_embed:!0,qtextReactHyperlinkEmbed:!0,lightWeightContentToolbar:Object(K.d)(),eagerImageUploading:Object(K.d)(),isDarkModeOn:n.isDarkModeOn,minHeight:Object(y.e)()?"50vh":"260px"},isToolbarBottom:!Object(y.f)(),editorPaddingReset:!0,toolbarOnWeb:k,toolbarOnMobile:k,stickyButtonInfo:j,contentContext:H}),Object(y.g)()&&e.renderPhotoPermissionModal())})):m.createElement(F.a,{placeholder:i,content:g,editorKey:u,ref:this.editorRef,onMeaningfulChange:function(n){d&&!e.isDirty()&&d(),null===x||void 0===x||x(n),e.debouncedSaveDraft()},toolbarOnWeb:k,toolbarOnMobile:k})))}}]),l}(m.Component);I.defaultProps={hasPadding:!1},I.displayName="EditorModalLayout"}}]);