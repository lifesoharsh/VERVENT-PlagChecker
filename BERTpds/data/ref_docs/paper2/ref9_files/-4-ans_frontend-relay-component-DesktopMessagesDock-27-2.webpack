(window.ansFrontendRelayWebpackJsonpFunction=window.ansFrontendRelayWebpackJsonpFunction||[]).push([["component-DesktopMessagesDock"],{"+ISc":function(e,n,a){"use strict";a.r(n),a.d(n,"MESSAGE_DOCK_WIDTH",(function(){return ie})),a.d(n,"default",(function(){return ue}));var l={};a.r(l),a.d(l,"default",(function(){return _}));var t={};a.r(t),a.d(t,"default",(function(){return w}));var r={};a.r(r),a.d(r,"default",(function(){return C}));var i={};a.r(i),a.d(i,"default",(function(){return q}));var s={};a.r(s),a.d(s,"default",(function(){return B}));var o=a("8ZkK"),u=a.n(o),d=a("tQZz"),c=a.n(d),m=a("g8yt"),g=a.n(m),p=a("10u2"),f=a.n(p),h=a("MMxs"),y=a.n(h),b=a("vOnD"),k=function(){var e=[{kind:"LocalArgument",name:"threadId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"includeThread",type:"Boolean!",defaultValue:null}],n=[{kind:"Variable",name:"threadId",variableName:"threadId"}],a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},t=[l,a,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}];return{kind:"Request",fragment:{kind:"Fragment",name:"DesktopMessagesDockHeaderQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"FragmentSpread",name:"DesktopMessagesDockHeader_viewer",args:null}]},{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"includeThread",selections:[{kind:"LinkedField",alias:null,name:"thread",storageKey:null,args:n,concreteType:"Thread",plural:!1,selections:[{kind:"FragmentSpread",name:"DesktopMessagesDockHeader_thread",args:null}]}]}]},operation:{kind:"Operation",name:"DesktopMessagesDockHeaderQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"inboxCount",args:null,storageKey:null},a]},{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"includeThread",selections:[{kind:"LinkedField",alias:null,name:"thread",storageKey:null,args:n,concreteType:"Thread",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"threadId",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"otherUsers",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},a,l,{kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:t},{kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:t},{kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"annotate_with_ids",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}]},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerBundleSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"consumerBundleActive",args:null,storageKey:null}]}]},a]}]}]},params:{operationKind:"query",name:"DesktopMessagesDockHeaderQuery",id:"37f1e352a172822519121cd9032843d9149ff0e208d4b1fbe07bb2ee74c1bc51",text:null,metadata:{}}}}();k.hash="21904b2120277f86a31cdd90c89e56fd";var _=k,v=function(){var e=[{kind:"LocalArgument",name:"threadId",type:"BigInt!",defaultValue:null}],n=[{kind:"Variable",name:"threadId",variableName:"threadId"}],a={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},i=[t,l,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],s={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:i},o={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:i},u={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},p={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"annotate_with_ids",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}]},f={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerBundleSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"consumerBundleActive",args:null,storageKey:null}]},h=[{kind:"Literal",name:"first",value:20}];return{kind:"Request",fragment:{kind:"Fragment",name:"DesktopMessagesDockThreadQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"thread",storageKey:null,args:n,concreteType:"Thread",plural:!1,selections:[{kind:"FragmentSpread",name:"MessagesThread_thread",args:null}]}]},operation:{kind:"Operation",name:"DesktopMessagesDockThreadQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"thread",storageKey:null,args:n,concreteType:"Thread",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"otherUsers",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[a,l,t,r,s,o,u,d,c,m,g,{kind:"ScalarField",alias:null,name:"viewerCanMessage",args:null,storageKey:null},p,f]},{kind:"ScalarField",alias:null,name:"threadId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isFromModeration",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[{kind:"LinkedField",alias:"helpCenterLink",name:"link",storageKey:'link(name:"help_center")',args:[{kind:"Literal",name:"name",value:"help_center"}],concreteType:"Link",plural:!1,selections:[l,t,{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null}]},l]},{kind:"ScalarField",alias:null,name:"numMessages",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isUnreadForViewer",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isPotentialSpamForViewer",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"eligibleToSendReason",args:null,storageKey:null},l,{kind:"ScalarField",alias:null,name:"reportableId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[l,{kind:"ScalarField",alias:null,name:"inboxCount",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"profileNavBadgeCount",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"messagesConnection",storageKey:"messagesConnection(first:20)",args:h,concreteType:"MessagesConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"MessageEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Message",plural:!1,selections:[l,{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[a,l,u,d,c,m,t,g,r,s,o,f,p]},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"time",args:null,storageKey:null},t]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},l]},l]},{kind:"LinkedHandle",alias:null,name:"messagesConnection",args:h,handle:"connection",key:"MessagesThread_messagesConnection",filters:null}]}]},params:{operationKind:"query",name:"DesktopMessagesDockThreadQuery",id:"e2d75e5ce615529eb576d7c376ce18047f32b7610cb3b86481be59f9806cb5cf",text:null,metadata:{}}}}();v.hash="35d74edf0b6a1241eb030827be7665aa";var F,S,w=v,E={kind:"Fragment",name:"DesktopMessagesDock_viewer",type:"Viewer",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"FragmentSpread",name:"MessageThreadList_viewer",args:null}],hash:"2f9084286d843f16d785b4181a3e3738"},C=E,K=a("jufJ"),O=a("HC+x"),T=a("RA+f"),M=a("I2ps"),L=a("q1tI"),I=a.n(L),x=a("D5Zh"),j=a("/bbo"),R=a("gujl"),U=a("UyMh"),N=a("4Xda"),D=a("td6z"),V=a("ga2z"),P={kind:"Fragment",name:"DesktopMessagesDockHeader_viewer",type:"Viewer",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"inboxCount",args:null,storageKey:null}],hash:"f9ae5dc8df26fe805a2ee2d971509027"},q=P,A={kind:"Fragment",name:"DesktopMessagesDockHeader_thread",type:"Thread",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"threadId",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"otherUsers",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},{kind:"FragmentSpread",name:"UserName_user",args:null},{kind:"FragmentSpread",name:"UserPhoto_user",args:null}]}],hash:"d948d742b4aaa2e4e7e697d3c7062e2a"},B=A,H=a("R+um"),z=a("r+vq"),W=a("VyO/"),Q=a("zLpq"),J=a("OMLc"),Z=a("zUwh"),G=a("xGwX"),Y=function(e){f()(a,e);var n=y()(a);function a(){return u()(this,a),n.apply(this,arguments)}return c()(a,[{key:"renderDefaultHeader",value:function(){var e=this.props.viewer;return I.a.createElement(I.a.Fragment,null,(null===e||void 0===e?void 0:e.inboxCount)>0&&I.a.createElement(G.b,{count:e.inboxCount,mr:"tiny"}),I.a.createElement(T.r,{flex:1,fontSize:"regular",medium:!0},I.a.createElement(K.J,null,"Messages")),I.a.createElement(Q.a,{size:"small",icon:I.a.createElement(J.a,{name:this.props.isExpanded?"ChevronDown":"ChevronUp"})}))}},{key:"render",value:function(){var e=this.props.thread;return e?I.a.createElement(I.a.Fragment,null,this.props.isExpanded&&I.a.createElement(Q.a,{size:"small",icon:I.a.createElement(J.a,{name:"ChevronLeft"}),onClick:this.props.onBackClick,tooltipText:I.a.createElement(K.J,null,"Back to message list")}),I.a.createElement(T.i,{alignItems:"center",flex:1,minWidth:0},1===e.otherUsers.length&&I.a.createElement(z.a,{user:e.otherUsers[0],flexGrow:0,flexShrink:0,linked:!1,includeHovercard:!1,size:18}),I.a.createElement(T.r,{fontSize:"regular",pl:"small",medium:!0,overflow:"hidden",whiteSpace:"nowrap",flex:1,minWidth:0,underlineLinks:!1},I.a.createElement(K.x,null,e.otherUsers.map((function(e){return I.a.createElement(H.b,{user:e,key:e.uid})}))))),this.props.isExpanded&&I.a.createElement(Q.a,{size:"small",icon:I.a.createElement(J.a,{name:"Expand"}),onClick:this.props.onExpand,tooltipText:I.a.createElement(K.J,null,"Open in message inbox"),tooltipPlacement:"top"}),I.a.createElement(Q.a,{size:"small",icon:I.a.createElement(J.a,{name:this.props.isExpanded?"ChevronDown":"ChevronUp"})})):this.renderDefaultHeader()}}]),a}(I.a.Component);Y.fragments={thread:void 0!==F?F:F=s,viewer:void 0!==S?S:S=i},Y.displayName="DesktopMessagesDockHeader";var X,$,ee,ne=function(){return I.a.createElement(T.i,{height:38,alignItems:"center",px:"medium"},I.a.createElement(Z.g,{bgColor:"raised"},I.a.createElement(Z.j,{width:80,fontSize:"regular",maskColor:"raised"})))},ae=Object(W.b)(Y),le=a("ujEb"),te=a("LsXc"),re=a("LDS9"),ie=320,se=Object(b["default"])(T.h).withConfig({displayName:"DesktopMessagesDock___StyledFixed",componentId:"sc-1bh1698-0"})(["transform:translateY( "," );"],(function(e){return e._css})),oe=Object(b["default"])(T.a).withConfig({displayName:"DesktopMessagesDock___StyledAbsolute",componentId:"sc-1bh1698-1"})(["&:hover > div{opacity:0.6 !important;}"]),ue=function(e){f()(a,e);var n=y()(a);function a(e){var l;return u()(this,a),(l=n.call(this,e)).scrollRef=void 0,l.scrollingElementRef=void 0,l.containerRef=void 0,l.scrollHeight=void 0,l.dragHandleHeight=void 0,l.state={isExpanded:"true"===Object(M.a)("dock-expand-state"),bodyHeight:0,hasMounted:!1,currentThreadId:undefined,isDragging:!1,dockHeight:parseInt(Object(M.a)("dock-height")||"60")},l.scrollRef=I.a.createRef(),l.scrollingElementRef=I.a.createRef(),l.containerRef=I.a.createRef(),l.scrollHeight=0,l.dragHandleHeight=24,l.handleNavbarClick=l.handleNavbarClick.bind(g()(l)),l.handleWindowResize=l.handleWindowResize.bind(g()(l)),l.onThreadClick=l.onThreadClick.bind(g()(l)),l.handleDragHandleMouseDown=l.handleDragHandleMouseDown.bind(g()(l)),l.handleDrag=l.handleDrag.bind(g()(l)),l.handleDragHandleMouseCancel=l.handleDragHandleMouseCancel.bind(g()(l)),l}return c()(a,[{key:"handleNavbarClick",value:function(){Object(M.e)("dock-expand-state",!this.state.isExpanded,{expires:0}),this.setState((function(e){return Object.assign({},e,{isExpanded:!e.isExpanded})}))}},{key:"handleWindowResize",value:function(){var e,n;null!==(e=this.scrollRef)&&void 0!==e&&e.current&&this.setState({bodyHeight:null===(n=this.scrollRef.current)||void 0===n?void 0:n.clientHeight})}},{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({hasMounted:!0})}),500),window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()}},{key:"onThreadClick",value:function(e){this.setState({currentThreadId:e})}},{key:"renderThreadList",value:function(){var e=this.props.viewer;return e?I.a.createElement(te.a,{viewer:e,onItemClick:this.onThreadClick}):I.a.createElement(D.c,{fillParent:!0})}},{key:"handleDragHandleMouseDown",value:function(){this.state.isDragging||(this.setState({isDragging:!0}),window.addEventListener("mousemove",this.handleDrag),window.addEventListener("mouseup",this.handleDragHandleMouseCancel,{once:!0}))}},{key:"handleDragHandleMouseCancel",value:function(){this.state.isDragging&&(this.setState({isDragging:!1}),window.removeEventListener("mousemove",this.handleDrag),this.handleWindowResize(),Object(M.e)("dock-height",this.state.dockHeight))}},{key:"handleDrag",value:function(e){e.preventDefault();var n=window.innerHeight;this.setState({dockHeight:Math.max(Math.min(80,(n-e.y-this.dragHandleHeight/2)/n*100),40)})}},{key:"renderThread",value:function(){return this.state.currentThreadId?I.a.createElement(x.a,{query:a.queries.thread,variables:{threadId:this.state.currentThreadId}},(function(e){var n=e.loading,a=e.error,l=e.data;return n?Object(re.b)(!0):!a&&l&&l.thread?I.a.createElement(le.a,{thread:l.thread,minHeight:"1%"}):I.a.createElement(R.a,{type:"error",bg:"transparent",title:I.a.createElement(K.J,null,"Something went wrong"),body:I.a.createElement(K.J,null,"Wait a moment and try again."),buttonComponent:I.a.createElement(j.a,{text:I.a.createElement(K.J,null,"Refresh page"),size:"small",onClick:function(){window.location.reload()}})})})):I.a.createElement(I.a.Fragment,null)}},{key:"render",value:function(){var e=this;return I.a.createElement(re.a.Provider,{value:{container:"dock"}},I.a.createElement(N.a.Consumer,null,(function(n){return I.a.createElement(b.ThemeConsumer,null,(function(l){return I.a.createElement(se,{bottom:0,zIndex:l.zIndices.header-1,height:"".concat(e.state.dockHeight,"vh"),right:8,bg:"raised",display:"flex",flexDirection:"column",width:e.state.isExpanded?ie:240,boxShadow:"0 0 0 1px ".concat(n.isDarkModeOn?"rgba(255, 255, 255, .1)":"rgba(0, 0, 0, .1)",", ").concat(l.shadows.medium).concat(e.state.isExpanded?", rgb(0 0 0 / 20%) 0px 0px 30px":""),borderTopLeftRadius:"small",borderTopRightRadius:"small",innerRef:e.containerRef,transitionProperty:e.state.hasMounted?"transform":undefined,transitionDuration:e.state.hasMounted?"120ms":"0ms",transitionTimingFunction:T.w,_css:e.state.isExpanded?"0":e.state.bodyHeight+"px"},I.a.createElement(V.a,{wrapperRef:e.containerRef},(function(l){var t=l.isHovered;return I.a.createElement(I.a.Fragment,null,e.state.isExpanded&&I.a.createElement(oe,{bottom:"calc(100%)",fullX:!0,height:e.dragHandleHeight,display:"flex",alignItems:"center",justifyContent:"center",onMouseDown:e.handleDragHandleMouseDown,cursor:"ns-resize",opacity:t||e.state.isDragging?1:0,transition:"opacity",transitionDelay:t?"200ms":undefined},I.a.createElement(T.d,{width:36,height:4,borderRadius:"pill",bg:n.isDarkModeOn?"rgba(255, 255, 255, 0.5)":"gray_dark",opacity:e.state.isDragging?.6:.4})),I.a.createElement(T.e,{p:"tiny",pl:e.state.currentThreadId&&e.state.isExpanded?"tiny":"small",alignItems:"center",display:"flex",onClick:e.handleNavbarClick,underlineLinks:!1,underlineHover:!1,borderRadius:"inherit",userSelect:"none",borderBottom:e.state.isExpanded,height:38,hover:{bg:"darken"}},I.a.createElement(x.a,{query:a.queries.header,variables:{threadId:e.state.currentThreadId||0,includeThread:e.state.currentThreadId!==undefined}},(function(n){var a=n.loading,l=n.error,t=n.data;return a||l||!t?I.a.createElement(ne,null):I.a.createElement(ae,{thread:t.thread?t.thread:null,viewer:t.viewer,isExpanded:e.state.isExpanded,onBackClick:function(n){n.stopPropagation(),e.setState({currentThreadId:undefined})},onExpand:function(n){n.stopPropagation(),Object(U.b)("/messages/thread/"+e.state.currentThreadId)}})}))),I.a.createElement(T.i,{flexDirection:"column",flex:1,innerRef:e.scrollRef,height:0},I.a.createElement(O.a,{flex:1,useShadows:!0,height:0,wrapperProps:{display:"flex",flexDirection:"column",flex:1,height:0},innerRef:e.scrollingElementRef},!e.state.currentThreadId&&e.renderThreadList(),e.state.currentThreadId&&e.renderThread())))})))}))})))}}]),a}(I.a.Component);ue.fragments={viewer:void 0!==X?X:X=r},ue.queries={thread:void 0!==$?$:$=t,header:void 0!==ee?ee:ee=l},ue.displayName="DesktopMessagesDock"},"+pxc":function(e,n,a){"use strict";a.d(n,"a",(function(){return r}));var l=a("SKAY"),t=a("nwxp"),r=function(){var e=a("kI88");return{isMobile:Object(t.e)(),isIPad:t.n,isIOSApp:Object(t.c)(),isAndroidApp:Object(t.a)(),isNativeApp:Object(t.g)(),isIOS:t.m,isAndroid:t.l,isIOSMobileWeb:Object(t.f)()&&t.m,buildNumber:Object(l.getBuildNumber)()||0,debug:Object(l.getDebugToolsEnabled)(),isMSEdge:!!e.msedge,isMSIE:!!e.msie,isGecko:!!e.gecko,isWebkit:!!e.webkit,isFirefox:!!e.firefox,isSafari:!!e.safari,webkitVersion:0,isUIWebView:Object(t.k)(),osVersion:parseFloat(e.osversion)}}},"/7tQ":function(e,n,a){"use strict";a.d(n,"a",(function(){return T}));var l={};a.r(l),a.d(l,"default",(function(){return h}));var t={};a.r(t),a.d(t,"default",(function(){return b}));var r=a("8ZkK"),i=a.n(r),s=a("tQZz"),o=a.n(s),u=a("10u2"),d=a.n(u),c=a("MMxs"),m=a.n(c),g=function(){var e=[{kind:"LocalArgument",name:"enable",type:"Boolean!",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"setMessagesUnreadFilterSetting",storageKey:null,args:[{kind:"Variable",name:"enable",variableName:"enable"}],concreteType:"SetMessagesUnreadFilterSetting",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"UnreadMessagesFilterSwitch_setMessagesUnreadFilterSetting_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"UnreadMessagesFilterSwitch_setMessagesUnreadFilterSetting_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"UnreadMessagesFilterSwitch_setMessagesUnreadFilterSetting_Mutation",id:"e2b968d684bcd968dd729a868d615cf5894d97861613fafe3d5dcac9d6436724",text:null,metadata:{}}}}();g.hash="27974f49ca3d9d29614f80dd51d890b1";var p,f,h=g,y={kind:"Fragment",name:"UnreadMessagesFilterSwitch_viewer",type:"Viewer",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"userSettings",storageKey:null,args:null,concreteType:"UserSettings",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"messagesSettings",storageKey:null,args:null,concreteType:"MessagesSettings",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isUnreadFilterEnabled",args:null,storageKey:null}]}]}],hash:"66abdc17e9d0eee21a7a0d8ef28d06c7"},b=y,k=a("q1tI"),_=a("VyO/"),v=a("jufJ"),F=a("HuEa"),S=a("/WJJ"),w=a("MI6j"),E=a("nwxp"),C=a("SW3P"),K=a("LNH1"),O=a("RA+f"),T=36,M=function(e){d()(a,e);var n=m()(a);function a(){var e;i()(this,a);for(var l=arguments.length,t=new Array(l),r=0;r<l;r++)t[r]=arguments[r];return(e=n.call.apply(n,[this].concat(t))).setMessagesUnreadFilterSettingMutation=function(e,n){return Object(_.c)({mutation:a.mutations.setMessagesUnreadFilterSetting,variables:{enable:n}}).then((function(n){var a;(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.setMessagesUnreadFilterSetting).success?window.location.reload():e.genericError()}))},e}return o()(a,[{key:"render",value:function(){var e,n,a=this,l=this.props.viewer;if(!Object(C.a)("unread_messages_filter"))return null;var t=Object(v.Z)("Show Unread Only"),r=null!==(e=null===(n=l.userSettings)||void 0===n?void 0:n.messagesSettings.isUnreadFilterEnabled)&&void 0!==e&&e;return k.createElement(K.b,null,(function(e){return Object(E.b)()?k.createElement(O.a,{bottom:"small",left:"medium",right:"medium",borderRadius:"small",boxShadow:"small",bg:"raised",borderColor:"raised",borderAll:!0,zIndex:"popover",height:T,display:"flex",alignItems:"center"},k.createElement(w.c,{size:"dense",mainText:t,alignSecondaryComponent:"start",borderBottom:!1,secondaryComponent:k.createElement(S.a,{size:"small",checked:r,onChange:function(){a.setMessagesUnreadFilterSettingMutation(e,!r)}}),preventDefaultOnClickSecondaryComponent:!1,showSecondaryComponentBefore:!0})):k.createElement(w.c,{mainText:t,secondaryComponent:k.createElement(F.a,{enabled:r,onChange:a.setMessagesUnreadFilterSettingMutation(e,!r)}),preventDefaultOnClickSecondaryComponent:!1})}))}}]),a}(k.Component);M.fragments={viewer:void 0!==p?p:p=t},M.mutations={setMessagesUnreadFilterSetting:void 0!==f?f:f=l},M.displayName="UnreadMessagesFilterSwitch";n.b=Object(_.b)(M)},"/nKJ":function(e,n,a){"use strict";a.d(n,"a",(function(){return s})),a.d(n,"b",(function(){return o}));var l=a("nwxp"),t=a("yju1"),r=a("qS63"),i=a("jufJ"),s=function(e,n){var a=e.title,s=e.message,o=e.cancelButtonTitle,u=void 0===o?null:o,d=e.otherButtonTitles,c=void 0===d?null:d,m={title:a,message:s};!u&&Object(l.g)()||(m.cancelButtonTitle=u),!c&&Object(l.g)()||(m.otherButtonTitles=c);var g=function(){Object(l.g)()?Object(t.a)("showAlert",m,n):(m.cancelButtonTitle||(m.cancelButtonTitle=Object(i.Z)("Cancel")),Object(r.a)(m,n))};Object(l.e)()?setTimeout(g,100):g()},o=function(e){var n=e.title,a=e.message,l=e.submitButtonTitle,t=e.onAccept,r=e.onCancel;return s({title:n,message:a,cancelButtonTitle:Object(i.Z)("Cancel"),otherButtonTitles:[null!==l&&void 0!==l?l:Object(i.Z)("OK")]},(function(e){e.buttonIndex>0?t():null===r||void 0===r||r()}))}},"4n8n":function(e,n,a){"use strict";a.d(n,"a",(function(){return u}));var l=a("q1tI"),t=a.n(l),r=a("vOnD"),i=a("nwxp"),s=a("RA+f"),o=a("VwdU");function u(e){return t.a.createElement(o.a,{condition:!(!e.hasFloatingActionButtonOnApp||!Object(i.g)())||!(!e.hasFloatingActionButtonOnMweb||!Object(i.f)()),wrapper:function(e){return t.a.createElement(r.ThemeContext.Consumer,null,(function(n){return t.a.createElement(s.d,{pb:58+2*n.space.medium},e)}))}},e.children)}},"6pr2":function(e,n,a){"use strict";a.d(n,"b",(function(){return f}));var l=a("q1tI"),t=a("yju1"),r=a("jufJ"),i=a("/bbo"),s=a("zLpq"),o=a("59Xv"),u=a("4oNN"),d=a("Ure0"),c=a("lK61"),m=a("NHYY"),g=a("9ALW"),p=a("OMLc"),f=function(e,n,a,l){var i=n.filter((function(e){return!e.shouldHide})),s=i.findIndex((function(e){return e.isDestructive}));Object(t.a)("showActionSheet",{title:e,buttonTitles:i.map((function(e){return e.label})),buttonSubtitles:i.map((function(e){return e.subLabel||Object(r.Z)("")})),destructiveButtonIndex:s},(function(e){var n=e.buttonIndex;if(!(n<0||n>=i.length)){var t=i[n];t&&setTimeout((function(){!function(e,n,a){var l,t,r;if(e.onSelected(n),null!==e&&void 0!==e&&null!==(l=e.feedLoggingType)&&void 0!==l&&l.loggingName&&(null===(t=null===e||void 0===e||null===(r=e.feedLoggingType)||void 0===r?void 0:r.shouldLog)||void 0===t||t)){var i={};e.feedLoggingType.metadata&&(i=e.feedLoggingType.metadata),a(e.feedLoggingType.loggingName,i)}}(t,a,l)}),100)}}))},h=function(){var e=1;return function(){return e++}}(),y=function(e){var n=e.title,a=e.items,t=e.forceOpen,f=e.enableOverflowFlip,y=void 0===f||f,b=e.size,k=void 0===b?"regular":b,_=e.alignment,v=void 0===_?"top":_,F=e.tooltipText,S=e.isInModal,w=void 0!==S&&S,E=e.buttonProps,C=e.onClick,K=e.menuWrapperRef,O=l.useContext(g.d),T=l.useContext(m.a),M=Object(c.b)(),L=l.useRef(h());l.useEffect((function(){var e=L.current;return function(){return null===M||void 0===M?void 0:M.setMenuElement(e,undefined)}}),[M]);var I=0,x=O.flushContent&&["end","start"].includes(O.flushContent);return x&&(I=Math.floor(Object(s.b)(!1,O.size||k))/2,I="end"===O.flushContent?(T===m.b.LTR?1:-1)*I:(T===m.b.LTR?-1:1)*I),l.createElement(u.a,{alignment:v,menuItems:a,title:n,forceOpen:t,enableOverflowFlip:y,isInModal:w,wrapperRef:function(e){null===M||void 0===M||M.setMenuElement(L.current,e),K&&("function"===typeof K?K(e):K.current=e)},popperArrowOffset:"stacked"!==(null===E||void 0===E?void 0:E.type)&&x?I:undefined},(function(e){var n=function(){e(),null===C||void 0===C||C()},a=Object(r.Z)("More"),t={onClick:n,tooltipText:F,size:k,className:"puppeteer_test_overflow_menu"};switch(null===E||void 0===E?void 0:E.type){case"navBar":return l.createElement(d.c,{iconName:"Overflow",onClick:n});case"stacked":return l.createElement(o.a,Object.assign({},t,{icon:l.createElement(p.a,{name:"Overflow"}),text:a}));case"pill":return l.createElement(i.a,Object.assign({},t,{icon:l.createElement(p.a,{name:"Overflow","aria-label":a}),variant:E.variant}));default:return l.createElement(s.a,Object.assign({},t,{icon:l.createElement(p.a,{name:"Overflow","aria-label":a}),variant:"flat"===(null===E||void 0===E?void 0:E.type)?E.variant:undefined}))}}))};y.displayName="OverflowMenu",n.a=y},"7yJA":function(e,n,a){"use strict";var l={};a.r(l),a.d(l,"default",(function(){return y}));var t={};a.r(t),a.d(t,"default",(function(){return K}));var r={};a.r(r),a.d(r,"default",(function(){return T}));var i={};a.r(i),a.d(i,"default",(function(){return D}));var s={};a.r(s),a.d(s,"default",(function(){return A}));var o=a("8ZkK"),u=a.n(o),d=a("tQZz"),c=a.n(d),m=a("10u2"),g=a.n(m),p=a("MMxs"),f=a.n(p),h=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Fragment",name:"ThreadOverflowMenu_thread",type:"Thread",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"threadId",args:null,storageKey:null},e,{kind:"ScalarField",alias:null,name:"reportableId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"otherUsers",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[{kind:"FragmentSpread",name:"UserName_user",args:null}]},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[e,{kind:"ScalarField",alias:null,name:"inboxCount",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"profileNavBadgeCount",args:null,storageKey:null}]}]}}();h.hash="0379824048376fb626098595bd2b104b";var y=h,b=a("q1tI"),k=a("VyO/"),_=a("XRWA"),v=a("jufJ"),F=a("6pr2"),S=a("ehZD"),w=function(){var e=[{kind:"LocalArgument",name:"threadId",type:"BigInt!",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"hideThread",storageKey:null,args:[{kind:"Variable",name:"threadId",variableName:"threadId"}],concreteType:"HideThread",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"HideThread_hideThread_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"HideThread_hideThread_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"HideThread_hideThread_Mutation",id:"168a83382cac730974e91b57b0a95b67aa73b97f844d67664c018e784392a02b",text:null,metadata:{}}}}();w.hash="4341f536f6d4e3df1cb9cf2f5945291b";var E,C,K=w,O={kind:"Fragment",name:"HideThread_thread",type:"Thread",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"threadId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"otherUsers",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[{kind:"FragmentSpread",name:"UserName_user",args:null}]}],hash:"9589e1c9e82a67478d3644b947998af9"},T=O,M=a("nwxp"),L=a("yju1"),I=a("R+um"),x=a("UyMh"),j=a("/nKJ"),R=function(e){g()(a,e);var n=f()(a);function a(){return u()(this,a),n.apply(this,arguments)}return c()(a,null,[{key:"getOverflowItem",value:function(e,n){var l=n.setToast,t=e.threadId,r=e.otherUsers,i=Object(v.Z)(b.createElement(b.Fragment,null,"Hide Messages from ",b.createElement(I.b,{user:r[0]}))),s=Object(v.Z)(b.createElement(b.Fragment,null,"Messages will be hidden until either you or"," ",b.createElement(I.b,{user:r[0],format:"short"})," sends a new message."));return{label:Object(v.Z)("Mute Conversation"),onSelected:function(){Object(j.b)({title:i,message:s,submitButtonTitle:Object(v.Z)("Hide"),onAccept:function(){return Object(k.c)({mutation:a.mutations.hideThread,variables:{threadId:t}}).then((function(e){e.data.hideThread.success?Object(M.g)()?(Object(L.a)("broadcastAllWebViews",{messageName:"markPageAsDirty",data:{url:"/messages"}}),Object(L.a)("dismiss")):Object(x.b)("/messages","push"):l.genericError()}))}})}}}}]),a}(b.Component);R.fragments={thread:void 0!==E?E:E=r},R.mutations={hideThread:void 0!==C?C:C=t},R.displayName="HideThread";var U=Object(k.b)(R),N=function(){var e=[{kind:"LocalArgument",name:"threadId",type:"BigInt!",defaultValue:null}],n={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a=[{kind:"LinkedField",alias:null,name:"threadMarkUnread",storageKey:null,args:[{kind:"Variable",name:"threadId",variableName:"threadId"}],concreteType:"ThreadMarkUnread",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"thread",storageKey:null,args:null,concreteType:"Thread",plural:!1,selections:[n,{kind:"ScalarField",alias:null,name:"isUnreadForViewer",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[n,{kind:"ScalarField",alias:null,name:"inboxCount",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"profileNavBadgeCount",args:null,storageKey:null}]}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"ThreadMarkUnread_threadMarkUnread_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:a},operation:{kind:"Operation",name:"ThreadMarkUnread_threadMarkUnread_Mutation",argumentDefinitions:e,selections:a},params:{operationKind:"mutation",name:"ThreadMarkUnread_threadMarkUnread_Mutation",id:"2b97165b2dd3eadf4c1d2799993c4523077a3bbf88bb06205e52b67219f3c10a",text:null,metadata:{}}}}();N.hash="da62e8863504e8063dc6fa347df165ff";var D=N,V=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Fragment",name:"ThreadMarkUnread_thread",type:"Thread",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"threadId",args:null,storageKey:null},e,{kind:"LinkedField",alias:null,name:"otherUsers",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[{kind:"FragmentSpread",name:"UserName_user",args:null}]},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[e,{kind:"ScalarField",alias:null,name:"inboxCount",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"profileNavBadgeCount",args:null,storageKey:null}]}]}}();V.hash="b66bc77eb3768a606a20f0741f44fd9d";var P,q,A=V,B=function(e){g()(a,e);var n=f()(a);function a(){return u()(this,a),n.apply(this,arguments)}return c()(a,null,[{key:"getOverflowItem",value:function(e,n){var l=n.setToast,t=e.id,r=e.threadId,i=e.otherUsers,s=e.viewer,o=Object(v.Z)("Mark as Unread"),u=Object(v.Z)(b.createElement(b.Fragment,null,"Are you sure you would like to mark your conversation with"," ",b.createElement(I.b,{user:i[0],format:"short"})," as unread?"));return{label:Object(v.Z)("Mark as Unread"),onSelected:function(){Object(j.b)({title:o,message:u,submitButtonTitle:Object(v.Z)("Mark Unread"),onAccept:function(){return Object(k.c)({mutation:a.mutations.threadMarkUnread,variables:{threadId:r},optimisticResponse:{threadMarkUnread:{success:!0,thread:{id:t,isUnreadForViewer:!0,viewer:{id:s.id,inboxCount:s.inboxCount+1,profileNavBadgeCount:s.profileNavBadgeCount+1}}}}}).then((function(e){e.data.threadMarkUnread.success?Object(M.g)()?(Object(L.a)("broadcastAllWebViews",{messageName:"markPageAsDirty",data:{url:"/messages"}}),Object(L.a)("dismiss")):Object(x.b)("/messages","push"):l.genericError()}))}})}}}}]),a}(b.Component);B.fragments={thread:void 0!==P?P:P=s},B.mutations={threadMarkUnread:void 0!==q?q:q=i},B.displayName="ThreadMarkUnread";var H,z=Object(k.b)(B),W=function(e){g()(a,e);var n=f()(a);function a(){return u()(this,a),n.apply(this,arguments)}return c()(a,[{key:"render",value:function(){var e=this.props,n=e.thread,a=e.variant,l=e.isInModal;return b.createElement(_.a,null,(function(e){var t=[U.getOverflowItem(n,e),z.getOverflowItem(n,e),S.a.getOverflowItem(n,e)];return b.createElement(F.a,{title:Object(v.Z)("Message"),items:t,tooltipText:Object(v.Z)("More"),size:"small",buttonProps:{type:"flat",variant:a},isInModal:l})}))}}]),a}(b.Component);W.fragments={thread:void 0!==H?H:H=l},W.displayName="ThreadOverflowMenu";n.a=Object(k.b)(W)},"Bh+m":function(e,n,a){"use strict";var l;!function(e){e.primary_action_item_modal="primary_action_item_modal",e.voter_list="voter_list",e.carousel="carousel",e.ama="ama",e.fb_autofollow="fb_autofollow",e.twitter_autofollow="twitter_autofollow",e.user_paged_list_item="user_paged_list_item",e.user_card_row="user_card_row",e.find_friends="find_friends",e.ama_multi="ama_multi",e.profile_overflow_menu="profile_overflow_menu",e.widget="widget",e.answer_header="answer_header",e.quora_share_header="quora_share_header",e.identity_follow_link_base="identity_follow_link_base",e.discover_user_item="discover_user_item",e.organize_user_item="organize_user_item",e.answer_upvote_notif="answer_upvote_notif",e.board_item_upvote_notif="board_item_upvote_notif",e.quora_share_author_notif="quora_share_author_notif",e.quora_share_upvote_notif="quora_share_upvote_notif",e.user_follow_notif="user_follow_notif",e.suggested_user_follow_notif="suggested_user_follow_notif",e.asker_list_item="asker_list_item",e.author_feed_reason="author_feed_reason",e.invite="invite",e.profile_page="profile_page",e.profile_hover_card="profile_hover_card",e.metabar_profile="metabar_profile",e.comment_header="comment_header",e.profile_inline_follow="profile_inline_follow",e.suggestions_modal="suggestions_modal",e.tribes_tab="tribes_tab",e.tribe_bundle_header="tribe_bundle_header",e.content_header_inline_follow="content_header_inline_follow",e.tribes_nux_step="tribes_nux_step",e.resharer_list="resharer_list",e.tribes_checklist_step="tribes_checklist_step",e.tribe_topic_page_carousel="tribe_topic_page_carousel",e.question_page_sidebar_suggestions="question_page_sidebar_suggestions",e.question_page_carousel="question_page_carousel",e.tribe_page="tribe_page",e.feed_reason="feed_reason",e.profile_page_following_list="profile_page_following_list",e.answer_page_carousel="answer_page_carousel",e.home_tab="home_tab",e.content_carousel="content_carousel",e.content_carousel_on_expand="content_carousel_on_expand",e.home_tab_bottom="home_tab_bottom",e.digest_carousel="digest_carousel",e.suggestions_email="suggestions_email",e.tribe_page_follow_banner="tribe_page_follow_banner",e.post_header="post_header",e.home_page_suggestions_wall="home_page_suggestions_wall",e.question_page_suggestions_wall="question_page_suggestions_wall",e.tribe_page_carousel="tribe_page_carousel",e.search_bar_empty_state_tribes="search_bar_empty_state_tribes",e.digest_clickthrough_suggestion="digest_clickthrough_suggestion",e.tribe_email_unsubscribe="tribe_email_unsubscribe",e.tribe_hovercard="tribe_hovercard",e.tribe_follow_suggestion_notif="tribe_follow_suggestion_notif",e.feed_story_follow_tribe_prompt="feed_story_follow_tribe_prompt",e.trending_tribe_feed="trending_tribe_feed",e.following_feed="following_feed",e.carousel_suggestions_modal="carousel_suggestions_modal",e.answer_page_carousel_suggestions_modal="answer_page_carousel_suggestions_modal",e.question_page_carousel_suggestions_modal="question_page_carousel_suggestions_modal",e.tribes_tab_suggestions_modal="tribes_tab_suggestions_modal",e.following_feed_carousel="following_feed_carousel",e.following_feed_carousel_suggestions_modal="following_feed_carousel_suggestions_modal",e.search_page="search_page",e.home_feed_sidebar="home_feed_sidebar",e.more_stories_feed="more_stories_feed",e.subscription_program_signup="subscription_program_signup",e.home_feed_tribe_navigation_suggestions="home_feed_tribe_navigation_suggestions",e.tribe_item_page="tribe_item_page",e.suggested_tribe_item_feed_story="suggested_tribe_item_feed_story",e.topic_leaderboards="topic_leaderboards",e.subscription_program_enrollment="subscription_program_enrollment"}(l||(l={})),n.a=l;new Map([[l.primary_action_item_modal,1],[l.voter_list,2],[l.carousel,3],[l.ama,4],[l.fb_autofollow,5],[l.twitter_autofollow,6],[l.user_paged_list_item,7],[l.user_card_row,8],[l.find_friends,9],[l.ama_multi,10],[l.profile_overflow_menu,11],[l.widget,12],[l.answer_header,13],[l.quora_share_header,14],[l.identity_follow_link_base,15],[l.discover_user_item,17],[l.organize_user_item,18],[l.answer_upvote_notif,20],[l.board_item_upvote_notif,21],[l.quora_share_author_notif,22],[l.quora_share_upvote_notif,23],[l.user_follow_notif,24],[l.suggested_user_follow_notif,25],[l.asker_list_item,26],[l.author_feed_reason,27],[l.invite,28],[l.profile_page,29],[l.profile_hover_card,30],[l.metabar_profile,31],[l.comment_header,32],[l.profile_inline_follow,33],[l.suggestions_modal,34],[l.tribes_tab,35],[l.tribe_bundle_header,36],[l.content_header_inline_follow,37],[l.tribes_nux_step,38],[l.resharer_list,39],[l.tribes_checklist_step,40],[l.tribe_topic_page_carousel,41],[l.question_page_sidebar_suggestions,42],[l.question_page_carousel,43],[l.tribe_page,44],[l.feed_reason,45],[l.profile_page_following_list,46],[l.answer_page_carousel,47],[l.home_tab,48],[l.content_carousel,49],[l.content_carousel_on_expand,50],[l.home_tab_bottom,51],[l.digest_carousel,52],[l.suggestions_email,53],[l.tribe_page_follow_banner,54],[l.post_header,55],[l.home_page_suggestions_wall,56],[l.question_page_suggestions_wall,57],[l.tribe_page_carousel,58],[l.search_bar_empty_state_tribes,59],[l.digest_clickthrough_suggestion,60],[l.tribe_email_unsubscribe,61],[l.tribe_hovercard,62],[l.tribe_follow_suggestion_notif,63],[l.feed_story_follow_tribe_prompt,64],[l.trending_tribe_feed,65],[l.following_feed,66],[l.carousel_suggestions_modal,67],[l.answer_page_carousel_suggestions_modal,68],[l.question_page_carousel_suggestions_modal,69],[l.tribes_tab_suggestions_modal,70],[l.following_feed_carousel,71],[l.following_feed_carousel_suggestions_modal,72],[l.search_page,73],[l.home_feed_sidebar,74],[l.more_stories_feed,75],[l.subscription_program_signup,76],[l.home_feed_tribe_navigation_suggestions,77],[l.tribe_item_page,78],[l.suggested_tribe_item_feed_story,79],[l.topic_leaderboards,80],[l.subscription_program_enrollment,81]]),new Map([[1,l.primary_action_item_modal],[2,l.voter_list],[3,l.carousel],[4,l.ama],[5,l.fb_autofollow],[6,l.twitter_autofollow],[7,l.user_paged_list_item],[8,l.user_card_row],[9,l.find_friends],[10,l.ama_multi],[11,l.profile_overflow_menu],[12,l.widget],[13,l.answer_header],[14,l.quora_share_header],[15,l.identity_follow_link_base],[17,l.discover_user_item],[18,l.organize_user_item],[20,l.answer_upvote_notif],[21,l.board_item_upvote_notif],[22,l.quora_share_author_notif],[23,l.quora_share_upvote_notif],[24,l.user_follow_notif],[25,l.suggested_user_follow_notif],[26,l.asker_list_item],[27,l.author_feed_reason],[28,l.invite],[29,l.profile_page],[30,l.profile_hover_card],[31,l.metabar_profile],[32,l.comment_header],[33,l.profile_inline_follow],[34,l.suggestions_modal],[35,l.tribes_tab],[36,l.tribe_bundle_header],[37,l.content_header_inline_follow],[38,l.tribes_nux_step],[39,l.resharer_list],[40,l.tribes_checklist_step],[41,l.tribe_topic_page_carousel],[42,l.question_page_sidebar_suggestions],[43,l.question_page_carousel],[44,l.tribe_page],[45,l.feed_reason],[46,l.profile_page_following_list],[47,l.answer_page_carousel],[48,l.home_tab],[49,l.content_carousel],[50,l.content_carousel_on_expand],[51,l.home_tab_bottom],[52,l.digest_carousel],[53,l.suggestions_email],[54,l.tribe_page_follow_banner],[55,l.post_header],[56,l.home_page_suggestions_wall],[57,l.question_page_suggestions_wall],[58,l.tribe_page_carousel],[59,l.search_bar_empty_state_tribes],[60,l.digest_clickthrough_suggestion],[61,l.tribe_email_unsubscribe],[62,l.tribe_hovercard],[63,l.tribe_follow_suggestion_notif],[64,l.feed_story_follow_tribe_prompt],[65,l.trending_tribe_feed],[66,l.following_feed],[67,l.carousel_suggestions_modal],[68,l.answer_page_carousel_suggestions_modal],[69,l.question_page_carousel_suggestions_modal],[70,l.tribes_tab_suggestions_modal],[71,l.following_feed_carousel],[72,l.following_feed_carousel_suggestions_modal],[73,l.search_page],[74,l.home_feed_sidebar],[75,l.more_stories_feed],[76,l.subscription_program_signup],[77,l.home_feed_tribe_navigation_suggestions],[78,l.tribe_item_page],[79,l.suggested_tribe_item_feed_story],[80,l.topic_leaderboards],[81,l.subscription_program_enrollment]])},EreF:function(e,n,a){"use strict";var l=a("rhDr"),t=a.n(l),r=a("q1tI"),i=a("JY1L"),s=(a("tuWV"),Object(i.a)({loader:function(){return a.e("component-QTextEditor").then(a.bind(null,"a+Nv"))},render:function(e,n){var a=n._ref,l=t()(n,["_ref"]),i=e["default"];return r.createElement(i,Object.assign({},l,{ref:a}))},loading:function(e){var n=e.error;return n&&console.error(n),r.createElement(r.Fragment,null)}})),o=r.forwardRef((function(e,n){return r.createElement(s,Object.assign({},e,{_ref:n}))}));o.displayName="QTextEditor",n.a=o},KKZ8:function(e,n,a){"use strict";var l={};a.r(l),a.d(l,"default",(function(){return h}));var t={};a.r(t),a.d(t,"default",(function(){return E}));var r=a("rhDr"),i=a.n(r),s=a("8ZkK"),o=a.n(s),u=a("tQZz"),d=a.n(u),c=a("10u2"),m=a.n(c),g=a("MMxs"),p=a.n(g),f=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"UserListItem_user",type:"User",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:null,name:"followerCount",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"bestCredential",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,n,{kind:"FragmentSpread",name:"UserNameCredential_credential",args:null}]},{kind:"FragmentSpread",name:"UserNameCredential_user",args:null},{kind:"FragmentSpread",name:"UserPhoto_user",args:null},{kind:"FragmentSpread",name:"UserFollow_user",args:null},{kind:"FragmentSpread",name:"UserFollowSocialProof_user",args:null}]}}();f.hash="ae768dd7eb47fba5a5c709bc11cb0186";var h=f,y=a("q1tI"),b=a("VyO/"),k=a("MI6j"),_=a("Bh+m"),v=a("zNCG"),F=a("skxg"),S=function(){var e={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null};return{kind:"Fragment",name:"UserFollowSocialProof_user",type:"User",metadata:null,argumentDefinitions:[],selections:[e,{kind:"LinkedField",alias:null,name:"viewerSocialProofUsers",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[e,{kind:"FragmentSpread",name:"UserLink_user",args:null}]}]}}();S.hash="5f257579ad5ca0931e490fdab2877269";var w,E=S,C=a("CCxx"),K=a("jufJ"),O=a("nW6E"),T=a("sC65"),M=function(e){m()(a,e);var n=p()(a);function a(){return o()(this,a),n.apply(this,arguments)}return d()(a,[{key:"renderWithModal",value:function(e){var n=this.props.user,a=n.viewerSocialProofUsers;if(!a)return null;var l=a.map((function(e){return y.createElement(T.a,{key:e.uid,user:e})})),t=l.length;if(0===t)return null;if(t<=this.props.maxItems+1)return y.createElement(K.J,null,"Followed by ",y.createElement(K.w,{translateParamName:"users"},l));var r=l.slice(0,this.props.maxItems),i=t-this.props.maxItems;return y.createElement(K.J,null,"Followed by ",y.createElement(K.x,{translateParamName:"users"},r)," ",y.createElement(C.a,{onClick:e,key:"socialProofModalOnClick-".concat(n.uid)},"and ",y.createElement(K.o,{value:i})," ",y.createElement(K.H,{value:i},{ONE:"other",OTHER:"others"})," you follow"))}},{key:"render",value:function(){var e=this,n=this.props.user.uid;return y.createElement(O.j,null,(function(a){var l=a.openStandaloneModal;return e.renderWithModal((function(){return l({modalProps:{name:"FollowersYouKnowModal",queryVariables:{uid:n}},containerProps:{easyDismissEnabled:!0}})}))}))}}]),a}(y.Component);M.fragments={user:void 0!==w?w:w=t},M.displayName="UserFollowSocialProof";var L,I=Object(b.b)(M),x=a("vwvq"),j=a("r+vq"),R=a("biQL"),U=function(e){m()(a,e);var n=p()(a);function a(){return o()(this,a),n.apply(this,arguments)}return d()(a,[{key:"render",value:function(){var e,n=this.props,a=n.user,l=n.size,t=n.includeFollow,r=n.userFollowProps,s=n.includeCredential,o=n.includeSocialProof,u=n.includePageMargin,d=n.includeFollowerCount,c=n.linked,m=n.includeHovercard,g=n.linkColor,p=i()(n,["user","size","includeFollow","userFollowProps","includeCredential","includeSocialProof","includePageMargin","includeFollowerCount","linked","includeHovercard","linkColor"]),f=null!==(e=null===a||void 0===a?void 0:a.bestCredential)&&void 0!==e?e:null,h=Object(v.a)();return y.createElement(k.c,Object.assign({includePageMargin:u,alignIcon:h?"start":undefined,alignSecondaryComponent:h?"start":undefined,mainText:y.createElement(x.a,{user:a,credential:s?f:null,linked:c,includeHovercard:m,linkColor:g,boldName:!0,credentialTextProps:h?{fontSize:"small"}:undefined}),subText:o?y.createElement(I,{user:a,maxItems:1}):d?y.createElement(R.a,{count:a.followerCount,compact:!0}):undefined,icon:y.createElement(j.a,{user:a,size:32,linked:c,includeHovercard:m,shouldShowBadge:!0}),secondaryComponent:t?y.createElement(F.a,Object.assign({user:a,followSource:_.a.user_paged_list_item},r)):undefined,size:l},p))}}]),a}(y.Component);U.fragments={user:void 0!==L?L:L=l},U.defaultProps={size:"regular",includeFollow:!0,includeCredential:!0,includeSocialProof:!1,includePageMargin:!0,linked:!0,includeHovercard:!0,includeFollowerCount:!1},U.displayName="UserListItem";n.a=Object(b.b)(U)},Kh5g:function(e,n,a){"use strict";a.d(n,"a",(function(){return b}));var l=a("rhDr"),t=a.n(l),r=a("8ZkK"),i=a.n(r),s=a("tQZz"),o=a.n(s),u=a("10u2"),d=a.n(u),c=a("MMxs"),m=a.n(c),g=a("q1tI"),p=a("EFAP"),f=a("RqIh"),h=a("rLUV"),y=a("AFGi"),b=function(e){d()(a,e);var n=m()(a);function a(){return i()(this,a),n.apply(this,arguments)}return o()(a,[{key:"render",value:function(){var e=this.props,n=e.qt,a=e.nostyle,l=e.fontSize,r=e.isSensitive,i=e.hyperlinkEmbedOptions,s=e.maxImageHeight,o=e.renderImage,u=e.disableFullWidthImages,d=e.disableFullWidthImageContainer,c=t()(e,["qt","nostyle","fontSize","isSensitive","hyperlinkEmbedOptions","maxImageHeight","renderImage","disableFullWidthImages","disableFullWidthImageContainer"]),m=Object.assign({},y.a,this.props.options),b=g.createElement(p.e.Consumer,null,(function(e){return g.createElement(y.d,{qt:n,options:m,isSensitive:e===f.a.question_main&&r,hyperlinkEmbedOptions:i,maxImageHeight:s,disableFullWidthImages:u,disableFullWidthImageContainer:d,renderImage:o})}));return a?b:g.createElement(h.a,Object.assign({},c,{fontSize:l,maxWidth:"100%"}),b)}}]),a}(g.Component)},LDS9:function(e,n,a){"use strict";a.d(n,"a",(function(){return ee})),a.d(n,"b",(function(){return ne}));var l={};a.r(l),a.d(l,"default",(function(){return h}));var t={};a.r(t),a.d(t,"default",(function(){return b}));var r={};a.r(r),a.d(r,"default",(function(){return P}));var i={};a.r(i),a.d(i,"default",(function(){return A}));var s=a("8ZkK"),o=a.n(s),u=a("tQZz"),d=a.n(u),c=a("10u2"),m=a.n(c),g=a("MMxs"),p=a.n(g),f=function(){var e=[{kind:"LocalArgument",name:"threadId",type:"BigInt!",defaultValue:null}],n=[{kind:"Variable",name:"threadId",variableName:"threadId"}],a={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},i=[t,l,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],s={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:i},o={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:i},u={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},p={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"annotate_with_ids",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}]},f={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerBundleSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"consumerBundleActive",args:null,storageKey:null}]},h=[{kind:"Literal",name:"first",value:20}];return{kind:"Request",fragment:{kind:"Fragment",name:"MessageInboxThreadQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"thread",storageKey:null,args:n,concreteType:"Thread",plural:!1,selections:[{kind:"FragmentSpread",name:"MessagesThread_thread",args:null},{kind:"FragmentSpread",name:"MessageInboxThreadHeader_thread",args:null}]}]},operation:{kind:"Operation",name:"MessageInboxThreadQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"thread",storageKey:null,args:n,concreteType:"Thread",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"otherUsers",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[a,l,t,r,s,o,u,d,c,m,g,{kind:"ScalarField",alias:null,name:"viewerCanMessage",args:null,storageKey:null},p,f]},{kind:"ScalarField",alias:null,name:"threadId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isFromModeration",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[{kind:"LinkedField",alias:"helpCenterLink",name:"link",storageKey:'link(name:"help_center")',args:[{kind:"Literal",name:"name",value:"help_center"}],concreteType:"Link",plural:!1,selections:[l,t,{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null}]},l]},{kind:"ScalarField",alias:null,name:"numMessages",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isUnreadForViewer",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isPotentialSpamForViewer",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"eligibleToSendReason",args:null,storageKey:null},l,{kind:"ScalarField",alias:null,name:"reportableId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[l,{kind:"ScalarField",alias:null,name:"inboxCount",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"profileNavBadgeCount",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"messagesConnection",storageKey:"messagesConnection(first:20)",args:h,concreteType:"MessagesConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"MessageEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Message",plural:!1,selections:[l,{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[a,l,u,d,c,m,t,g,r,s,o,f,p]},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"time",args:null,storageKey:null},t]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},l]},l]},{kind:"LinkedHandle",alias:null,name:"messagesConnection",args:h,handle:"connection",key:"MessagesThread_messagesConnection",filters:null}]}]},params:{operationKind:"query",name:"MessageInboxThreadQuery",id:"7138f522fb6e0f642f109c4afec23cf610e3b9560cdcfc16c67a77f535d06ab0",text:null,metadata:{}}}}();f.hash="64464d37012189f6ec3aa18f56d15581";var h=f,y={kind:"Fragment",name:"MessageInbox_viewer",type:"Viewer",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"first",type:"Int",defaultValue:10},{kind:"LocalArgument",name:"after",type:"String",defaultValue:null}],selections:[{kind:"FragmentSpread",name:"MessageThreadList_viewer",args:[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"first",variableName:"first"}]},{kind:"FragmentSpread",name:"StandaloneNewThreadComposer_viewer",args:null},{kind:"FragmentSpread",name:"UnreadMessagesFilterSwitch_viewer",args:null}],hash:"f6ea7699e5f2e12a740d2e6e712dd6e6"},b=y,k=a("q1tI"),_=a("VyO/"),v=a("mF64"),F=a("6lcX"),S=a("jufJ"),w=a("D5Zh"),E=a("gujl"),C=a("RA+f"),K=a("UyMh"),O=a("edYY"),T=a("/bbo"),M=a("OMLc"),L=a("nwxp"),I=a("zUwh"),x=a("/7tQ"),j=a("LsXc"),R=a("g8yt"),U=a.n(R),N=function(){var e=[{kind:"LocalArgument",name:"recipientUid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null}],n=[{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"recipientUid",variableName:"recipientUid"}],a={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"errorMsg",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"threadId",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"StandaloneNewThreadComposer_threadCreate_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"threadCreate",storageKey:null,args:n,concreteType:"ThreadCreate",plural:!1,selections:[a,l,{kind:"LinkedField",alias:null,name:"thread",storageKey:null,args:null,concreteType:"Thread",plural:!1,selections:[t]}]}]},operation:{kind:"Operation",name:"StandaloneNewThreadComposer_threadCreate_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"threadCreate",storageKey:null,args:n,concreteType:"ThreadCreate",plural:!1,selections:[a,l,{kind:"LinkedField",alias:null,name:"thread",storageKey:null,args:null,concreteType:"Thread",plural:!1,selections:[t,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}]},params:{operationKind:"mutation",name:"StandaloneNewThreadComposer_threadCreate_Mutation",id:"39193323bc1ee289d61bfe14df5bdb800cf1a42fdc6377a2ab1e33f79d6d419d",text:null,metadata:{}}}}();N.hash="17bd6c98eab8f84bd0fff887e72fec4d";var D,V,P=N,q={kind:"Fragment",name:"StandaloneNewThreadComposer_viewer",type:"Viewer",metadata:null,argumentDefinitions:[],selections:[{kind:"FragmentSpread",name:"NewThreadComposer_viewer",args:null}],hash:"d52d088fdd79a447c63e46682ed0bdca"},A=q,B=a("QLaP"),H=a.n(B),z=a("LNH1"),W=a("AFGi"),Q=a("kcgR"),J=function(e){m()(a,e);var n=p()(a);function a(e){var l;return o()(this,a),(l=n.call(this,e)).editorRef=void 0,l.editorRef=k.createRef(),l.state={selectedUid:null,editorHasContent:!1},l.handleComposerMeaningfulChange=l.handleComposerMeaningfulChange.bind(U()(l)),l}return d()(a,[{key:"threadCreateMutation",value:function(e,n){var l=this.props.onThreadCreated;H()(this.state.selectedUid,"a selected uid should exists");var t={mutation:a.mutations.threadCreate,variables:{recipientUid:this.state.selectedUid,content:JSON.stringify(e)},setToast:n};return Object(_.c)(t).then((function(e){var a,t=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.threadCreate,r=t.success,i=t.errorMsg,s=t.thread;i?n(Object(S.Y)(i),z.d.error):r&&null!==s&&void 0!==s&&s.threadId?l(s.threadId):n.genericError()}))}},{key:"handleSubmit",value:function(e){var n,a=null===(n=this.editorRef.current)||void 0===n?void 0:n.save();a?Object(W.p)(a)?e.error(Object(S.Z)("Please finish your message before sending.")):this.threadCreateMutation(a,e):e.genericError()}},{key:"handleComposerMeaningfulChange",value:function(e){e&&e.isEmpty&&this.setState({editorHasContent:!e.isEmpty()})}},{key:"render",value:function(){var e=this,n=this.props.viewer,a=Boolean(this.state.selectedUid)&&this.state.editorHasContent;return k.createElement(z.b,null,(function(l){return k.createElement(k.Fragment,null,k.createElement(C.d,null,k.createElement(Q.a,{viewer:n,editorRef:e.editorRef,onComposerMeaningfulChange:e.handleComposerMeaningfulChange,onSelectUserCallback:function(n){e.setState({selectedUid:n})},onClearUserCallback:function(){e.setState({selectedUid:null})}})),k.createElement(C.d,{textAlign:"right",mx:"medium"},k.createElement(T.a,{disabled:!a,onClick:function(){return e.handleSubmit(l)},text:k.createElement(C.m,{alignItems:"center"},Object(S.Z)("Send"),k.createElement(M.a,{name:"Send",size:20,ml:"tiny",color:"white"}))})))}))}}]),a}(k.Component);J.fragments={viewer:void 0!==D?D:D=i},J.mutations={threadCreate:void 0!==V?V:V=r},J.displayName="StandaloneNewThreadComposer";var Z,G,Y=Object(_.b)(J),X=a("ujEb"),$=a("cff6"),ee=k.createContext({container:null}),ne=function(){var e=arguments.length>0&&arguments[0]!==undefined&&arguments[0];if(Object(L.f)())return null;var n=Object(L.b)()?e?54:132:94;return k.createElement(C.i,{flexDirection:"column",alignItems:"stretch",flex:1,height:"100%"},k.createElement(C.i,{flex:1,flexDirection:"column",alignItems:"stretch",justifyContent:"flex-end",px:"medium",py:"large"},k.createElement(I.f,{maskColor:e?"raised":"white"})),k.createElement(C.d,{bg:e?"raised":"white",height:n}))},ae=function(e){m()(a,e);var n=p()(a);function a(e){var l,t,r;return o()(this,a),(r=n.call(this,e)).state={currentThreadId:null!==(l=e.threadId)&&void 0!==l?l:null,showComposer:null!==(t=e.showComposer)&&void 0!==t&&t},r}return d()(a,[{key:"renderLeftColumn",value:function(){var e=this,n=this.props.viewer,a=this.state.currentThreadId;return k.createElement(C.i,{borderLeft:!0,height:"calc(100vh - ".concat(Object(O.a)({isPrefetched:!1}),"px"),flexDirection:"column",position:"relative",bg:"white"},k.createElement(x.b,{viewer:n}),k.createElement(j.a,{viewer:n,onItemClick:function(n){Object(v.j)("/messages/thread/".concat(n)),e.setState({currentThreadId:n,showComposer:!1})},onNewMessageClickCallback:function(){Object(v.j)("/messages/new"),e.setState({showComposer:!0,currentThreadId:null})},inSideBar:!0,highlightedThreadId:a}))}},{key:"refetchThreadList",value:function(){Object(_.e)({query:j.a.queries.threadList,variables:{first:25,after:null},fetchPolicy:"network-only"})}},{key:"render",value:function(){var e=this,n=this.props.viewer,l=this.state,t=l.showComposer,r=l.currentThreadId;return k.createElement(F.e,{desktopColumnCount:2,desktopLeftCol:this.renderLeftColumn(),desktopLeftColGridWidth:5,hasPt:!1,hasPb:!1,includeGutters:!1,desktopMainColWidth:"full",desktopTwoColSideColOnLeft:!0},k.createElement(C.i,{height:"calc(100vh - ".concat(Object(O.a)({isPrefetched:!1}),"px"),overflow:"hidden",flexDirection:"column",borderRight:!0,borderLeft:!0,bg:"white",position:"relative"},t?k.createElement(Y,{viewer:n,onThreadCreated:function(n){Object(v.j)("/messages/thread/".concat(n)),e.setState({currentThreadId:n,showComposer:!1}),e.refetchThreadList()}}):null===r?k.createElement(E.a,{type:"dormant",bg:"transparent",title:k.createElement(S.J,null,"No message selected"),body:k.createElement(S.J,null,"Select an existing message, or start a new one."),buttonComponent:k.createElement(T.a,{text:k.createElement(S.J,null,"New message"),size:"small",icon:k.createElement(M.a,{name:"NewChat"}),onClick:function(){if(Object(L.b)())return Object(v.j)("/messages/new"),void e.setState({showComposer:!0,currentThreadId:null});Object(K.b)("/messages/new")}})}):k.createElement(w.a,{query:a.queries.thread,variables:{threadId:r}},(function(n){var a=n.loading,l=n.error,t=n.data;return a?ne():!l&&t&&t.thread?k.createElement(k.Fragment,null,k.createElement($.b,{thread:t.thread,isSticky:!1}),k.createElement(X.a,{thread:t.thread,minHeight:"1%",desktopReplyCallback:function(){e.refetchThreadList()}})):k.createElement(E.a,{type:"error",bg:"transparent",title:k.createElement(S.J,null,"Something went wrong"),body:k.createElement(S.J,null,"Wait a moment and try again."),buttonComponent:k.createElement(T.a,{text:k.createElement(S.J,null,"Refresh page"),size:"small",onClick:function(){window.location.reload()}})})}))))}}]),a}(k.Component);ae.fragments={viewer:void 0!==Z?Z:Z=t},ae.queries={thread:void 0!==G?G:G=l},ae.displayName="MessageInbox";n.c=Object(_.b)(ae)},LsXc:function(e,n,a){"use strict";var l={};a.r(l),a.d(l,"default",(function(){return h}));var t={};a.r(t),a.d(t,"default",(function(){return b}));var r={};a.r(r),a.d(r,"default",(function(){return w}));var i={};a.r(i),a.d(i,"default",(function(){return O}));var s=a("8ZkK"),o=a.n(s),u=a("tQZz"),d=a.n(u),c=a("10u2"),m=a.n(c),g=a("MMxs"),p=a.n(g),f=function(){var e=[{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"after",type:"String",defaultValue:null}],n=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"first",variableName:"first"}],a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},t=[l,a,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],r=[a,{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},l,{kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:t},{kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:t},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerBundleSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"consumerBundleActive",args:null,storageKey:null}]},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"annotate_with_ids",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"MessageThreadListQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"FragmentSpread",name:"MessageThreadList_viewer",args:n}]}]},operation:{kind:"Operation",name:"MessageThreadListQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"threadsConnection",storageKey:null,args:n,concreteType:"ThreadsConnection",plural:!1,selections:[a,l,{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"ThreadEdge",plural:!0,selections:[a,l,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Thread",plural:!1,selections:[a,l,{kind:"ScalarField",alias:null,name:"threadId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isUnreadForViewer",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"latestMessage",storageKey:null,args:null,concreteType:"Message",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:"User",plural:!1,selections:r},{kind:"ScalarField",alias:null,name:"time",args:null,storageKey:null},a]},{kind:"LinkedField",alias:null,name:"otherUsers",storageKey:null,args:null,concreteType:"User",plural:!0,selections:r}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]}]},{kind:"LinkedHandle",alias:null,name:"threadsConnection",args:n,handle:"connection",key:"MessageThreadList_threadsConnection",filters:null},a]}]},params:{operationKind:"query",name:"MessageThreadListQuery",id:"578e596f5ab9fccf9d454e6ab5e3320a00797a6c6500e66aa141556b5740cb09",text:null,metadata:{}}}}();f.hash="024057a991be289a98069e8967d01dac";var h=f,y=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"MessageThreadList_viewer",type:"Viewer",metadata:{connection:[{count:"first",cursor:"after",direction:"forward",path:["threadsConnection"]}]},argumentDefinitions:[{kind:"LocalArgument",name:"first",type:"Int",defaultValue:10},{kind:"LocalArgument",name:"after",type:"String",defaultValue:null}],selections:[{kind:"LinkedField",alias:"threadsConnection",name:"__MessageThreadList_threadsConnection_connection",storageKey:null,args:null,concreteType:"ThreadsConnection",plural:!1,selections:[e,n,{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"ThreadEdge",plural:!0,selections:[e,n,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Thread",plural:!1,selections:[e,n,{kind:"ScalarField",alias:null,name:"threadId",args:null,storageKey:null},{kind:"FragmentSpread",name:"MessageThreadListItem_thread",args:null}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]}]}]}}();y.hash="45be8f2cbcffc046c02d145198d7c929";var b=y,k=a("q1tI"),_=a("VyO/"),v=a("4n8n"),F=a("m+xM"),S=function(){var e=[{kind:"LocalArgument",name:"threadId",type:"BigInt!",defaultValue:null}],n=[{kind:"Variable",name:"threadId",variableName:"threadId"}],a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},t=[l,a,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],r=[a,{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},l,{kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:t},{kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:t},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerBundleSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"consumerBundleActive",args:null,storageKey:null}]},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"annotate_with_ids",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"MessageThreadListItemQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"thread",storageKey:null,args:n,concreteType:"Thread",plural:!1,selections:[a,l,{kind:"FragmentSpread",name:"MessageThreadListItem_thread",args:null}]}]},operation:{kind:"Operation",name:"MessageThreadListItemQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"thread",storageKey:null,args:n,concreteType:"Thread",plural:!1,selections:[a,l,{kind:"ScalarField",alias:null,name:"threadId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isUnreadForViewer",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"latestMessage",storageKey:null,args:null,concreteType:"Message",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:"User",plural:!1,selections:r},{kind:"ScalarField",alias:null,name:"time",args:null,storageKey:null},a]},{kind:"LinkedField",alias:null,name:"otherUsers",storageKey:null,args:null,concreteType:"User",plural:!0,selections:r}]}]},params:{operationKind:"query",name:"MessageThreadListItemQuery",id:"d15b8f7223c7411268eac6bd14ee2dd5e727c8bc6ed78ca510d91d189c7f3f6e",text:null,metadata:{}}}}();S.hash="77c6404cd41c0cf2696ffaab2f48fb7f";var w=S,E=function(){var e={kind:"FragmentSpread",name:"UserPhoto_user",args:null};return{kind:"Fragment",name:"MessageThreadListItem_thread",type:"Thread",metadata:{reloadable:{operation:a("ccJa")}},argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"threadId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isUnreadForViewer",args:null,storageKey:null,isLive:!0},{kind:"LinkedField",alias:null,name:"latestMessage",storageKey:null,args:null,concreteType:"Message",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[e]},{kind:"ScalarField",alias:null,name:"time",args:null,storageKey:null}],isLive:!0},{kind:"LinkedField",alias:null,name:"otherUsers",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[e,{kind:"FragmentSpread",name:"UserName_user",args:null}]}]}}();E.hash="36fb9e31f33132e67033d21e2a41a016";var C,K,O=E,T=a("nwxp"),M=a("yju1"),L=a("AFGi"),I=a("GxN1"),x=a("SKAY"),j=a("RA+f"),R=a("UyMh"),U=a("r+vq"),N=a("jufJ"),D=a("R+um"),V=a("MI6j"),P=a("OMLc"),q=a("hXLn"),A=a("LDS9"),B=function(e){m()(a,e);var n=p()(a);function a(){return o()(this,a),n.apply(this,arguments)}return d()(a,[{key:"componentDidMount",value:function(){var e=this;if(Object(T.g)()){var n=this.props.thread.threadId;Object(x.registerMessageHandler)("updateMessageListData",(function(a){n&&(null===a||void 0===a?void 0:a.threadId)===n&&e.refetchData()}))}}},{key:"refetchData",value:function(){var e=this.props,n=e.thread.threadId,a=e.relay;a&&a.refetch({threadId:n},null,(function(){}))}},{key:"render",value:function(){var e=this.props,n=e.thread,l=e.onDesktopClickCallback,t=e.inSideBar,r=e.highlighted,i=n.threadId,s=n.isUnreadForViewer,o=n.latestMessage,u=n.otherUsers,d=n.url;if(!o)return k.createElement(k.Fragment,null);var c=function(){Object(T.b)()&&l?l():Object(T.g)()?Object(M.a)("openURL",{url:d,hideNavigationBar:!0,target:"current"}):Object(R.b)(d,"push")};return k.createElement(q.a,{fragmentOrQuery:a.fragments.thread,variables:{id:i},initialData:n},function(){if(!o||null===o.content)return k.createElement(k.Fragment,null);var e=Object(L.s)(o.content),n=0===e.length&&Object(L.m)(JSON.parse(o.content));return k.createElement(A.a.Consumer,null,(function(a){return k.createElement(V.b,{size:"large",borderBottom:!0,highlighted:r||(Object(T.e)()||Object(T.b)()&&"dock"===a.container)&&s,bg:"dock"===a.container?"raised":"white",mainText:k.createElement(j.i,{alignItems:"flex-start"},k.createElement(j.r,{medium:!0,flex:1},k.createElement(D.b,{user:u[0]})),k.createElement(j.r,{fontSize:"regular"},k.createElement(j.r,{fontSize:"tiny",color:"gray_light",display:"inline-block",verticalAlign:"middle"},k.createElement(N.i,{utime:o.time,formatType:"Compact",monthFormatLength:"short"})),Object(T.e)()&&k.createElement(P.a,{name:"ChevronRight",size:12,ml:"tiny",verticalAlign:"middle"}))),icon:k.createElement(j.p,{ml:"medium",display:"inline-flex",top:Object(T.b)()?3:undefined},k.createElement(U.a,{user:u[0],size:t||"dock"===a.container?32:40,linked:!1}),t&&s&&!r?k.createElement(j.a,{left:-10,top:13,width:6,height:6,display:"inline-flex"},k.createElement(I.b,{size:6,color:"blue"})):null),hover:{bg:"gray_ultralight"},includePageMargin:!1,subText:k.createElement(j.r,{truncateLines:2,italic:n},n?k.createElement(N.J,null,"Sent a photo"):e),secondaryComponent:k.createElement(k.Fragment,null,t&&r?k.createElement(j.a,{right:0,top:"small",bottom:"small",width:2,bg:"blue",borderTopLeftRadius:"pill",borderBottomLeftRadius:"pill"}):undefined),alignSecondaryComponent:"flex-start",alignIcon:"flex-start",onClick:c})}))}())}}]),a}(k.Component);B.fragments={thread:void 0!==C?C:C=i},B.queries={refetchQuery:void 0!==K?K:K=r},B.displayName="MessageThreadListItem";var H=Object(_.f)(B),z=a("/bbo"),W=function(e){m()(a,e);var n=p()(a);function a(){return o()(this,a),n.apply(this,arguments)}return d()(a,[{key:"renderNativeFloatingButton",value:function(){var e="//qsf.fs.quoracdn.net/-4-ans_frontend_assets.icons.new_chat.svg-26-efb7ed71dbe79015.svg";e.startsWith("//")&&(e="https:"+e);var n={visible:!0,iconUrl:e,colors:{light:{foreground:"white",background:"#b92b27"},dark:{foreground:"white",background:"#f52936"}},cached:!0,action:{messageName:"openURL",data:{url:"/messages/new"}}};Object(M.a)("setFloatingActionButton",n)}},{key:"render",value:function(){return Object(T.g)()?(this.renderNativeFloatingButton(),null):k.createElement(j.h,{bottom:"tiny",right:"0",p:"medium",zIndex:"footer"},k.createElement(z.a,{size:"large",icon:k.createElement(P.a,{name:"NewChat"}),variant:"red",onClick:function(){Object(R.b)("/messages/new","push")},hasBoxShadow:!0}))}}]),a}(k.Component);W.displayName="NewMessageFloatingButton";var Q,J,Z=a("06DM"),G=a("gujl"),Y=a("VwdU"),X=a("SW3P"),$=a("HC+x"),ee=a("cff6"),ne=a("/7tQ"),ae=function(e){m()(a,e);var n=p()(a);function a(e){var l;return o()(this,a),(l=n.call(this,e)).scrollingElementRef=void 0,l.pagingElementRef=void 0,l.scrollingElementRef=k.createRef(),l.pagingElementRef=k.createRef(),l}return d()(a,[{key:"render",value:function(){var e=this,n=this.props,a=n.viewer,l=n.relay,t=n.inSideBar,r=n.onItemClick,i=n.onNewMessageClickCallback,s=n.highlightedThreadId,o=(null===a||void 0===a?void 0:a.threadsConnection.edges.length)>0,u=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"blue",n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:k.createElement(N.J,null,"New message");return k.createElement(z.a,{text:n,size:"small",variant:e,icon:k.createElement(P.a,{name:"NewChat"}),isFullWidth:Object(T.b)(),onClick:function(){Object(T.b)()&&i?i():Object(R.b)("/messages/new")}})};return k.createElement(k.Fragment,null,(t||!Object(T.b)()&&!Object(T.g)())&&k.createElement(Y.a,{condition:!!t,wrapper:function(e){return k.createElement(j.i,{justifyContent:"stretch",alignItems:"flex-end",height:ee.a,bg:"white"},k.createElement(j.d,{flex:1},e))}},k.createElement(Z.a,{titleText:k.createElement(N.J,null,"Messages"),includePageMargin:!0,inCard:!1,bg:"white",secondaryComponent:o&&!Object(T.e)()?k.createElement(k.Fragment,null,u("blue_outline",k.createElement(N.J,null,"New"))):undefined})),o?k.createElement(Y.a,{condition:!!t,wrapper:function(n){return k.createElement($.a,{useShadows:!0,flex:1,height:"1%",pb:Object(X.a)("unread_messages_filter")?ne.a+16:undefined,innerRef:e.scrollingElementRef},n)}},k.createElement(k.Fragment,null,k.createElement(v.a,{hasFloatingActionButtonOnApp:!0,hasFloatingActionButtonOnMweb:!0},k.createElement(F.c,{relayObject:l,autoPaged:{enabled:!0,infiniteScrollOptions:Object(T.b)()?{useWindow:!1,getScrollParent:function(){return e.scrollingElementRef.current},threshold:200}:undefined,pagingElement:Object(T.b)()?this.pagingElementRef:undefined},connection:null===a||void 0===a?void 0:a.threadsConnection},(function(e){var n=e.node;return k.createElement(H,{key:n.id,thread:n,onDesktopClickCallback:r?function(){return r(n.threadId)}:undefined,inSideBar:t,highlighted:n.threadId===s})}))),k.createElement(j.d,{pb:"1px",innerRef:this.pagingElementRef}))):t?k.createElement(j.i,{p:"large",justifyContent:"center"},k.createElement(j.r,{color:"gray_light"},k.createElement(N.J,null,"No messages"))):k.createElement(j.d,null,k.createElement(G.a,{type:"dormant",title:k.createElement(N.J,null,"No messages"),body:k.createElement(N.J,null,"Connect with others on Quora by beginning a new conversation."),bg:"transparent",buttonComponent:k.createElement(j.d,{mt:"large"},u())})),Object(T.e)()&&k.createElement(W,null))}}]),a}(k.Component);ae.fragments={viewer:void 0!==Q?Q:Q=t},ae.queries={threadList:void 0!==J?J:J=l},ae.connectionConfig={query:ae.queries.threadList,direction:"forward",getConnectionFromProps:function(e){var n;return null===(n=e.viewer)||void 0===n?void 0:n.threadsConnection},getVariables:function(e,n){return{first:10,after:n.cursor}},getFragmentVariables:function(e){return e}},ae.displayName="MessageThreadList";n.a=Object(_.d)(ae)},PRXj:function(e,n,a){"use strict";var l=a("yMAQ"),t=a.n(l),r=a("rhDr"),i=a.n(r),s=a("vOnD"),o=a("q1tI"),u=a("RA+f"),d=Object(s["default"])(u.r).withConfig({displayName:"TextInputWrapper___StyledText",componentId:"abzlxg-0"})([""," .doc{min-height:0;margin:0;padding:0;line-height:1.5;}"],(function(e){return e._css})),c=function(e){var n=e.children,a=e.theme,l=e.shouldRemeasure,r=e.hasBorder,s=i()(e,["children","theme","shouldRemeasure","hasBorder"]),u=o.useRef(),c=o.useState(0),m=t()(c,2),g=m[0],p=m[1];return o.useEffect((function(){u.current&&p(u.current.clientHeight)}),[l]),o.createElement(d,Object.assign({color:"gray_dark",fontSize:"regular",innerRef:u,py:"small",px:"medium",bg:"white",flex:1,borderRadius:0!==g?g/2:undefined,minWidth:"0"},s,{boxShadow:r?"inset 0 0 0 1px ".concat(a.colors.border.gray):undefined,_css:r?"@media only screen and (-webkit-min-device-pixel-ratio: 1.5) {\n          box-shadow: inset 0 0 0 0.5px ".concat(a.colors.border.gray," !important;\n        }"):undefined}),n)};c.displayName="TextInputWrapper",n.a=Object(s.withTheme)(c)},XRWA:function(e,n,a){"use strict";var l=a("q1tI"),t=a("0xW3"),r=a("nW6E"),i=a("LNH1"),s=function(e){var n=e.children;return l.createElement(i.b,null,(function(e){return l.createElement(r.j,null,(function(a){var i=a.openStandaloneModal;return l.createElement(r.d,null,(function(a){var r=a.openModalFlow;return l.createElement(t.WebnodeBridgeModal,null,(function(a){return n({openWebnodeModal:a,openStandaloneModal:i,openModalFlow:r,setToast:e})}))}))}))}))};s.displayName="GetitemOptionsProvider",n.a=s},"ZXE+":function(e,n,a){"use strict";a.d(n,"a",(function(){return l})),a.d(n,"b",(function(){return t}));function l(e,n){return e.length<n?e:e.substring(0,n-1)+"\u2026"}function t(e){return e.includes("[math]")&&e.includes("[/math]")}},biQL:function(e,n,a){"use strict";var l=a("q1tI"),t=a("jufJ"),r=function(e){var n=e.count,a=e.compact;return l.createElement(t.J,null,l.createElement(t.o,{value:n,compact:a})," ",l.createElement(t.H,{value:n},{ONE:"follower",OTHER:"followers"}))};r.displayName="UserFollowerCount",n.a=r},ccJa:function(e,n,a){"use strict";a.r(n);var l=function(){var e=[{kind:"LocalArgument",name:"id",type:"BigInt!",defaultValue:null}],n=[{kind:"Variable",name:"threadId",variableName:"id"}],a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"time",args:null,storageKey:null},i=[l,a,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}];return{kind:"Request",fragment:{kind:"Fragment",name:"ReloadableMessageThreadListItem_threadQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"thread",storageKey:null,args:n,concreteType:"Thread",plural:!1,selections:[a,l,{kind:"ScalarField",alias:null,name:"isUnreadForViewer",args:null,storageKey:null,isLive:!0},{kind:"LinkedField",alias:null,name:"latestMessage",storageKey:null,args:null,concreteType:"Message",plural:!1,selections:[t,{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"FragmentSpread",name:"UserPhoto_user",args:null}]},r],isLive:!0}]}]},operation:{kind:"Operation",name:"ReloadableMessageThreadListItem_threadQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"thread",storageKey:null,args:n,concreteType:"Thread",plural:!1,selections:[a,l,{kind:"ScalarField",alias:null,name:"isUnreadForViewer",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"latestMessage",storageKey:null,args:null,concreteType:"Message",plural:!1,selections:[t,{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[a,{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},l,{kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:i},{kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:i},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerBundleSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"consumerBundleActive",args:null,storageKey:null}]},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"annotate_with_ids",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}]}]},r,a]}]}]},params:{operationKind:"query",name:"ReloadableMessageThreadListItem_threadQuery",id:"459f9d4e740554b338990c65443dd0a99aefe6c2235d0ab35506aa2393300132",text:null,metadata:{derivedFrom:"MessageThreadListItem_thread",isReloadableQuery:!0}}}}();l.hash="36fb9e31f33132e67033d21e2a41a016",n["default"]=l},cff6:function(e,n,a){"use strict";a.d(n,"a",(function(){return I}));var l={};a.r(l),a.d(l,"default",(function(){return f}));var t,r=a("8ZkK"),i=a.n(r),s=a("tQZz"),o=a.n(s),u=a("10u2"),d=a.n(u),c=a("MMxs"),m=a.n(c),g=a("vOnD"),p={kind:"Fragment",name:"MessageInboxThreadHeader_thread",type:"Thread",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"threadId",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"otherUsers",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},{kind:"FragmentSpread",name:"UserLink_user",args:null},{kind:"FragmentSpread",name:"UserPhoto_user",args:null}]},{kind:"FragmentSpread",name:"ThreadOverflowMenu_thread",args:null}],hash:"0604b21d768c00867c86e63ec7582258"},f=p,h=a("q1tI"),y=a("VyO/"),b=a("4Xda"),k=a("RA+f"),_=a("jufJ"),v=a("d1zJ"),F=a("l/R4"),S=a("YVdv"),w=a.n(S),E=a("r+vq"),C=a("Ftba"),K=a("VwdU"),O=a("nwxp"),T=a("pVu1"),M=a("sC65"),L=a("7yJA"),I=v.a,x=Object(g["default"])(k.i).withConfig({displayName:"MessageInboxThreadHeader___StyledFlex",componentId:"sc-1t1pm2w-0"})(["",""],(function(e){return e._css})),j=function(e){d()(a,e);var n=m()(a);function a(){return i()(this,a),n.apply(this,arguments)}return o()(a,[{key:"render",value:function(){var e=this.props,n=e.thread,a=e.theme,l=e.isSticky,t=void 0===l||l;return h.createElement(b.a.Consumer,null,(function(e){return h.createElement(K.a,{condition:t,wrapper:function(e){return h.createElement(k.q,{top:0,left:0,right:0,zIndex:"header"},e)}},h.createElement(x,{bg:Object(O.b)()?"white":e.isDarkModeOn?"gray_ultralight":"red",alignItems:"center",height:I,flexShrink:0,position:"relative",borderBottom:Object(O.b)()||e.isDarkModeOn,_css:e.isDarkModeOn&&Object(C.g)()&&Object(O.e)()?"\n                backdrop-filter: blur(2px);\n                background-color: ".concat(w()(.2,Object(F.c)("gray_ultralight",a.colors.bg))," !important;\n              "):undefined},h.createElement(k.i,{alignItems:"center",ml:"medium"},1===n.otherUsers.length&&h.createElement(E.a,{user:n.otherUsers[0]}),h.createElement(_.x,null,n.otherUsers.map((function(n){return h.createElement(k.r,{fontSize:"regular",color:Object(O.b)()||e.isDarkModeOn?"gray_dark":"white",pl:"small",key:n.uid,medium:!0},h.createElement(M.a,{user:n}))})))),h.createElement(k.i,{pr:"small",ml:"auto"},h.createElement(T.a.Provider,{value:{renderAtRoot:!0}},h.createElement(L.a,{thread:n,variant:Object(O.b)()?undefined:"white"})))))}))}}]),a}(h.Component);j.fragments={thread:void 0!==t?t:t=l},j.displayName="MessageInboxThreadHeader";n.b=Object(g.withTheme)(Object(y.b)(j))},ehZD:function(e,n,a){"use strict";var l={};a.r(l),a.d(l,"default",(function(){return p}));var t,r=a("8ZkK"),i=a.n(r),s=a("tQZz"),o=a.n(s),u=a("10u2"),d=a.n(u),c=a("MMxs"),m=a.n(c),g={kind:"Fragment",name:"Report_reportable",type:"Reportable",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"reportableId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null}],hash:"b0d5c8f2dc242cd9aea2cd90df559287"},p=g,f=a("q1tI"),h=a("nwxp"),y=a("VyO/"),b=a("jufJ"),k=a("XRWA"),_=a("RA+f"),v=a("OMLc"),F=a("LNH1"),S=a("Gnru"),w=function(e){var n=e.opts,a=e.reportable,l=e.clientLogMetadata;return{icon:f.createElement(v.a,{name:"Caution",color:"red"}),label:a.viewerHasReported?Object(b.Z)("Reported"):Object(b.Z)("Report"),isOn:a.viewerHasReported,isDestructive:!0,onSelected:function(){a.viewerHasReported||n.openStandaloneModal({modalProps:{name:"ReportModal",queryVariables:{id:a.id},extraProps:{clientLogMetadata:l}},postDismissCallback:function(e){Object(h.g)()&&null!==e&&void 0!==e&&e.content&&n.setToast(e.content,F.d.success)}})}}};w.displayName="reportContent";var E=function(e){d()(a,e);var n=m()(a);function a(){return i()(this,a),n.apply(this,arguments)}return o()(a,[{key:"render",value:function(){var e=this.props.reportable;return e.viewerHasReported?f.createElement(b.J,null,"Reported"):f.createElement(S.ClientLogConsumer,null,(function(n,a){return f.createElement(k.a,null,(function(n){var l=JSON.stringify(null===a||void 0===a?void 0:a()),t=w({opts:n,reportable:e,clientLogMetadata:l});return f.createElement(_.e,{onClick:function(){return t.onSelected()}},t.label)}))}))}}],[{key:"getOverflowItem",value:function(e,n,a){return e.reportableId?w({reportable:e,opts:n,clientLogMetadata:a}):null}}]),a}(f.Component);E.fragments={reportable:void 0!==t?t:t=l},E.displayName="Report";n.a=Object(y.b)(E)},kcgR:function(e,n,a){"use strict";var l={};a.r(l),a.d(l,"default",(function(){return f}));var t={};a.r(t),a.d(t,"default",(function(){return j}));var r={};a.r(r),a.d(r,"default",(function(){return D}));var i=a("8ZkK"),s=a.n(i),o=a("tQZz"),u=a.n(o),d=a("10u2"),c=a.n(d),m=a("MMxs"),g=a.n(m),p={kind:"Fragment",name:"NewThreadComposer_viewer",type:"Viewer",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},{kind:"FragmentSpread",name:"MessageRecipientSelector_viewer",args:null}],hash:"ab4ad718d42d319650fb581b65200146"},f=p,h=a("q1tI"),y=a("VyO/"),b=a("nwxp"),k=a("yju1"),_=a("RA+f"),v=a("UyMh"),F=a("nW6E"),S=a("jufJ"),w=a("AFGi"),E=a("LJFN"),C=a("EreF"),K=a("jQsN"),O=a.n(K),T=a("tcRq"),M=a.n(T),L=a("g8yt"),I=a.n(L),x={kind:"Fragment",name:"MessageRecipientSelector_viewer",type:"Viewer",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null}],hash:"9e62d9a34ad8062e07e764c3eaa002b2"},j=x,R=function(){var e=[{kind:"LocalArgument",name:"query",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"queryType",type:"SearchQueryType!",defaultValue:null},{kind:"LocalArgument",name:"querySource",type:"SearchQuerySource!",defaultValue:null},{kind:"LocalArgument",name:"limit",type:"Int!",defaultValue:null},{kind:"LocalArgument",name:"ignoreOids",type:"[BigInt!]",defaultValue:null}],n=[{kind:"Variable",name:"ignoreOids",variableName:"ignoreOids"},{kind:"Variable",name:"limit",variableName:"limit"},{kind:"Variable",name:"query",variableName:"query"},{kind:"Variable",name:"querySource",variableName:"querySource"},{kind:"Variable",name:"queryType",variableName:"queryType"}],a={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"viewerCanMessage",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"followerCount",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},u=[r,t,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],d={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:u},c={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:u},m={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},g={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"annotate_with_ids",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}]};return{kind:"Request",fragment:{kind:"Fragment",name:"MessageRecipientSelectorQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"searchQuery",storageKey:null,args:n,concreteType:null,plural:!0,selections:[{kind:"InlineFragment",type:"UserSearchResult",selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[a,l,{kind:"LinkedField",alias:null,name:"bestCredential",storageKey:null,args:null,concreteType:null,plural:!1,selections:[t,r,{kind:"FragmentSpread",name:"UserNameCredential_credential",args:null}]},{kind:"FragmentSpread",name:"UserListItem_user",args:null},{kind:"FragmentSpread",name:"UserNameCredential_user",args:null},{kind:"FragmentSpread",name:"UserPhoto_user",args:null}]}]}]}]},operation:{kind:"Operation",name:"MessageRecipientSelectorQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"searchQuery",storageKey:null,args:n,concreteType:null,plural:!0,selections:[r,t,{kind:"InlineFragment",type:"UserSearchResult",selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[a,t,r,i,{kind:"LinkedField",alias:null,name:"bestCredential",storageKey:null,args:null,concreteType:null,plural:!1,selections:[t,r,{kind:"ScalarField",alias:null,name:"credentialId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"translatedString",args:null,storageKey:null}]},s,o,d,c,m,{kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isBlockedByViewer",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerIsFollowing",args:null,storageKey:null},i,{kind:"ScalarField",alias:null,name:"viewerIsFollowedBy",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"viewerSocialProofUsers",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[a,t,r,s,o,d,c,m,g]},l,g,{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerBundleSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"consumerBundleActive",args:null,storageKey:null}]}]}]}]}]},params:{operationKind:"query",name:"MessageRecipientSelectorQuery",id:"4ca1fe2f48e9c835a04f57d6968d55181fd10d58bc1fa68038aee1c100fcefd0",text:null,metadata:{}}}}();R.hash="e16cf60cb68fdbc5079bbb9ef76db19e";var U,N,D=R,V=a("cztr"),P=a("KKZ8"),q=a("vwvq"),A=a("r+vq"),B=a("tRfs"),H=a("i303"),z=void 0!==U?U:U=r,W=function(e){c()(a,e);var n=g()(a);function a(e){var l;return s()(this,a),(l=n.call(this,e)).handleInputChange=function(e){l.setState({input:e})},l.state={input:"",selectedResult:null},l.handleChange=l.handleChange.bind(I()(l)),l}return u()(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){var n;null===(n=e.props.selectorRef.current)||void 0===n||n.focus()}),50)}},{key:"renderSelectedResultItem",value:function(){var e,n=this;if(Object(b.e)())return null;var a=(this.state.selectedResult||{}).user;return a?h.createElement(_.i,{alignItems:"center"},h.createElement(_.m,{mr:"small"},h.createElement(A.a,{user:a,size:32,shouldShowBadge:!0})),h.createElement(_.d,{flex:1,mr:"small"},h.createElement(q.a,{user:a,credential:null!==(e=a.bestCredential)&&void 0!==e?e:null,includeHovercard:!0,boldName:!0})),h.createElement(_.e,{onClick:function(){var e,a;n.setState({selectedResult:null}),null===(e=(a=n.props).onClearUser)||void 0===e||e.call(a)}},h.createElement(_.r,{color:"gray"},Object(S.Z)("(Change)")))):null}},{key:"renderItem",value:function(e){var n=e.user;return n&&n.viewerCanMessage?h.createElement(P.a,{user:n,size:"small",includeFollow:!1,linked:!1,includeHovercard:!1}):null}},{key:"handleChange",value:function(e){var n,a=null===(n=e.data)||void 0===n?void 0:n.user;a&&(this.props.onSelectUser(a.uid),this.setState({selectedResult:{user:a}}))}},{key:"render",value:function(){var e=this,n=this.props.selectorRef;return!Object(b.e)()&&this.state.selectedResult?this.renderSelectedResultItem():h.createElement(V.a,{async:!0,autoFocus:!0,options:M()(O.a.mark((function l(){var n,t,r,i,s,o;return O.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(e.state.input){l.next=2;break}return l.abrupt("return",[]);case 2:return l.next=4,Object(y.e)({query:a.queries.selector,variables:{query:e.state.input,limit:10,queryType:B.a.ts_user,querySource:H.a.selector_misc,ignoreOids:e.props.viewer.uid?[e.props.viewer.uid]:[]},fetchPolicy:"store-or-network"});case 4:if(n=l.sent,t=n.data,r=[],t)for(i=0;i<t.searchQuery.length;i++)s=t.searchQuery[i],(o=e.renderItem(s))&&r.push({item:o,title:"",data:s});return l.abrupt("return",r);case 9:case"end":return l.stop()}}),l)}))),onChange:this.handleChange,onInputChange:this.handleInputChange,limit:10,showMenuOnEmptyLoading:!0,inputWrapperProps:{iconName:"Search",variant:"small"},inputPlaceholder:Object(S.Z)("Enter a name"),closeOnClick:!Object(b.e)(),closeOnClickAway:!Object(b.e)(),clearOnBlur:!Object(b.e)(),forwardedRef:n})}}]),a}(h.Component);W.fragments={viewer:void 0!==N?N:N=t},W.queries={selector:z},W.displayName="MessageRecipientSelector";var Q,J=Object(y.b)(W),Z=function(e){c()(a,e);var n=g()(a);function a(e){var l;return s()(this,a),(l=n.call(this,e)).selectorRef=void 0,l.selectorRef=h.createRef(),l.state={shouldFocusEditor:!1},l}return u()(a,[{key:"openMobileEditorModal",value:function(e,n){var a=this;Object(b.e)()&&e({modalProps:{name:"MessageEditorModal",extraProps:{isReply:!1,initialCount:0},queryVariables:{uid:n,isReply:!1}},postDismissCallback:function(e){e?e.nextUrl&&(Object(b.g)()?(Object(k.a)("broadcastAllWebViews",{messageName:"markPageAsDirty",data:{url:"/messages"}}),Object(k.a)("setCanonicalURL",{url:e.nextUrl}),Object(k.a)("reload")):Object(v.b)(e.nextUrl,"push")):setTimeout((function(){var e;null===(e=a.selectorRef.current)||void 0===e||e.focus()}),50)}})}},{key:"focusEditor",value:function(){var e=this;this.setState({shouldFocusEditor:!0},(function(){e.setState({shouldFocusEditor:!1})}))}},{key:"render",value:function(){var e=this,n=this.props,a=n.viewer,l=n.onSelectUserCallback,t=n.onClearUserCallback,r=n.onComposerMeaningfulChange,i=n.editorRef;return Object(b.e)()?h.createElement(F.j,null,(function(n){var l=n.openStandaloneModal;return h.createElement(_.d,{p:"medium"},h.createElement(J,{viewer:a,selectorRef:e.selectorRef,onSelectUser:function(n){e.openMobileEditorModal(l,n)}}))})):h.createElement(_.d,{p:"medium"},h.createElement(_.d,null,h.createElement(J,{viewer:a,selectorRef:this.selectorRef,onSelectUser:function(n){null===l||void 0===l||l(n),e.focusEditor()},onClearUser:function(){null===t||void 0===t||t()}})),h.createElement(_.d,{mt:"medium",borderRadius:"small",borderAll:!0},h.createElement(C.a,{ref:i,placeholder:Object(S.Z)("Type a message..."),content:Object(w.h)(),focusOnLoad:!1,commandsToDisable:["horizontal-rule","video"],onMeaningfulChange:null!==r&&void 0!==r?r:undefined,isInline:!0,shouldFocusDoc:this.state.shouldFocusEditor,settingOverrides:{lightWeightContentToolbar:Object(E.d)()}})))}}]),a}(h.Component);Z.fragments={viewer:void 0!==Q?Q:Q=l},Z.displayName="NewThreadComposer";n.a=Object(y.b)(Z)},"m+xM":function(e,n,a){"use strict";a.d(n,"d",(function(){return H})),a.d(n,"a",(function(){return z})),a.d(n,"b",(function(){return W})),a.d(n,"c",(function(){return Q}));var l=a("8ZkK"),t=a.n(l),r=a("tQZz"),i=a.n(r),s=a("g8yt"),o=a.n(s),u=a("10u2"),d=a.n(u),c=a("MMxs"),m=a.n(c),g=a("q1tI"),p=a("QLaP"),f=a.n(p),h=a("I/VO"),y=a.n(h),b=a("td6z"),k=a("VSaK"),_=a("vkEr"),v=a("AaDK"),F=a("s/A7"),S=a("SW3P"),w=a("nwxp"),E=a("+pxc"),C=a("hXLn"),K=a("jufJ"),O=a("VwdU"),T=a("ZizP"),M=a("8lmh"),L=a("qZYu"),I=a("PGlZ"),x=a("cbxS"),j=a("OMLc"),R=a("RA+f"),U=a("wxi4"),N=a("P6tR"),D=a("edYY"),V=a("/bbo"),P=a("vOnD"),q=Object(P.withTheme)((function(e){var n=e.text,a=e.refetch,l=e.loading,t=e.theme;return g.createElement(N.a.Consumer,null,(function(e){return g.createElement(U.d,{justifyContent:"center",zIndex:t.zIndices.tooltip+1,top:Object(D.a)({isPrefetched:e}),display:"flex",alignItems:"flex-start",height:0},g.createElement(U.c,{top:"small"},g.createElement(R.b,{"in":!0,appear:!0},(function(e){return g.createElement(R.f,{fadeIn:!0,fadeOut:!0,animation:e,slideIn:"top",slideOut:"top",slideDistance:"small"},g.createElement(V.a,{icon:g.createElement(j.a,{name:"Sync"}),text:n,hasBoxShadow:!0,onClick:a,size:"small",loading:l}))}))))}))})),A=a("5Fmr"),B=a("nG0s"),H=function(){return Object(S.a)("show_react_live_update_banner")},z=function(e){var n=e.onClick;return g.createElement(R.d,{p:"small"},g.createElement(x.a,{buttonOnClick:n,buttonTitle:g.createElement(K.J,null,"Try again"),buttonVariant:"error",variant:"warning_inverted",icon:g.createElement(j.a,{name:"NoConnection"}),title:g.createElement(K.J,null,"Unable to load more. Check your internet connection."),iconPosition:Object(w.b)()?"centered":undefined}))},W=function(e){var n=e.onClick;return g.createElement(R.d,{p:"small"},g.createElement(x.a,{buttonOnClick:n,buttonTitle:g.createElement(K.J,null,"Try again"),buttonVariant:"error",variant:"warning_inverted",icon:g.createElement(j.a,{name:"Error"}),title:g.createElement(K.J,null,"There was an error loading more items."),iconPosition:Object(w.b)()?"centered":undefined}))},Q=function(e){d()(a,e);var n=m()(a);function a(e){var l,r,i;return t()(this,a),(i=n.call(this,e)).itemRefs=void 0,e=i.setDefaultProps(e),i.loadMore=i.loadMore.bind(o()(i)),i.refetchList=i.refetchList.bind(o()(i)),i.onScroll=i.onScroll.bind(o()(i)),i.renderChildren=i.renderChildren.bind(o()(i)),i.getIdFromEdge=i.getIdFromEdge.bind(o()(i)),i.scrollToNewestItem=i.scrollToNewestItem.bind(o()(i)),i.onViewChange=i.onViewChange.bind(o()(i)),i.itemRefs={},i.state={hasMore:e.relayObject&&e.relayObject.hasMore(),isPaging:!1,error:null,initialLiveBannerHash:null===(l=e.liveBannerConfig)||void 0===l?void 0:l.hashValue,existingItems:i.getExistingIDs(),isBannerLoading:!1,itemsToShow:null!==(r=e.connection)&&void 0!==r&&r.edges?e.connection.edges.length:0,pageStartTime:undefined,isVisible:!1},i}return i()(a,[{key:"setDefaultProps",value:function(e){var n;e.autoPaged&&("enabled"in e.autoPaged||(e.autoPaged.enabled=!1),"infiniteScrollOptions"in e.autoPaged||(e.autoPaged.infiniteScrollOptions={}),e.autoPaged.infiniteScrollOptions&&!("threshold"in e.autoPaged.infiniteScrollOptions)&&(e.autoPaged.infiniteScrollOptions.threshold=1e3),e.autoPaged.infiniteScrollOptions&&(e.autoPaged.infiniteScrollOptions.isSafari=Object(w.e)()&&((null===(n=Object(E.a)())||void 0===n?void 0:n.isSafari)||Object(w.c)())));return e}},{key:"getIdFromEdge",value:function(e){var n;return((null===(n=this.props.liveBannerConfig)||void 0===n?void 0:n.overrideItemId)||function(e){var n;return null===e||void 0===e||null===(n=e.node)||void 0===n?void 0:n.id})(e)}},{key:"getExistingIDs",value:function(){var e,n;return(null!==(e=this.props.connection)&&void 0!==e&&e.edges?null===(n=this.props.connection)||void 0===n?void 0:n.edges.map(this.getIdFromEdge):[]).filter((function(e){return!!e}))}},{key:"isInViewport",value:function(e){var n,a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;if(null===e||void 0===e||null===(n=e.current)||void 0===n||!n.getBoundingClientRect)return!1;var l=e.current.getBoundingClientRect().top;return l+a>=0&&l-a<=window.innerHeight}},{key:"componentDidMount",value:function(){this.props.autoPaged&&this.props.autoPaged.pagingElement&&Object(k.b)(this.onScroll)}},{key:"componentWillUnmount",value:function(){this.props.autoPaged&&this.props.autoPaged.pagingElement&&Object(k.a)(this.onScroll)}},{key:"componentDidUpdate",value:function(e,n){if(Object(S.a)("paged_list_perf")){if(this.props.pagingIndicator&&!n.isPaging&&this.state.isPaging&&this.state.pageStartTime){var a,l=null===(a=this.props.connection)||void 0===a?void 0:a.__typename;Object(v.a)("paged_list_perf",{connectionName:l,fcp:Object(_.m)()-this.state.pageStartTime})}if(n.isPaging&&!this.state.isPaging&&n.pageStartTime){var t,r=null===(t=this.props.connection)||void 0===t?void 0:t.__typename,i=Object(_.m)()-n.pageStartTime;Object(v.a)("paged_list_perf",{connectionName:r,tti:i,fcp:this.props.pagingIndicator?undefined:i})}}this.state.isVisible&&this.prefetchMore()}},{key:"onViewChange",value:function(e){!this.state.isPaging&&this.props.autoPaged&&!this.props.autoPaged.enabled&&this.props.prefetchingEnabled&&this.setState({isVisible:e})}},{key:"onScroll",value:function(){!this.state.isPaging&&this.props.autoPaged&&this.props.autoPaged.pagingElement&&this.isInViewport(this.props.autoPaged.pagingElement)&&this.loadMore()}},{key:"prefetchMore",value:function(){var e=this,n=this.setDefaultProps(this.props),a=n.relayObject,l=n.onPagingEnd,t=n.connection;(null===t||void 0===t?void 0:t.edges)&&this.state.itemsToShow<t.edges.length||!a.hasMore()||a.isLoading()||a.loadMore(0,(function(n){var r=!n&&a.hasMore();n&&console.error(n),e.state.isPaging&&l&&l(null!==n&&void 0!==n?n:null,r),(e.state.isPaging||n)&&e.setState((function(a){var l=null!==t&&void 0!==t&&t.edges?null===t||void 0===t?void 0:t.edges.length:a.itemsToShow;return{isPaging:!1,pageStartTime:undefined,hasMore:r,error:null!==n&&void 0!==n?n:null,existingItems:e.getExistingIDs(),itemsToShow:l}}))}))}},{key:"loadMore",value:function(){var e=this.setDefaultProps(this.props),n=e.autoPaged,a=e.connection;n&&!n.enabled&&this.props.prefetchingEnabled&&a?this.loadMorePrefetched():this.loadMoreDefault()}},{key:"havePrefetchedItems",value:function(){var e=this.setDefaultProps(this.props).connection;return(null===e||void 0===e?void 0:e.edges)&&this.state.itemsToShow<e.edges.length}},{key:"loadMorePrefetched",value:function(){var e=this.setDefaultProps(this.props),n=e.relayObject,a=e.onPagingStart,l=e.onPagingEnd,t=e.connection,r=this.state.isPaging;if(t&&this.havePrefetchedItems())return a&&a(),l&&l(null,n.hasMore()),void this.setState({isPaging:!1,hasMore:n.hasMore(),itemsToShow:null===t||void 0===t?void 0:t.edges.length,existingItems:this.getExistingIDs()});if(n.hasMore()&&!r){var i=Object(_.m)();a&&a(),this.setState({isPaging:!0,pageStartTime:i,error:null})}}},{key:"loadMoreDefault",value:function(){var e=this,n=this.setDefaultProps(this.props),a=n.relayObject,l=n.onPagingStart,t=n.onPagingEnd,r=this.state.isPaging;if(a.hasMore()&&!r&&!a.isLoading()){var i=Object(_.m)();l&&l(),a.loadMore(0,(function(n){var l=e.setDefaultProps(e.props).connection,r=!n&&a.hasMore();n&&console.error(n),t&&t(null!==n&&void 0!==n?n:null,r),e.setState((function(a){var t=null!==l&&void 0!==l&&l.edges?null===l||void 0===l?void 0:l.edges.length:a.itemsToShow;return{isPaging:!1,pageStartTime:undefined,hasMore:r,error:null!==n&&void 0!==n?n:null,itemsToShow:t,existingItems:e.getExistingIDs()}}))})),this.setState({isPaging:!0,pageStartTime:i,hasMore:!0,error:null})}}},{key:"refetchList",value:function(){var e,n=this,a=this.setDefaultProps(this.props),l=a.relayObject,t=a.onPagingStart,r=a.onPagingEnd,i=a.connection;null===t||void 0===t||t();var s=null===i||void 0===i||null===(e=i.edges)||void 0===e?void 0:e.length;return this.setState({existingItems:this.getExistingIDs(),isBannerLoading:!0}),new Promise((function(e){l.refetchConnection(0,(function(a){var t,i=!a&&l.hasMore();a&&console.error(a),null===r||void 0===r||r(null!==a&&void 0!==a?a:null,i),n.setState({isPaging:!1,hasMore:i,error:null!==a&&void 0!==a?a:null,initialLiveBannerHash:null===(t=n.props.liveBannerConfig)||void 0===t?void 0:t.hashValue,isBannerLoading:!1},n.scrollToNewestItem),e()}),{first:s&&s+1,refetch:!0})}))}},{key:"shouldShowLiveBanner",value:function(){var e=this.props,n=e.liveBannerConfig,a=e.connection,l=this.state.initialLiveBannerHash;if(!n||!H()||!l)return!1;var t=n.hashValue,r=n.ignoreList;if(t===l)return!1;if(!r)return Object(v.a)("scribe_only",{scribe_category:"live_banner_triggered",log_viewer:!0,connectionName:null===a||void 0===a?void 0:a.__typename,old_hash:l,new_hash:t,ignoreList:!1},{sampleRate:.1}),!0;var i=String(l).split(":"),s=String(t).split(":").some((function(e){return!i.includes(e)&&!r.includes(e)}));return s&&Object(v.a)("scribe_only",{scribe_category:"live_banner_triggered",log_viewer:!0,connectionName:null===a||void 0===a?void 0:a.__typename,old_hash:l,new_hash:t,ignoreList:!0},{sampleRate:.1}),s}},{key:"scrollToNewestItem",value:function(){var e=this;window.requestAnimationFrame((function(){var n=e.props.connection,a=e.state.existingItems,l=null===n||void 0===n?void 0:n.edges.find((function(n){return e.getIdFromEdge(n)&&!a.includes(e.getIdFromEdge(n))}));if(l){var t=e.itemRefs[e.getIdFromEdge(l)];Object(F.a)(t,"center")}}))}},{key:"renderChildren",value:function(){var e=this,n=this.setDefaultProps(this.props),a=n.relayObject,l=n.children,t=n.singleItemErrorComponent,r=n.connection,i=n.liveBannerConfig,s=n.onNullNode,o=n.animated,u=n.temporaryHighlightBox,d=this.state,c=d.isPaging,m=d.error,p=d.hasMore,f=d.existingItems,h=d.itemsToShow;return null===r?null:l?r?(null===r||void 0===r?void 0:r.edges.slice(0,h)).map((function(n,r){var d;if(!n||!n.node)return null===s||void 0===s||s(),null;var y,b=e.getIdFromEdge(n),k=i&&b&&!c&&!f.includes(b);return o?g.createElement(R.b,{key:b||(null===n||void 0===n||null===(d=n.node)||void 0===d?void 0:d.id),"in":!0,appear:k},(function(i){return g.createElement(R.f,{fadeIn:!0,animation:i,slideDistance:"small"},g.createElement(A.c,{delay:400,disabled:!(k&&u)},g.createElement(R.d,{innerRef:function(n){return e.itemRefs[b]=n}},g.createElement(T.a,{errorChildren:function(){return t}},l({index:r,node:null===n||void 0===n?void 0:n.node,isLastItem:r===h-1,loading:a.isLoading()||c,error:m,readyToLoadMore:!a.isLoading()&&!c&&p,loadMore:e.loadMore})))))})):g.createElement(T.a,{errorChildren:function(){return t},key:b||(null===n||void 0===n||null===(y=n.node)||void 0===y?void 0:y.id)},l({index:r,node:null===n||void 0===n?void 0:n.node,isLastItem:r===h-1,loading:a.isLoading()||c,error:m,readyToLoadMore:!a.isLoading()&&!c&&p,loadMore:e.loadMore}))})):l({loading:a.isLoading()||c,error:m,readyToLoadMore:!a.isLoading()&&!c&&p,loadMore:this.loadMore,index:-1,node:undefined,isLastItem:!1})||[]:null}},{key:"render",value:function(){var e,n,a=this,l=this.setDefaultProps(this.props),t=l.relayObject,r=l.autoPaged,i=l.pagingIndicator,s=l.loadingIndicator,o=l.endOfPageComponent,u=l.endOfContentComponent,d=l.connectionIssueComponent,c=l.errorComponent,m=l.liveBannerConfig,p=l.listWrapper,h=l.as,b=void 0===h?"div":h,k=this.state,_=k.error,v=k.isPaging,F=k.hasMore,S=k.isBannerLoading,w=k.itemsToShow,E=_&&Object(M.isConnectionError)(_),K=_&&!E,T=!_&&!t.isLoading()&&!v&&!F,L=!_&&!v&&!(null!==r&&void 0!==r&&r.enabled)&&(this.havePrefetchedItems()||F&&!t.isLoading());return f()(t,"PagedList expects relayObject props"),!t||t.isLoading()&&!v&&!S&&0===w&&s?s||null:g.createElement(O.a,{condition:!!m&&H(),wrapper:function(e){return m?g.createElement(C.a,{fragmentOrQuery:m.query,initialData:m.initialData,variables:m.variables(t.getFragmentVariables())},e):e}},g.createElement(O.a,{condition:null!==(e=null===r||void 0===r?void 0:r.enabled)&&void 0!==e&&e,wrapper:function(e){return g.createElement(y.a,Object.assign({loadMore:a.loadMore,hasMore:F,loader:i},null===r||void 0===r?void 0:r.infiniteScrollOptions,{element:b}),e)},elseWrapper:function(e){return g.createElement(I.b,{onChange:a.onViewChange,as:b},e)}},m&&this.shouldShowLiveBanner()&&g.createElement(B.a,null,g.createElement(q,{refetch:this.refetchList,text:m.bannerText,loading:S})),null!==(n=null===p||void 0===p?void 0:p(this.renderChildren()))&&void 0!==n?n:this.renderChildren(),!(null!==r&&void 0!==r&&r.enabled)&&t.isLoading()&&v&&i,L&&(null===o||void 0===o?void 0:o(this.loadMore)),T&&(null===u||void 0===u?void 0:u()),E&&(null===d||void 0===d?void 0:d(this.loadMore)),K&&(null===c||void 0===c?void 0:c(this.loadMore))))}}],[{key:"getDerivedStateFromProps",value:function(e,n){var a,l,t;return!n.hasMore&&null!==(a=e.relayObject)&&void 0!==a&&a.hasMore()?Object.assign({},n,{hasMore:e.relayObject.hasMore()}):null!==(l=e.connection)&&void 0!==l&&l.edges.length&&(null===(t=e.connection)||void 0===t?void 0:t.edges.length)<n.itemsToShow?Object.assign({},n,{itemsToShow:e.connection.edges.length}):n}}]),a}(g.Component);Q.defaultProps={autoPaged:{},pagingIndicator:g.createElement(b.c,{key:"loading"}),connectionIssueComponent:function(e){return g.createElement(z,{onClick:e})},errorComponent:function(e){return g.createElement(W,{onClick:e})},singleItemErrorComponent:g.createElement(L.a,null),animated:!0,temporaryHighlightBox:!0,as:"div",prefetchingEnabled:!0},Q.displayName="PagedList"},nG0s:function(e,n,a){"use strict";a.d(n,"a",(function(){return o}));var l=a("yMAQ"),t=a.n(l),r=a("q1tI"),i=r.createContext(undefined),s=function(e){var n=e.children,a=r.useState(),l=t()(a,2),s=l[0],o=l[1];return r.createElement(i.Provider,{value:o},s||null,n)};s.displayName="LiveBannerAnchor";var o=function(e){var n=e.children,a=r.useContext(i);return r.useEffect((function(){return null===a||void 0===a||a(n),function(){null===a||void 0===a||a(null)}})),n===undefined?null:r.createElement(r.Fragment,null,a?null:n)};n.b=s},qS63:function(e,n,a){"use strict";a.d(n,"a",(function(){return C}));var l=a("8ZkK"),t=a.n(l),r=a("tQZz"),i=a.n(r),s=a("g8yt"),o=a.n(s),u=a("10u2"),d=a.n(u),c=a("MMxs"),m=a.n(c),g=a("RA+f"),p=a("nSBr"),f=a("nwxp"),h=a("q1tI"),y=a("i8i4"),b=a.n(y),k=a("vOnD"),_=a("4Xda"),v=a("/bbo"),F=a("nW6E"),S=a("zaBG"),w=a("ivfp"),E=function(e){d()(a,e);var n=m()(a);function a(e){var l;return t()(this,a),(l=n.call(this,e)).ANIM_DURATION=200,l.handleCloseClick=l.handleCloseClick.bind(o()(l)),l.handleButtonClick=l.handleButtonClick.bind(o()(l)),l.state={isOpen:!1},l}return i()(a,[{key:"componentDidMount",value:function(){this.setState({isOpen:!0}),setTimeout((function(){Object(S.e)(!1)}),0)}},{key:"handleCloseClick",value:function(){var e=this;this.setState({isOpen:!1},(function(){var n,a;null===(n=(a=e.props).onCancel)||void 0===n||n.call(a),setTimeout(e.removeAlert.bind(e),e.ANIM_DURATION)}))}},{key:"handleButtonClick",value:function(e){var n=this,a=e.currentTarget.getAttribute("data-index");this.setState({isOpen:!1},(function(){if(setTimeout(n.removeAlert.bind(n),n.ANIM_DURATION),a){var e={buttonIndex:parseInt(a)};n.props.callback(e)}}))}},{key:"removeAlert",value:function(){var e,n=this.props.parentEl;(Object(S.e)(!0),n)&&(b.a.unmountComponentAtNode(n),null===(e=n.parentNode)||void 0===e||e.removeChild(n))}},{key:"inferColorModeFromBodyClass",value:function(){return document.body.classList.contains("q-color-mode--dark")?p.c.DARK:p.c.LIGHT}},{key:"render",value:function(){var e=this,n=this.props,a=n.otherButtonTitles,l=n.showCloseButton,t=n.message,r=n.title,i=n.imageSrc,s=n.imageDarkModeSrc,o=n.cancelButtonTitle,u=(o?1:0)+(a?a.length:0),d=Object(f.e)()&&u>1,c=i!==undefined,m=function(e){var n=e.children,a=e.fullWidthButtons;return h.createElement(g.d,{flex:a?undefined:Object(f.e)()?1:undefined,mr:a?undefined:"small",mb:a?"small":undefined,width:a?"100%":undefined},n)};return h.createElement(k.ThemeProvider,{theme:Object(_.d)(this.inferColorModeFromBodyClass())},h.createElement(g.b,{"in":this.state.isOpen,appear:!0},(function(n){var p,y;return h.createElement(g.i,{position:"fixed",zIndex:"10000",top:0,left:0,right:0,bottom:0,justifyContent:"center",alignItems:"center"},h.createElement(g.f,{animation:n,fadeIn:!0,fadeOut:!0},h.createElement(g.d,{position:"absolute",top:0,left:0,right:0,bottom:0,bg:"white",opacity:.85})),h.createElement(g.f,{animation:n,scaleIn:!0,scaleOut:!0,fadeIn:!0,fadeOut:!0},h.createElement(g.i,{maxWidth:Object(f.b)()?450:"90vw",width:Object(f.b)()?undefined:400,minWidth:250,position:"relative",flexDirection:"column",bg:"white",borderAll:!0,borderRadius:"small",boxShadow:"medium"},l&&h.createElement(g.i,{mx:"tiny",mt:"tiny",mb:i!==undefined?"n_large":undefined},h.createElement(F.b,{onClick:e.handleCloseClick})),i&&h.createElement(g.i,{justifyContent:"center",mt:"medium"},h.createElement(g.j,{src:i,darkModeSrc:s&&s,height:"125px"})),r&&h.createElement(g.r,{mx:"medium",mt:"medium",fontSize:"large",mb:"tiny",bold:!0,textAlign:Object(f.e)()||c?"center":undefined},r),t&&h.createElement(g.r,{mx:"medium",color:"gray",textAlign:Object(f.e)()||c?"center":undefined},t),h.createElement(g.i,{p:"medium",justifyContent:c?"center":Object(f.b)()?"flex-end":undefined,flexWrap:"wrap",flexDirection:u>2&&Object(f.e)()?"column":"row",mr:d?undefined:"n_small",mb:d?"n_small":undefined},o&&h.createElement(m,{fullWidthButtons:d},h.createElement(v.a,{text:null!==(p=o.title)&&void 0!==p?p:o,onClick:e.handleCloseClick,variant:"gray",isFullWidth:d||Object(f.e)(),disabled:null!==(y=o.disabled)&&void 0!==y&&y})),a&&(null===a||void 0===a?void 0:a.map((function(n,a){var l,t;return h.createElement(m,{fullWidthButtons:d,key:a},h.createElement(v.a,{text:null!==(l=n.title)&&void 0!==l?l:n,onClick:e.handleButtonClick,"data-index":a+1,isFullWidth:d||Object(f.e)(),disabled:null!==(t=n.disabled)&&void 0!==t&&t}))})))))))})))}}]),a}(h.Component);E.displayName="Alert";var C=function(e,n,a){var l=e.imageSrc,t=e.imageDarkModeSrc,r=e.showCloseButton,i=void 0!==r&&r,s=e.title,o=e.message,u=e.cancelButtonTitle,d=e.otherButtonTitles;return Object(w.a)((function(e){return h.createElement(E,{imageSrc:l,imageDarkModeSrc:t,showCloseButton:i,title:s,message:o,parentEl:e,cancelButtonTitle:u,otherButtonTitles:d,callback:n,onCancel:a})}))}},qZYu:function(e,n,a){"use strict";a.d(n,"a",(function(){return o}));var l=a("q1tI"),t=a("cbxS"),r=a("OMLc"),i=a("jufJ"),s=a("RA+f");function o(){return l.createElement(s.d,{p:"small",borderBottom:!0},l.createElement(t.a,{variant:"warning_inverted",icon:l.createElement(r.a,{name:"Error"}),title:l.createElement(i.J,null,"There was an error loading this item.")}))}},rS24:function(e,n,a){"use strict";var l=a("q1tI"),t=a("nW6E"),r=a("yju1"),i=function(e){var n=e.children;return l.createElement(t.j,{standaloneModalProps:{containerProps:{mobileHeight:370},modalProps:{name:"PostPhotoPermissionModal",fetchPolicy:"store-only"},postDismissCallback:function(e){null!==e&&void 0!==e&&e.success&&Object(r.a)("showPhotoSelector")}}},(function(e){var a=e.openStandaloneModal;return n((function(e){a({modalProps:{name:"PostPhotoPermissionModal",extraProps:{photoAuthorizationStatus:e}}})}))}))};i.displayName="PhotoPermissionModalWrapper",n.a=i},"s/A7":function(e,n,a){"use strict";a.d(n,"a",(function(){return r}));var l=a("8ezB"),t=a("Jz1U");Object(l.a)(),Object(t.b)();var r=function(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"start";e&&setTimeout((function(){e.scrollIntoView({behavior:"smooth",block:n})}))}},sC65:function(e,n,a){"use strict";var l={};a.r(l),a.d(l,"default",(function(){return h}));var t=a("rhDr"),r=a.n(t),i=a("8ZkK"),s=a.n(i),o=a("tQZz"),u=a.n(o),d=a("10u2"),c=a.n(d),m=a("MMxs"),g=a.n(m),p=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},a=[n,e,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}];return{kind:"Fragment",name:"UserLink_user",type:"User",metadata:null,argumentDefinitions:[],selections:[e,{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},n,{kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:a},{kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:a},{kind:"FragmentSpread",name:"UserName_user",args:null},{kind:"FragmentSpread",name:"UserLinkWrapper_user",args:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"annotate_with_ids",value:"true"},condition:"onGate",selections:[{kind:"FragmentSpread",name:"UserId_user",args:null}]}]}}();p.hash="e99e926af025b5c18ba568ea21bb01d1";var f,h=p,y=a("q1tI"),b=a("6aqD"),k=a("VyO/"),_=a("nwxp"),v=a("FuLD"),F=a("Qkel"),S=a("VwdU"),w=a("b0KT"),E=a("RA+f"),C=a("iGOU"),K=a("1cij"),O=a("XhVx"),T=a("R+um"),M=a("I0Lp"),L=a("TbDR"),I=a("WWBQ"),x=function(e){c()(a,e);var n=g()(a);function a(){return s()(this,a),n.apply(this,arguments)}return u()(a,[{key:"renderUserLink",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null,a=this.props,l=a.children,t=a.user,i=t.isAnon,s=t.uid,o=a.color,u=a.includeHovercard,d=void 0===u||u,c=a.showBadgeName,m=void 0!==c&&c,g=a.tribeMemberPermissionBadge,p=a.isTribePremiumMember,f=r()(a,["children","user","color","includeHovercard","showBadgeName","tribeMemberPermissionBadge","isTribePremiumMember"]),h=Object(v.c)(s);return y.createElement(E.m,{alignItems:"center"},Object(K.d)()&&y.createElement(F.a,{user:this.props.user}),y.createElement(w.a,null,y.createElement(S.a,{condition:!!d&&!h&&!i&&Object(_.b)(),wrapper:function(n){return y.createElement(C.a,{uid:e.props.user.uid,wrapperDisplayType:"inline"},n)}},y.createElement(S.a,{condition:!i,wrapper:function(n){return y.createElement(O.a,Object.assign({},f,{user:e.props.user,color:o}),n)}},l||y.createElement(T.b,{user:this.props.user,themeColor:n}))),y.createElement(I.a,{tribeMemberPermissionBadge:g,isTribePremiumMember:p,showBadgeName:m,badgeColor:n?"".concat(n,"_name"):"white"===o?"white":"gray"})))}},{key:"render",value:function(){var e=this;if(Object(L.b)()){var n=this.props.user.uid;return y.createElement(L.a,{uid:n},(function(n){return e.renderUserLink(n)}))}return this.renderUserLink()}}]),a}(Object(b.s)(y.Component));x.fragments={user:void 0!==f?f:f=l},x.renderPlaintext=function(e){return Object(M.a)(e.user)};n.a=Object(k.b)(x)},skxg:function(e,n,a){"use strict";var l={};a.r(l),a.d(l,"default",(function(){return f}));var t={};a.r(t),a.d(t,"default",(function(){return y}));var r={};a.r(r),a.d(r,"default",(function(){return F}));var i=a("8ZkK"),s=a.n(i),o=a("tQZz"),u=a.n(o),d=a("10u2"),c=a.n(d),m=a("MMxs"),g=a.n(m),p={kind:"Fragment",name:"UserFollow_user",type:"User",metadata:{reloadable:{operation:a("zqEi")}},argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isBlockedByViewer",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerIsFollowing",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"followerCount",args:null,storageKey:null,isLive:!0},{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerIsFollowedBy",args:null,storageKey:null},{kind:"FragmentSpread",name:"UserName_user",args:null}],hash:"42a4a131d4ebbd357b05db386987f875"},f=p,h=function(){var e=[{kind:"LocalArgument",name:"uid",type:"BigInt!",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"userRemoveFollower",storageKey:null,args:[{kind:"Variable",name:"targetUid",variableName:"uid"}],concreteType:"UserRemoveFollower",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerIsFollowing",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"followerCount",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"UserFollow_userRemoveFollower_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"UserFollow_userRemoveFollower_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"UserFollow_userRemoveFollower_Mutation",id:"2ddb53d5f119e2529a19f09567fadb6ee94f296749f8428cf8b7cc4d61b57c88",text:null,metadata:{}}}}();h.hash="76aef94e338728a64c696595e36012fb";var y=h,b=function(){var e=[{kind:"LocalArgument",name:"uid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"followSource",type:"FollowSource",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"userAddFollower",storageKey:null,args:[{kind:"Variable",name:"followSource",variableName:"followSource"},{kind:"Variable",name:"targetUid",variableName:"uid"}],concreteType:"UserAddFollower",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerIsFollowing",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"followerCount",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"errorMessage",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"UserFollow_userAddFollower_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"UserFollow_userAddFollower_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"UserFollow_userAddFollower_Mutation",id:"892d4dabe430ab57ef9fcaba7a731ecf2938485b3c34ad031fa49db7a942eed7",text:null,metadata:{}}}}();b.hash="0f910d6efd5acf0ef899c818e6b11828";var k,_,v,F=b,S=a("q1tI"),w=a("Gnru"),E=a("VyO/"),C=a("FuLD"),K=a("nwxp"),O=a("hXLn"),T=a("/bbo"),M=a("zLpq"),L=a("59Xv"),I=a("OMLc"),x=a("9ALW"),j=a("jufJ"),R=a("RA+f"),U=a("LNH1"),N=a("CCxx"),D=a("biQL"),V=a("R+um"),P=void 0!==k?k:k=r,q=void 0!==_?_:_=t,A=function(e,n){var a,l=e.uid,t=e.viewerIsFollowing,r=e.followerCount;a=!t&&n?{uid:l,followSource:n}:{uid:l};var i={id:e.id,__typename:e.__typename,viewerIsFollowing:!t,followerCount:t?r-1:r+1};return{mutation:t?q:P,variables:a,optimisticResponse:t?{userRemoveFollower:{user:i}}:{userAddFollower:{user:i,success:!0,errorMessage:""}}}},B=function(e){c()(a,e);var n=g()(a);function a(){return s()(this,a),n.apply(this,arguments)}return u()(a,[{key:"getButtonText",value:function(e){var n=e.showUserName,a=this.props,l=a.user,t=a.showFollowBack,r=l.viewerIsFollowing,i=l.viewerIsFollowedBy;return r?Object(j.Z)(S.createElement(S.Fragment,null,"Following ",n&&S.createElement(V.b,{user:l}))):i&&t?Object(j.Z)("Follow Back"):Object(j.Z)(S.createElement(S.Fragment,null,"Follow ",n&&S.createElement(V.b,{user:l})))}},{key:"render",value:function(){var e=this,n=this.props,l=n.user,t=n.inActionBar,r=n.iconOnly,i=n.noCount,s=n.followSource,o=n.size,u=n.useStackedButtonOnMobile,d=n.buttonVariant,c=n.showUserName,m=n.inline,g=n.isFullWidth,p=l.uid,f=l.viewerIsFollowing,h=l.followerCount,y=l.isBlocking,b=l.isBlockedByViewer;if(Object(C.b)()||y||b)return null;var k=r?f?S.createElement(j.J,null,"Following ",S.createElement(V.b,{user:l})):S.createElement(j.J,null,"Follow ",S.createElement(V.b,{user:l})):undefined;return S.createElement(O.a,{fragmentOrQuery:a.fragments.user,initialData:l,variables:{id:p}},S.createElement(U.b,null,(function(n){return S.createElement(w.ClientLogConsumer,null,(function(a){return S.createElement(E.a,A(l,s),(function(s){var y=function(l){l.stopPropagation(),e.props.onFollow&&e.props.onFollow(!f),a(f?"UserUnfollow":"UserFollow",{uid:p}),s().then((function(e){var a,l,t;if(null!==e&&void 0!==e&&null!==(a=e.data)&&void 0!==a&&a.userAddFollower&&!1===(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(t=l.userAddFollower)||void 0===t?void 0:t.success)){var r,i,s=null===e||void 0===e||null===(r=e.data)||void 0===r||null===(i=r.userAddFollower)||void 0===i?void 0:i.errorMessage;s?n.error(Object(j.Y)(s)):n.genericError()}}))};if(m)return Object(C.d)(l)?S.createElement(S.Fragment,null):S.createElement(N.a,{color:f?"gray_light":"blue",onClick:y,cursor:"pointer"},S.createElement(R.r,{fontSize:"small",medium:!0},e.getButtonText({})));var b=o||"regular",_=r?null:e.getButtonText({showUserName:c}),v=e.getButtonText({showUserName:!0}),F=Object.assign({icon:f?S.createElement(I.a,{name:"UserFollowing","aria-label":v}):S.createElement(I.a,{name:"UserFollow","aria-label":v}),count:i?undefined:h,tooltipText:k,pressed:f,onClick:y},(!u||Object(K.b)())&&{isFullWidth:g});if(t){if(Object(C.d)(l))return S.createElement(R.r,{color:"gray_light",px:x.f[b].flatPx,py:x.f[b].py,whiteSpace:"nowrap"},S.createElement(D.a,{count:h}));var w=Object.assign({useHaptics:!0,size:b,variant:"blue"},F);return Object(K.e)()&&u?S.createElement(L.a,Object.assign({},w,{text:e.getButtonText({showUserName:c})})):S.createElement(M.a,Object.assign({},w,{text:null!==_&&void 0!==_?_:undefined}))}return S.createElement(T.a,Object.assign({variant:d||"blue_light",size:"small",text:null!==_&&void 0!==_?_:undefined,disabled:Object(C.d)(l),useHaptics:!0},F))}))}))})))}}],[{key:"getLabelText",value:function(e){return e.viewerIsFollowing?Object(j.Z)(S.createElement(S.Fragment,null,"Unfollow ",S.createElement(V.b,{user:e}))):Object(j.Z)(S.createElement(S.Fragment,null,"Follow ",S.createElement(V.b,{user:e})))}},{key:"getOverflowItem",value:function(e,n){var l=e.uid,t=e.viewerIsFollowing;return{label:a.getLabelText(e),onSelected:function(){Object(E.c)(A(e,n))},feedLoggingType:{loggingName:t?"UserUnfollow":"UserFollow",metadata:{uid:l},shouldLog:!0}}}},{key:"getFeedbackText",value:function(e){return{title:Object(j.Z)(S.createElement(S.Fragment,null,"You've unfollowed ",S.createElement(V.b,{user:e}))),body:Object(j.Z)("You'll see less of this person in your feed."),onSelected:function(e){return Object(E.c)(A(e))}}}}]),a}(S.Component);B.fragments={user:void 0!==v?v:v=l},B.mutations={followMutation:P,unfollowMutation:q},B.displayName="UserFollow";n.a=Object(E.b)(B)},tRfs:function(e,n,a){"use strict";var l;!function(e){e.ads_keyword="ads_keyword",e.aggregated_query="aggregated_query",e.all="all",e.ask_question="ask_question",e.daily_ads_impression_histogram="daily_ads_impression_histogram",e.didyoumean="didyoumean",e.full_text_question_query="full_text_question_query",e.geolocation="geolocation",e.geolocation_from_id="geolocation_from_id",e.hyperlink_query="hyperlink_query",e.impressions="impressions",e.keyword_targeting="keyword_targeting",e.keyword_targeting_count="keyword_targeting_count",e.mothership="mothership",e.suggested_bid_by_expected_value="suggested_bid_by_expected_value",e.suggested_bid_by_expected_value_with_ctr_platform_splits="suggested_bid_by_expected_value_with_ctr_platform_splits",e.ts_a2a="ts_a2a",e.ts_board="ts_board",e.ts_demand_evaluation="ts_demand_evaluation",e.ts_duplicate="ts_duplicate",e.ts_duplicate_no_stopwords="ts_duplicate_no_stopwords",e.ts_duplicate_prefix="ts_duplicate_prefix",e.ts_duplicate_prefix_with_retry="ts_duplicate_prefix_with_retry",e.ts_exact_match="ts_exact_match",e.ts_feed_control="ts_feed_control",e.ts_few_chars="ts_few_chars",e.ts_general="ts_general",e.ts_general_question="ts_general_question",e.ts_lookup_bar="ts_lookup_bar",e.ts_lookup_bar_duplicate_prefix="ts_lookup_bar_duplicate_prefix",e.ts_lookup_bar_general="ts_lookup_bar_general",e.ts_question="ts_question",e.ts_related_questions="ts_related_questions",e.ts_related_questions_base="ts_related_questions_base",e.ts_related_questions_new="ts_related_questions_new",e.ts_stealth_questions="ts_stealth_questions",e.ts_topic="ts_topic",e.ts_topic_labeler_similar_questions="ts_topic_labeler_similar_questions",e.ts_user="ts_user",e.ts_tribe_user="ts_tribe_user",e.ts_tribe="ts_tribe",e.ask_question_duplicate="ask_question_duplicate",e.full_text_fast="full_text_fast",e.ts_language="ts_language",e.ts_tribe_following="ts_tribe_following"}(l||(l={})),n.a=l;new Map([[l.ads_keyword,1],[l.aggregated_query,2],[l.all,3],[l.ask_question,4],[l.daily_ads_impression_histogram,5],[l.didyoumean,6],[l.full_text_question_query,7],[l.geolocation,8],[l.geolocation_from_id,9],[l.hyperlink_query,10],[l.impressions,11],[l.keyword_targeting,12],[l.keyword_targeting_count,13],[l.mothership,14],[l.suggested_bid_by_expected_value,15],[l.suggested_bid_by_expected_value_with_ctr_platform_splits,16],[l.ts_a2a,17],[l.ts_board,18],[l.ts_demand_evaluation,19],[l.ts_duplicate,20],[l.ts_duplicate_no_stopwords,21],[l.ts_duplicate_prefix,22],[l.ts_duplicate_prefix_with_retry,23],[l.ts_exact_match,24],[l.ts_feed_control,25],[l.ts_few_chars,26],[l.ts_general,27],[l.ts_general_question,28],[l.ts_lookup_bar,29],[l.ts_lookup_bar_duplicate_prefix,30],[l.ts_lookup_bar_general,31],[l.ts_question,32],[l.ts_related_questions,33],[l.ts_related_questions_base,34],[l.ts_related_questions_new,35],[l.ts_stealth_questions,36],[l.ts_topic,37],[l.ts_topic_labeler_similar_questions,38],[l.ts_user,39],[l.ts_tribe_user,40],[l.ts_tribe,41],[l.ask_question_duplicate,42],[l.full_text_fast,43],[l.ts_language,44],[l.ts_tribe_following,45]]),new Map([[1,l.ads_keyword],[2,l.aggregated_query],[3,l.all],[4,l.ask_question],[5,l.daily_ads_impression_histogram],[6,l.didyoumean],[7,l.full_text_question_query],[8,l.geolocation],[9,l.geolocation_from_id],[10,l.hyperlink_query],[11,l.impressions],[12,l.keyword_targeting],[13,l.keyword_targeting_count],[14,l.mothership],[15,l.suggested_bid_by_expected_value],[16,l.suggested_bid_by_expected_value_with_ctr_platform_splits],[17,l.ts_a2a],[18,l.ts_board],[19,l.ts_demand_evaluation],[20,l.ts_duplicate],[21,l.ts_duplicate_no_stopwords],[22,l.ts_duplicate_prefix],[23,l.ts_duplicate_prefix_with_retry],[24,l.ts_exact_match],[25,l.ts_feed_control],[26,l.ts_few_chars],[27,l.ts_general],[28,l.ts_general_question],[29,l.ts_lookup_bar],[30,l.ts_lookup_bar_duplicate_prefix],[31,l.ts_lookup_bar_general],[32,l.ts_question],[33,l.ts_related_questions],[34,l.ts_related_questions_base],[35,l.ts_related_questions_new],[36,l.ts_stealth_questions],[37,l.ts_topic],[38,l.ts_topic_labeler_similar_questions],[39,l.ts_user],[40,l.ts_tribe_user],[41,l.ts_tribe],[42,l.ask_question_duplicate],[43,l.full_text_fast],[44,l.ts_language],[45,l.ts_tribe_following]])},ujEb:function(e,n,a){"use strict";a.d(n,"b",(function(){return en}));var l={};a.r(l),a.d(l,"default",(function(){return w}));var t={};a.r(t),a.d(t,"default",(function(){return C}));var r={};a.r(r),a.d(r,"default",(function(){return O}));var i={};a.r(i),a.d(i,"default",(function(){return B}));var s={};a.r(s),a.d(s,"default",(function(){return pe}));var o={};a.r(o),a.d(o,"default",(function(){return he}));var u={};a.r(u),a.d(u,"default",(function(){return Ie}));var d={};a.r(d),a.d(d,"default",(function(){return qe}));var c=a("rhDr"),m=a.n(c),g=a("8ZkK"),p=a.n(g),f=a("tQZz"),h=a.n(f),y=a("g8yt"),b=a.n(y),k=a("10u2"),_=a.n(k),v=a("MMxs"),F=a.n(v),S=function(){var e=[{kind:"LocalArgument",name:"threadId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"after",type:"String",defaultValue:null}],n=[{kind:"Variable",name:"threadId",variableName:"threadId"}],a={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"threadId",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"isUnreadForViewer",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"isPotentialSpamForViewer",args:null,storageKey:null},i={kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null}]},s={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},u={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},c=[o,s,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],m={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:c},g={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:c},p={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},y={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},k={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"annotate_with_ids",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}]},_={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerBundleSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"consumerBundleActive",args:null,storageKey:null}]},v=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"first",variableName:"first"}];return{kind:"Request",fragment:{kind:"Fragment",name:"MessagesThreadQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"thread",storageKey:null,args:n,concreteType:"Thread",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"otherUsers",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[a,{kind:"FragmentSpread",name:"UserName_user",args:null},{kind:"FragmentSpread",name:"UserPhoto_user",args:null}]},l,t,r,{kind:"LinkedField",alias:"messagesConnection",name:"__MessagesThread_messagesConnection_connection",storageKey:null,args:null,concreteType:"MessagesConnection",plural:!1,selections:[i,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"MessageEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Message",plural:!1,selections:[s,o,{kind:"FragmentSpread",name:"Message_message",args:null}]},u]}]},{kind:"FragmentSpread",name:"ThreadReplyComposer_thread",args:null},{kind:"FragmentSpread",name:"FirstMessageBanner_thread",args:null},{kind:"FragmentSpread",name:"ThreadOverflowMenu_thread",args:null}]}]},operation:{kind:"Operation",name:"MessagesThreadQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"thread",storageKey:null,args:n,concreteType:"Thread",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"otherUsers",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[a,s,o,d,m,g,p,f,h,y,b,{kind:"ScalarField",alias:null,name:"viewerCanMessage",args:null,storageKey:null},k,_]},l,{kind:"ScalarField",alias:null,name:"isFromModeration",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[{kind:"LinkedField",alias:"helpCenterLink",name:"link",storageKey:'link(name:"help_center")',args:[{kind:"Literal",name:"name",value:"help_center"}],concreteType:"Link",plural:!1,selections:[s,o,{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null}]},s]},t,r,{kind:"ScalarField",alias:null,name:"eligibleToSendReason",args:null,storageKey:null},s,{kind:"ScalarField",alias:null,name:"reportableId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[s,{kind:"ScalarField",alias:null,name:"inboxCount",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"profileNavBadgeCount",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"messagesConnection",storageKey:null,args:v,concreteType:"MessagesConnection",plural:!1,selections:[i,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"MessageEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Message",plural:!1,selections:[s,{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[a,s,p,f,h,y,o,b,d,m,g,_,k]},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"time",args:null,storageKey:null},o]},u,s]},s]},{kind:"LinkedHandle",alias:null,name:"messagesConnection",args:v,handle:"connection",key:"MessagesThread_messagesConnection",filters:null}]}]},params:{operationKind:"query",name:"MessagesThreadQuery",id:"2b581441d7cc0f6e2e014bdef55f3d05f05edbe5c13651fb9e0f14816f8cfce3",text:null,metadata:{connection:[{count:"first",cursor:"after",direction:"forward",path:["thread","messagesConnection"]}]}}}}();S.hash="9190d53649ac12d2fb8a04340bec0c8e";var w=S,E={kind:"Fragment",name:"MessagesThread_thread",type:"Thread",metadata:{connection:[{count:"first",cursor:"after",direction:"forward",path:["messagesConnection"]}]},argumentDefinitions:[{kind:"LocalArgument",name:"first",type:"Int",defaultValue:20},{kind:"LocalArgument",name:"after",type:"String",defaultValue:null}],selections:[{kind:"LinkedField",alias:null,name:"otherUsers",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},{kind:"FragmentSpread",name:"UserName_user",args:null},{kind:"FragmentSpread",name:"UserPhoto_user",args:null}]},{kind:"ScalarField",alias:null,name:"threadId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numMessages",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isUnreadForViewer",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isPotentialSpamForViewer",args:null,storageKey:null},{kind:"LinkedField",alias:"messagesConnection",name:"__MessagesThread_messagesConnection_connection",storageKey:null,args:null,concreteType:"MessagesConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"MessageEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Message",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"FragmentSpread",name:"Message_message",args:null}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]}]},{kind:"FragmentSpread",name:"ThreadReplyComposer_thread",args:null},{kind:"FragmentSpread",name:"FirstMessageBanner_thread",args:null},{kind:"FragmentSpread",name:"ThreadOverflowMenu_thread",args:null}],hash:"e2e5d2cfb9082a12c3d6560276e9722a"},C=E,K=function(){var e=[{kind:"LocalArgument",name:"threadId",type:"BigInt!",defaultValue:null}],n=[{kind:"Variable",name:"threadId",variableName:"threadId"}],a={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"isUnreadForViewer",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"inboxCount",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"profileNavBadgeCount",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"MessagesThread_threadMarkRead_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"threadMarkRead",storageKey:null,args:n,concreteType:"ThreadMarkRead",plural:!1,selections:[a,{kind:"LinkedField",alias:null,name:"thread",storageKey:null,args:null,concreteType:"Thread",plural:!1,selections:[l,{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[t,r]}]}]}]},operation:{kind:"Operation",name:"MessagesThread_threadMarkRead_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"threadMarkRead",storageKey:null,args:n,concreteType:"ThreadMarkRead",plural:!1,selections:[a,{kind:"LinkedField",alias:null,name:"thread",storageKey:null,args:null,concreteType:"Thread",plural:!1,selections:[l,{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[t,r,i]},i]}]}]},params:{operationKind:"mutation",name:"MessagesThread_threadMarkRead_Mutation",id:"4db76c77ded62a3b83226bf885b6911864c4c355579db32d88606d595e850afd",text:null,metadata:{}}}}();K.hash="aec895c14518d64ad869da18b732b9b6";var O=K,T=a("q1tI"),M=a("VyO/"),L=a("nwxp"),I=a("yju1"),x=a("RA+f"),j=a("m+xM"),R=a("d1zJ"),U=a("Ure0"),N=a("R+um"),D=a("r+vq"),V=a("VwdU"),P=a("HC+x"),q=a("vOnD"),A={kind:"Fragment",name:"Message_message",type:"Message",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},{kind:"FragmentSpread",name:"UserPhoto_user",args:null}]},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"time",args:null,storageKey:null}],hash:"533435bccbe931339087b474ade7ef67"},B=A,H=a("NHYY"),z=a("Kh5g"),W=a("FuLD"),Q=a("4Xda"),J=a("AFGi"),Z=a("l/R4"),G=a("YVdv"),Y=a.n(G),X=a("QLaP"),$=a.n(X),ee=a("vkEr"),ne=a("jufJ"),ae=function(e){var n=e.utime;$()(Number.isInteger(n)&&n>0,"react-messages-MessageDateTime: Expected positive integer utime value, Got: ".concat(n));var a=Object(ee.i)(n),l=Object(ee.l)(),t=Object(ee.j)(a,l);return Object(ee.q)(a,l)<24?T.createElement(ne.i,{utime:n,monthFormatLength:"short",formatType:"Compact"}):t===ee.b.FIVE_DAYS_AGO_TO_ONE_DAY_AGO?T.createElement(T.Fragment,null,Object(ne.O)(a)):t===ee.b.SIX_MONTHS_AGO_TO_FIVE_DAYS_AGO||a.getFullYear()===l.getFullYear()&&t===ee.b.ONE_YEAR_AGO_TO_SIX_MONTHS_AGO?T.createElement(T.Fragment,null,Object(ne.S)(a)):t in[ee.b.ONE_YEAR_AGO_TO_SIX_MONTHS_AGO,ee.b.FOREVER_AGO_TO_ONE_YEAR_AGO]?T.createElement(T.Fragment,null,Object(ne.P)(a)):null};ae.displayName="MessageDateTime";var le,te=ae,re=a("LDS9"),ie=a("+ISc"),se=q["default"].svg.withConfig({displayName:"Message___StyledSvg",componentId:"sc-1a606on-0"})(["",""],(function(e){return e._css})),oe=Object(q["default"])(x.r).withConfig({displayName:"Message___StyledText",componentId:"sc-1a606on-1"})(['[data-embed-type="youtube"]{width:',";}blockquote{color:"," !important;}"],(function(e){return e._css2}),(function(e){return e._css3})),ue=function(e){_()(a,e);var n=F()(a);function a(){return p()(this,a),n.apply(this,arguments)}return h()(a,[{key:"render",value:function(){var e=this.props.theme,n=this.props.message,a=n.content,l=n.author,t=n.time,r=e.fontSizes.regular*e.lineHeights.regular+2*(e.space.tiny+1),i=Object(W.c)(l.uid);$()(null!==a,"missing content");var s=Object(J.s)(a),o=JSON.parse(a),u=0===s.length&&(Object(J.l)(o)||Object(J.m)(o)||Object(J.n)(o)),d=i?Object(Z.c)("white",e.colors.text):Object(Z.c)("gray_dark",e.colors.text);return T.createElement(re.a.Consumer,null,(function(n){return T.createElement(Q.a.Consumer,null,(function(a){return T.createElement(H.a.Consumer,null,(function(s){return T.createElement(x.i,{justifyContent:i?"flex-end":"flex-start",flexShrink:0},T.createElement(x.i,{alignItems:"flex-end",mb:"small",mt:"tiny",maxWidth:Object(L.e)()||"dock"===n.container?"88%":"70%",flexDirection:i?"row-reverse":undefined},!i&&T.createElement(x.i,{flexGrow:0,flexDirection:"column"},T.createElement(x.r,{lineHeight:0},T.createElement(D.a,{user:l,size:18,position:"relative",top:-2,shouldShowBadge:!1})),T.createElement(x.r,{fontSize:"tiny",mt:"tiny"},"\xa0")),T.createElement(x.i,{ml:i?undefined:"small",mr:i?"small":undefined,flexGrow:1,justifyContent:i?"flex-end":"flex-start",flexDirection:"column",alignItems:i?"flex-end":"flex-start"},T.createElement(x.d,{display:"inline-block",bg:u?undefined:i?"blue":a.isDarkModeOn?"gray_dark":"gray_light",color:d,py:u?undefined:e.space.tiny+1,px:u?undefined:e.space.small+4,position:"relative",borderRadius:r/2,borderBottomLeftRadius:i?undefined:0,borderBottomRightRadius:i?0:undefined,overflow:u?"hidden":undefined},T.createElement(oe,{fontSize:"regular",style:{wordBreak:"break-word"},passColorToLinks:!0,underlineLinks:!0,mb:u?"-1em":undefined,_css2:Object(L.b)()?"dock"===n.container?.88*(ie.MESSAGE_DOCK_WIDTH-32)+"px":"340px":"70vw",_css3:Y()(.3,d)},T.createElement(z.a,{qt:o,disableFullWidthImages:!0})),u?undefined:T.createElement(x.i,{position:"absolute",left:i?undefined:-6,right:i?-6:undefined,bottom:0},function(n,a,l){return T.createElement(se,{width:"6",height:"11",viewBox:"0 0 6 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",_css:n?"\n          transform: scaleX(".concat(l?1:-1,");\n        "):"\n            transform: scaleX(".concat(l?-1:1,");\n          ")},T.createElement("path",{d:"M-3.05176e-05 10.5019C-3.05176e-05 10.777 0.222986 11 0.49809 11H5.99997V0C5.99997 4.06498 4.64357 7.63316 0.640783 9.52185C0.25977 9.70162 -3.05176e-05 10.0768 -3.05176e-05 10.4981V10.4981L-2.69413e-05 10.5L-3.05176e-05 10.5019V10.5019Z",fill:n?e.colors.bg.blue:a?e.colors.bg.gray_dark:e.colors.bg.gray_light}))}(i,a.isDarkModeOn,s===H.b.RTL))),T.createElement(x.r,{fontSize:"tiny",mt:"tiny",color:"gray_light",textAlign:i?"right":"left"},T.createElement(te,{utime:t})))))}))}))}))}}]),a}(T.Component);ue.fragments={message:void 0!==le?le:le=i},ue.displayName="Message";var de=Object(q.withTheme)(Object(M.b)(ue)),ce=function(){var e=[{kind:"LocalArgument",name:"threadId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"numMessagesKnownOnClient",type:"Int!",defaultValue:null}],n=[{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"threadId",variableName:"threadId"}],a={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"errorMsg",args:null,storageKey:null},t=[{kind:"Variable",name:"numMessagesKnownOnClient",variableName:"numMessagesKnownOnClient"}],r={kind:"ScalarField",alias:null,name:"msgId",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},o=[s,i,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}];return{kind:"Request",fragment:{kind:"Fragment",name:"ThreadReplyComposer_threadReplyAdd_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"threadReplyAdd",storageKey:null,args:n,concreteType:"ThreadReplyAdd",plural:!1,selections:[a,l,{kind:"LinkedField",alias:null,name:"thread",storageKey:null,args:null,concreteType:"Thread",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"allRecentMessages",storageKey:null,args:t,concreteType:"Message",plural:!0,selections:[r,{kind:"FragmentSpread",name:"Message_message",args:null}]}]}]}]},operation:{kind:"Operation",name:"ThreadReplyComposer_threadReplyAdd_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"threadReplyAdd",storageKey:null,args:n,concreteType:"ThreadReplyAdd",plural:!1,selections:[a,l,{kind:"LinkedField",alias:null,name:"thread",storageKey:null,args:null,concreteType:"Thread",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"allRecentMessages",storageKey:null,args:t,concreteType:"Message",plural:!0,selections:[r,{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},i,{kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},s,{kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:o},{kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:o},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerBundleSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"consumerBundleActive",args:null,storageKey:null}]},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"annotate_with_ids",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}]}]},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"time",args:null,storageKey:null},i]},i]}]}]},params:{operationKind:"mutation",name:"ThreadReplyComposer_threadReplyAdd_Mutation",id:"02d9084df9ddb8f24773e451855712413fabdd7545e83b140e1f6200cb3c0270",text:null,metadata:{}}}}();ce.hash="04307df03e4b1f50ba7203a516bfc993";var me,ge,pe=ce,fe={kind:"Fragment",name:"ThreadReplyComposer_thread",type:"Thread",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"threadId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isFromModeration",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"otherUsers",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanMessage",args:null,storageKey:null},{kind:"FragmentSpread",name:"UserName_user",args:null}]},{kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[{kind:"LinkedField",alias:"helpCenterLink",name:"link",storageKey:'link(name:"help_center")',args:[{kind:"Literal",name:"name",value:"help_center"}],concreteType:"Link",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null}]}]}],hash:"8ab1da7b938511537af4365bf99f270d"},he=fe,ye=a("SKAY"),be=a("EreF"),ke=a("/bbo"),_e=a("LNH1"),ve=a("PRXj"),Fe=a("OMLc"),Se=a("LJFN"),we=a("LW3J"),Ee=a("rS24"),Ce=Object(q["default"])(x.d).withConfig({displayName:"ThreadReplyComposer___StyledBox",componentId:"s975db-0"})([".editor_inner{padding:0;}"]),Ke=Object(q["default"])(x.d).withConfig({displayName:"ThreadReplyComposer___StyledBox2",componentId:"s975db-1"})([".doc{min-height:0;margin:0;padding:0;line-height:1.5;",":","px;}",""],(function(e){return e._css}),(function(e){return e._css2}),(function(e){return e._css3})),Oe=function(e){_()(a,e);var n=F()(a);function a(e){var l;return p()(this,a),(l=n.call(this,e)).editorRef=void 0,l.buttonRef=void 0,l.fakeInputRef=void 0,l.photoPermissionMessageHandler=void 0,l.threadReplyAddMutation=function(e){var n,t=l.props,r=t.thread,i=t.initialCount,s=null===(n=l.editorRef.current)||void 0===n?void 0:n.save();return Object(M.c)({mutation:a.mutations.threadReplyAdd,variables:{threadId:r.threadId,content:JSON.stringify(s),numMessagesKnownOnClient:i}}).then((function(n){var a,t=l.props.desktopReplyCallback,r=null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.threadReplyAdd,i=r.success,s=r.errorMsg;if(s)e.error(Object(ne.Y)(s)),l.setState({isSubmitting:!1});else if(i){var o,u;null===(o=l.editorRef.current)||void 0===o||o.clear(),l.setState({isSubmitting:!1}),Object(L.b)()&&t&&t(),null===(u=l.editorRef.current)||void 0===u||u.focusEditor()}else e.genericError()}))["catch"]((function(){l.setState({isSubmitting:!1})}))},l.handleSubmit=function(e){l.state.canAdd&&l.editorRef.current&&!l.state.isSubmitting&&l.setState({isSubmitting:!0},(function(){l.threadReplyAddMutation(e)}))},l.editorRef=T.createRef(),l.buttonRef=T.createRef(),l.fakeInputRef=T.createRef(),l.state={canAdd:!1,isSubmitting:!1,submitButtonWidth:null,hasMeaningfulContent:!1,editorLoaded:!1,isFocused:!1,imageUploadStatus:Se.b.ready},l.handleEditorSetup=l.handleEditorSetup.bind(b()(l)),Object(L.g)()&&Object(I.a)("setupEditor",{hasDraft:!1}),l}return h()(a,[{key:"componentDidMount",value:function(){var e=this.props,n=e.thread,a=e.onEditorSetup,l=n.isFromModeration,t=n.otherUsers;this.measureSendButton(),!l&&t[0].viewerCanMessage||!a||this.handleEditorSetup()}},{key:"componentDidUpdate",value:function(e){!e.threadHasLoaded&&this.props.threadHasLoaded&&this.measureSendButton()}},{key:"componentWillUnmount",value:function(){Object(L.g)()&&this.photoPermissionMessageHandler&&Object(ye.removeMessageHandler)("imageButtonTapped",this.photoPermissionMessageHandler)}},{key:"openMobileEditorModal",value:function(e,n,a){var l=this.props.initialCount;Object(L.e)()&&e({modalProps:{name:"MessageEditorModal",extraProps:{isReply:!0,initialCount:l},queryVariables:{uid:n,threadId:a,isReply:!0},fetchPolicy:Object(L.g)()?"network-only":"store-or-network"},postDismissCallback:function(e){null!==e&&void 0!==e&&e.nextUrl&&Object(L.g)()&&(Object(I.a)("broadcastAllWebViews",{messageName:"markPageAsDirty",data:{url:"/messages"}}),window.location.reload())}})}},{key:"handleEditorSetup",value:function(){var e=this.props.onEditorSetup;this.setState({editorLoaded:!0}),null===e||void 0===e||e()}},{key:"measureSendButton",value:function(){this.buttonRef.current&&Object(L.b)()&&this.setState({submitButtonWidth:this.buttonRef.current.clientWidth})}},{key:"render",value:function(){var e=this,n=this.props,a=n.thread,l=n.onMeaningfulChange,t=n.theme,r=a.isFromModeration,i=a.network,s=a.otherUsers,o=i.helpCenterLink.url,u=Object(L.o)()?T.createElement(ne.K,null,"Return"):T.createElement(ne.K,null,"Enter");if(r)return T.createElement(x.d,{bg:"gray_ultralight",p:"medium"},T.createElement(x.r,{fontSize:"small",color:"gray",passColorToLinks:!0},T.createElement(ne.J,null,"You cannot reply to this message directly. Please contact us using our ",T.createElement(x.o,{href:o+"/requests/new"},"contact form"),".")));if(!s[0].viewerCanMessage)return T.createElement(x.d,{bg:"gray_ultralight",p:"medium"},T.createElement(x.r,{fontSize:"small",color:"gray"},T.createElement(ne.J,null,"You cannot send a message to"," ",T.createElement(N.b,{user:s[0],format:"short"})," at this time.")));if(Object(L.e)()){var d=this.props.onMobileClick;return T.createElement(_e.b,null,(function(n){return T.createElement(x.d,{bg:"white",pb:"calc(".concat(Object(L.f)()?"44px":"0px"," + env(safe-area-inset-bottom))"),visibility:e.state.editorLoaded?undefined:"hidden"},T.createElement(x.i,{px:"medium",py:"tiny",alignItems:"center",minHeight:50},T.createElement("input",{ref:e.fakeInputRef,style:{width:0,height:0}}),T.createElement(ve.a,{shouldRemeasure:e.state.editorLoaded,bg:"gray_ultralight",hasBorder:!1},T.createElement(Ce,{maxHeight:300,overflowY:"auto",onClick:d},T.createElement(be.a,{ref:e.editorRef,placeholder:Object(ne.Z)("Write a message..."),editorKey:"compose-inbox-message",content:Object(J.h)(),commandsToDisable:["horizontal-rule","video"],toolbarOnMobile:!0,isToolbarBottom:!0,onMeaningfulChange:function(n){e.setState({canAdd:!n.isEmpty()}),null===l||void 0===l||l(n)},focusOnLoad:!0,onEditorSetup:e.handleEditorSetup,onFocus:function(){e.setState({isFocused:!0})},onBlur:function(){e.setState({isFocused:!1})},editorPaddingReset:!0,settingOverrides:{imageRemoveButtonEnabled:!0,qtext_hyperlink_embed:!0,qtextReactHyperlinkEmbed:!0,lightWeightContentToolbar:Object(Se.d)(),eagerImageUploading:Object(Se.d)()},toolbarStyleOverrides:Object(L.f)()?{bg:"transparent",left:"medium",right:"medium",bottom:"env(safe-area-inset-bottom)"}:undefined,onImageUploadStatusChange:function(n){e.setState({imageUploadStatus:n})}}),Object(L.g)()&&T.createElement(Ee.a,null,(function(n){return e.photoPermissionMessageHandler||(e.photoPermissionMessageHandler=function(e){var a;return n(null!==(a=null===e||void 0===e?void 0:e.photoAuthorizationStatus)&&void 0!==a?a:0)},Object(ye.registerMessageHandler)("imageButtonTapped",e.photoPermissionMessageHandler)),null})))),T.createElement(ke.a,{size:"small",ml:"small",disabled:!e.state.canAdd||e.state.isSubmitting||e.state.imageUploadStatus===Se.b.uploading,onClick:function(){var a;e.handleSubmit(n),null===(a=e.fakeInputRef.current)||void 0===a||a.focus()},icon:T.createElement(Fe.a,{name:"Send"})})))}))}return T.createElement(re.a.Consumer,null,(function(n){return T.createElement(_e.b,null,(function(a){return T.createElement(H.a.Consumer,null,(function(l){return T.createElement(x.d,{bg:"dock"===n.container?"raised":"white",p:"dock"===n.container?undefined:"small",visibility:e.state.editorLoaded?undefined:"hidden",borderTop:"dock"===n.container},T.createElement(x.i,{alignItems:"flex-end",position:"relative"},T.createElement(x.r,{p:0,borderRadius:"small",fontSize:"regular",overflow:"hidden",flex:1,position:"relative"},"dock"!==n.container&&T.createElement(x.a,{fullX:!0,fullY:!0,borderAll:!0,style:{pointerEvents:"none"},borderRadius:"inherit",zIndex:20,borderWidth:1}),T.createElement(x.p,null,T.createElement(Ke,{maxHeight:"dock"===n.container?160:380,overflowY:"auto",_css:l===H.b.RTL?"padding-left":"padding-right",_css2:(e.state.submitButtonWidth||0)+t.space.medium,_css3:"dock"===n.container?"\n                              .editor_inner {\n                        padding: 0;\n                      }":""},T.createElement(be.a,{ref:e.editorRef,placeholder:Object(ne.Z)("Write a message..."),content:Object(J.h)(),toolbarOnWeb:"dock"!==n.container,commandsToDisable:["horizontal-rule","video"],onMeaningfulChange:function(n){e.setState({canAdd:!n.isEmpty(),hasMeaningfulContent:n.getLength()>5})},onEditorSetup:e.handleEditorSetup,settingOverrides:{lightWeightContentToolbar:Object(Se.d)(),shiftReturnHard:!0},isInline:!0,onKeyDownEvent:function(n){13!==n.which||n.shiftKey||!e.state.canAdd||e.state.isSubmitting||(e.handleSubmit(a),n.preventDefault())}})),T.createElement(x.a,{bottom:13,right:"medium",innerRef:e.buttonRef},T.createElement(ke.a,{size:"small",text:"dock"!==n.container?T.createElement(x.m,{alignItems:"center"},Object(ne.Z)("Send"),T.createElement(Fe.a,{name:"Send",size:16,ml:"tiny",color:"white"})):undefined,icon:"dock"===n.container?T.createElement(Fe.a,{name:"Send"}):undefined,disabled:!e.state.canAdd||e.state.isSubmitting,onClick:function(){e.handleSubmit(a)},loading:e.state.isSubmitting&&"dock"!==n.container}))))),"dock"!==n.container&&T.createElement(x.r,{fontSize:"micro",opacity:e.state.hasMeaningfulContent?.5:0,transition:"opacity",mt:"tiny",textAlign:"right"},T.createElement(we.a,null,T.createElement(ne.J,null,T.createElement(x.r,{medium:!0,display:"inline"},u)," ","to send"),T.createElement(ne.J,null,T.createElement(x.r,{medium:!0,display:"inline"},"Shift + ",u)," ","to add new line"))))}))}))}))}}]),a}(T.Component);Oe.fragments={thread:void 0!==me?me:me=o},Oe.mutations={threadReplyAdd:void 0!==ge?ge:ge=s},Oe.displayName="ThreadReplyComposer";var Te=Object(q.withTheme)(Object(M.b)(Oe)),Me=function(){var e=[{kind:"LocalArgument",name:"threadId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"numMessagesKnownOnClient",type:"Int!",defaultValue:null}],n=[{kind:"Variable",name:"threadId",variableName:"threadId"}],a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},t=[{kind:"Variable",name:"numMessagesKnownOnClient",variableName:"numMessagesKnownOnClient"}],r={kind:"ScalarField",alias:null,name:"msgId",args:null,storageKey:null},i={platforms:["DESKTOP"]},s={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},u={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},p=[l,a,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],f={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:p},h={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:p},y={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"ConsumerBundleSubscriptions",value:"true"},condition:"onFeature",selections:[{kind:"ScalarField",alias:null,name:"consumerBundleActive",args:null,storageKey:null}]},b={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"annotate_with_ids",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}]},k={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},_={kind:"ScalarField",alias:null,name:"time",args:null,storageKey:null},v=[a,s,o,u,d,c,l,m,g,f,h,y,b];return{kind:"Request",fragment:{kind:"Fragment",name:"LatestMessagesLoaderReloadableQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"thread",storageKey:null,args:n,concreteType:"Thread",plural:!1,selections:[a,l,{kind:"LinkedField",alias:null,name:"allRecentMessages",storageKey:null,args:t,concreteType:"Message",plural:!0,selections:[r,{kind:"FragmentSpread",name:"Message_message",args:null}],isLive:!0},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:i,condition:"onPlatform",selections:[{kind:"FragmentSpread",name:"MessageThreadListItem_thread",args:null}]}]}]},operation:{kind:"Operation",name:"LatestMessagesLoaderReloadableQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"thread",storageKey:null,args:n,concreteType:"Thread",plural:!1,selections:[a,l,{kind:"LinkedField",alias:null,name:"allRecentMessages",storageKey:null,args:t,concreteType:"Message",plural:!0,selections:[r,{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[s,a,o,u,d,c,l,m,g,f,h,y,b]},k,_,a]},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:i,condition:"onPlatform",selections:[{kind:"ScalarField",alias:null,name:"threadId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isUnreadForViewer",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"latestMessage",storageKey:null,args:null,concreteType:"Message",plural:!1,selections:[k,{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:"User",plural:!1,selections:v},_,a]},{kind:"LinkedField",alias:null,name:"otherUsers",storageKey:null,args:null,concreteType:"User",plural:!0,selections:v}]}]}]},params:{operationKind:"query",name:"LatestMessagesLoaderReloadableQuery",id:"19770743cabbedab7483da8b9f56d963763ad102bb240c6af35ca3e76baa8f45",text:null,metadata:{}}}}();Me.hash="b69af30db92e9dde06ff42204efb9f52";var Le,Ie=Me,xe=a("D5Zh"),je=a("hXLn"),Re=a("Yc5t"),Ue=function(e){_()(a,e);var n=F()(a);function a(e){var l;return p()(this,a),(l=n.call(this,e)).lastestNewMessagesCount=void 0,l.lastestNewMessagesCount=0,l}return h()(a,[{key:"render",value:function(){var e=this,n=this.props,l=n.threadId,t=n.initialCount,r=n.scrollContainerRef;return T.createElement(xe.a,{query:a.queries.thread,variables:{threadId:l,numMessagesKnownOnClient:t}},(function(n){var i=n.data,s=n.loading;if(n.error||s)return null;var o=i.thread;if(!o)return null;var u=o.allRecentMessages.slice().reverse();return T.createElement(je.a,{fragmentOrQuery:a.queries.thread,initialData:i,variables:{threadId:l,numMessagesKnownOnClient:t}},T.createElement(T.Fragment,null,u.map((function(e,n){return T.createElement(T.Fragment,{key:e.msgId},T.createElement(Re.b,{ratioThreshold:.5,onImpression:function(e){e&&n===u.length-1&&en(l)}},T.createElement(de,{message:e})))})),(e.lastestNewMessagesCount!==u.length&&(setTimeout((function(){var e,n;null===(e=r.current)||void 0===e||e.scroll({top:null===(n=r.current)||void 0===n?void 0:n.scrollHeight,left:0,behavior:"smooth"})}),50),e.lastestNewMessagesCount=u.length),e.lastestNewMessagesCount>20&&e.props.refetchData(),null)))}))}}]),a}(T.Component);Ue.queries={thread:void 0!==Le?Le:Le=u},Ue.displayName="LatestMessagesLoader";var Ne,De=a("8meh"),Ve=a.n(De),Pe={kind:"Fragment",name:"FirstMessageBanner_thread",type:"Thread",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"isPotentialSpamForViewer",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"eligibleToSendReason",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"otherUsers",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},{kind:"FragmentSpread",name:"UserName_user",args:null}]},{kind:"FragmentSpread",name:"Report_reportable",args:null}],hash:"64b2d6a6418e075ba5f4e814bb05cc26"},qe=Pe,Ae=a("nW6E"),Be=a("ehZD");!function(e){e["default"]="default",e.from_followed_tribe="from_followed_tribe",e.msg_setting_enabled="msg_setting_enabled",e.from_quora_employee="from_quora_employee",e.from_verified_user="from_verified_user"}(Ne||(Ne={}));var He=Ne;new Map([[Ne["default"],1],[Ne.from_followed_tribe,2],[Ne.msg_setting_enabled,3],[Ne.from_quora_employee,4],[Ne.from_verified_user,5]]),new Map([[1,Ne["default"]],[2,Ne.from_followed_tribe],[3,Ne.msg_setting_enabled],[4,Ne.from_quora_employee],[5,Ne.from_verified_user]]);var ze,We=a("NL3F"),Qe=function(e){_()(a,e);var n=F()(a);function a(){return p()(this,a),n.apply(this,arguments)}return h()(a,[{key:"openBlockUserModal",value:function(e){e({modalProps:{name:"UserBlockModal",queryVariables:{targetUid:this.props.thread.otherUsers[0].uid}}})}},{key:"render",value:function(){var e=this,n=this.props.thread,a=n.isPotentialSpamForViewer,l=n.otherUsers,t=n.eligibleToSendReason;return a?T.createElement(Ae.j,null,(function(a){var r,i=a.openStandaloneModal;return T.createElement(x.d,{p:"medium",textAlign:"center"},T.createElement(x.r,{fontSize:"tiny",color:"gray_light"},T.createElement(ne.J,null,"This is the first time"," ",T.createElement(N.b,{user:l[0],format:"short"})," has messaged you on Quora."),T.createElement(We.a,null),T.createElement(ne.J,null,T.createElement(ne.c,{value:t},(r={},Ve()(r,He.from_quora_employee,T.createElement(T.Fragment,null,T.createElement(N.b,{user:l[0],format:"short"})," was allowed to send you this message because they are an official representative of Quora.")),Ve()(r,He.from_followed_tribe,T.createElement(T.Fragment,null,"You were able to receive this message because you follow Space run by"," ",T.createElement(N.b,{user:l[0],format:"short"}),".")),Ve()(r,He.msg_setting_enabled,T.createElement(T.Fragment,null,"You were able to receive this message because you have messages from everyone enabled at"," ",T.createElement(x.o,{href:"/settings/privacy"},"Settings Page"),".")),r))),T.createElement(x.i,{pt:"small",alignItems:"center",justifyContent:"center"},T.createElement(x.e,{onClick:function(){return e.openBlockUserModal(i)},mx:"medium"},T.createElement(ne.J,null," Block ")),T.createElement(x.d,{mx:"medium"},T.createElement(Be.a,{reportable:n})))))})):null}}]),a}(T.Component);Qe.fragments={thread:void 0!==ze?ze:ze=d},Qe.displayName="FirstMessageBanner";var Je,Ze,Ge,Ye=Object(M.b)(Qe),Xe=a("7yJA"),$e=void 0!==Je?Je:Je=r,en=function(e){Object(M.c)({mutation:$e,variables:{threadId:e}}).then((function(n){var a;(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.threadMarkRead).success&&Object(L.g)()&&(Object(I.a)("broadcastAllWebViews",{messageName:"updateMessageListData",data:{threadId:e}}),Object(I.a)("broadcastAllWebViews",{messageName:"markPageAsDirty",data:{url:"/mobile_nav_sidebar"}}))}))},nn=function(e){_()(a,e);var n=F()(a);function a(e){var l;return p()(this,a),(l=n.call(this,e)).scrollContainerRef=void 0,l.previousBodyOverflowSetting=void 0,l.scrollOffset=void 0,l.dummyViewHeightOffset=void 0,l.scrollContainerRef=T.createRef(),l.previousBodyOverflowSetting=document.body.style.overflow,l.scrollOffset=Object(L.c)()?1:0,l.dummyViewHeightOffset=l.scrollOffset+(Object(L.c)()?1:0),l.handleMobileClick=l.handleMobileClick.bind(b()(l)),l.maybeScrollToBottom=l.maybeScrollToBottom.bind(b()(l)),l.sizeDummyView=l.sizeDummyView.bind(b()(l)),l.state={initialLoadComplete:!1,dummyViewHeight:0,shouldFocusEditor:!1},l}return h()(a,[{key:"scrollToBottom",value:function(e){if(this.scrollContainerRef.current){var n=this.scrollContainerRef.current,a=n.scrollHeight,l=n.clientHeight;e?this.scrollContainerRef.current.scroll({top:a-l-this.scrollOffset,left:0,behavior:"smooth"}):this.scrollContainerRef.current.scrollTop=a-l-this.scrollOffset}}},{key:"sizeDummyView",value:function(){var e=this;this.scrollContainerRef.current&&this.setState({dummyViewHeight:this.scrollContainerRef.current.clientHeight-32+this.dummyViewHeightOffset},(function(){e.scrollToBottom()}))}},{key:"refetchData",value:function(){var e,n=this;this.props.relay.refetchConnection(0,(function(){return n.setState({})}),{first:30,threadId:null===(e=this.props.thread)||void 0===e?void 0:e.threadId})}},{key:"componentDidMount",value:function(){var e=this;this.scrollToBottom(),Object(L.c)()&&setTimeout((function(){e.sizeDummyView(),window.addEventListener("resize",(function(){setTimeout((function(){e.sizeDummyView()}),200)}))}),300),Object(L.g)()&&(Object(I.a)("setPageProperties",{pullToRefresh:!1}),Object(I.a)("setPageAction",{visible:!1}));var n=this.props.thread,a=n.isUnreadForViewer,l=n.threadId;a&&en(l)}},{key:"componentWillUnmount",value:function(){Object(L.e)()&&(document.body.style.overflow=this.previousBodyOverflowSetting)}},{key:"isAtBottom",value:function(){var e,n;if(!this.scrollContainerRef.current)return!1;var a=Object(L.c)()?1:0;return(null!==(e=this.scrollContainerRef.current.scrollTop)&&void 0!==e?e:0)+a+(null!==(n=this.scrollContainerRef.current.clientHeight)&&void 0!==n?n:0)===this.scrollContainerRef.current.scrollHeight}},{key:"handleMobileClick",value:function(){var e=this;this.isAtBottom()&&setTimeout((function(){e.scrollToBottom(!0)}),250)}},{key:"maybeScrollToBottom",value:function(){var e=!(arguments.length>0&&arguments[0]!==undefined)||arguments[0];if(this.scrollContainerRef.current){var n=this.scrollContainerRef.current,a=n.scrollTop,l=n.scrollHeight,t=n.clientHeight;a+this.scrollOffset<l-t&&this.scrollToBottom(e)}}},{key:"render",value:function(){var e=this,n=this.props,a=n.thread,l=n.relay,t=n.desktopReplyCallback,r=m()(n,["thread","relay","desktopReplyCallback"]);return T.createElement(re.a.Consumer,null,(function(n){var i,s;return T.createElement(V.a,{condition:Object(L.e)(),wrapper:function(e){return T.createElement(T.Fragment,null,Object(L.g)()&&T.createElement(U.e,{rightButton:T.createElement(x.d,null,T.createElement(Xe.a,{thread:a})),variant:"regular",titleTextOnLoad:T.createElement(x.i,{alignItems:"center",justifyContent:"center"},T.createElement(D.a,{user:a.otherUsers[0],mr:"small"}),T.createElement(N.b,{user:a.otherUsers[0]}))}),T.createElement(x.h,{full:!0},e))}},T.createElement(x.i,Object.assign({flexDirection:"column",flex:1,minHeight:Object(L.f)()?"calc(var(--vh, 1vh) * 100 - ".concat(R.b,"px)"):undefined,height:Object(L.e)()?"100%":undefined,width:"100%",pt:Object(L.g)()?Object(U.f)():Object(L.f)()?R.b:undefined,position:"relative"},r),T.createElement(x.i,{flex:1,minHeight:0,bg:"dock"===n.container?"raised":"white",opacity:e.state.initialLoadComplete?1:0},T.createElement(P.a,{flex:1,innerRef:e.scrollContainerRef,lockBodyNative:!0,useShadows:!0,shadowOffset:Object(L.c)()?e.dummyViewHeightOffset:undefined,wrapperProps:{justifyContent:"flex-end",p:Object(L.e)()?"medium":undefined,px:Object(L.e)()?undefined:"medium",minHeight:"min-content",flex:1,display:"flex",flexDirection:"column"}},T.createElement(V.a,{condition:Object(L.c)(),wrapper:function(n){return T.createElement(x.i,{minHeight:e.state.dummyViewHeight,flexDirection:"column",justifyContent:"flex-end"},n)}},T.createElement(j.c,{relayObject:l,autoPaged:{enabled:!0,infiniteScrollOptions:{isReverse:!0,useWindow:!1,threshold:Object(L.e)()?10:100,getScrollParent:function(){return e.scrollContainerRef.current?e.scrollContainerRef.current:null}}}},(function(){var e,n=null===a||void 0===a||null===(e=a.messagesConnection)||void 0===e?void 0:e.edges;if(!n)return null;var l=n.slice().reverse();return T.createElement(T.Fragment,null,l.map((function(e){return T.createElement(T.Fragment,{key:e.node.id},T.createElement(de,{message:e.node}))})))}))),T.createElement(Ue,{threadId:a.threadId,initialCount:null!==(i=null===a||void 0===a?void 0:a.numMessages)&&void 0!==i?i:0,scrollContainerRef:e.scrollContainerRef,refetchData:function(){e.refetchData()}}),a.isPotentialSpamForViewer&&T.createElement(Ye,{thread:a}))),T.createElement(x.p,null,T.createElement(Te,{thread:a,initialCount:null!==(s=null===a||void 0===a?void 0:a.numMessages)&&void 0!==s?s:0,onEditorSetup:function(){setTimeout((function(){e.scrollToBottom(),requestAnimationFrame((function(){e.setState({initialLoadComplete:!0}),e.sizeDummyView()}))}),500)},onMeaningfulChange:function(n){n.isEmpty()||document.activeElement!==n.node||e.maybeScrollToBottom(!0)},onMobileClick:e.handleMobileClick,shouldFocusEditor:e.state.shouldFocusEditor,desktopReplyCallback:t,threadHasLoaded:e.state.initialLoadComplete})),!e.state.initialLoadComplete&&T.createElement(x.a,{full:!0,zIndex:1},Object(re.b)("dock"===n.container))))}))}}]),a}(T.Component);nn.fragments={thread:void 0!==Ze?Ze:Ze=t},nn.getPagedListQuery=function(){return void 0!==Ge?Ge:Ge=l},nn.connectionConfig={query:nn.getPagedListQuery(),direction:"forward",getConnectionFromProps:function(e){var n;return null===(n=e.thread)||void 0===n?void 0:n.messagesConnection},getVariables:function(e,n){var a;return{first:10,after:n.cursor,threadId:null===(a=e.thread)||void 0===a?void 0:a.threadId}}},nn.displayName="MessagesThread";n.a=Object(M.d)(nn)},vwvq:function(e,n,a){"use strict";var l={};a.r(l),a.d(l,"default",(function(){return h}));var t={};a.r(t),a.d(t,"default",(function(){return b}));var r,i,s=a("8ZkK"),o=a.n(s),u=a("tQZz"),d=a.n(u),c=a("10u2"),m=a.n(c),g=a("MMxs"),p=a.n(g),f={kind:"Fragment",name:"UserNameCredential_user",type:"User",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},{kind:"FragmentSpread",name:"UserLink_user",args:null},{kind:"FragmentSpread",name:"UserName_user",args:null}],hash:"b20cf1318e2af03f0a46e2a51b98b88e"},h=f,y={kind:"Fragment",name:"UserNameCredential_credential",type:"Credential",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"credentialId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"translatedString",args:null,storageKey:null}],hash:"dac8f1c3c723f35f9d97449076670f5d"},b=y,k=a("q1tI"),_=a("6aqD"),v=a("ZXE+"),F=a("nwxp"),S=a("FuLD"),w=a("RA+f"),E=a("jufJ"),C=a("LW3J"),K=a("nW6E"),O=a("1cij"),T=a("VyO/"),M=a("UDrg"),L=a("sC65"),I=a("R+um"),x=function(e){m()(a,e);var n=p()(a);function a(){return o()(this,a),n.apply(this,arguments)}return d()(a,[{key:"render",value:function(){var e,n=this.props,a=n.credential,l=n.user,t=n.boldName,r=n.underlineCredential,i=n.linked,s=void 0===i||i,o=n.businessCredential,u=n.businessTagline,d=n.tribeMemberPermissionBadge,c=n.color,m=n.linkColor,g=n.credentialTextProps,p=n.isTribePremiumMember;if(!o&&!a&&!u&&!l)return null;var f=(null===o||void 0===o?void 0:o.translatedString)||(null===a||void 0===a?void 0:a.translatedString)||u,h=s?k.createElement(w.r,{as:"span",bold:t},k.createElement(L.a,{user:l,includeHovercard:this.props.includeHovercard,color:m||c,tribeMemberPermissionBadge:d,isTribePremiumMember:p})):k.createElement(w.r,{as:"span",bold:t},k.createElement(I.b,{user:l,tribeMemberPermissionBadge:d,badgeColor:"white"===c?"white":"gray",isTribePremiumMember:p})),y=f?k.createElement(E.J,null,h,k.createElement(k.Fragment,null,", ",k.createElement(w.r,Object.assign({as:"span",borderBottom:null!==(e=!!r||null)&&void 0!==e?e:undefined,borderWidth:"regular",style:{wordBreak:"break-word"}},g),k.createElement(E.L,{text:Object(v.a)(f,110),translateParamName:"credential"})))):k.createElement(E.J,null,h),b=null;return!f&&Object(F.b)()&&this.props.answerContext&&this.props.answerNodeId&&!l.isAnon&&Object(S.d)(l)&&(b=k.createElement(K.d,{modalFlowProps:{initialModalProps:{name:"EditCredentials",queryVariables:{uid:l.uid,choose:!0,nodeId:this.props.answerNodeId}},initialFlowData:{chooseCredentialContentType:M.a.answer,chooseCredentialOid:this.props.answerContext},transitionName:"editCredentialsTransition"}},(function(e){var n=e.openModalFlow;return k.createElement(w.d,{as:"span",color:"gray_light"},k.createElement(w.o,{href:"#",onClick:function(e){e.preventDefault(),n()}},k.createElement(E.J,null,"Add Credential")))}))),k.createElement(k.Fragment,null,k.createElement(C.a,null,y,b),!(null!==o&&void 0!==o&&o.translatedString)&&a&&a.translatedString&&Object(O.d)()&&k.createElement(O.a,{type:"credential",id:a.credentialId}))}}]),a}(Object(_.s)(k.Component));x.fragments={credential:void 0!==r?r:r=t,user:void 0!==i?i:i=l};n.a=Object(T.b)(x)},zNCG:function(e,n,a){"use strict";a.d(n,"a",(function(){return r}));var l=a("SW3P"),t=a("KP5v"),r=function(){return Object(l.a)("use_new_profile_page_design")||Object(t.a)("new_user_profile_design")}},zqEi:function(e,n,a){"use strict";a.r(n);var l=function(){var e=[{kind:"LocalArgument",name:"id",type:"BigInt!",defaultValue:null}],n=[{kind:"Variable",name:"uid",variableName:"id"}],a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"ReloadableUserFollow_userQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:n,concreteType:"User",plural:!1,selections:[a,l,{kind:"ScalarField",alias:null,name:"followerCount",args:null,storageKey:null,isLive:!0}]}]},operation:{kind:"Operation",name:"ReloadableUserFollow_userQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:n,concreteType:"User",plural:!1,selections:[a,l,{kind:"ScalarField",alias:null,name:"followerCount",args:null,storageKey:null}]}]},params:{operationKind:"query",name:"ReloadableUserFollow_userQuery",id:"f80e3abf21956391bc80590d1c4c67ba47a43ba7cb8c3e270a185d0925cbc6d2",text:null,metadata:{derivedFrom:"UserFollow_user",isReloadableQuery:!0}}}}();l.hash="42a4a131d4ebbd357b05db386987f875",n["default"]=l}}]);