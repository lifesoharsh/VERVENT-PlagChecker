(window.ansFrontendRelayWebpackJsonpFunction=window.ansFrontendRelayWebpackJsonpFunction||[]).push([["component-Modals-NUX"],{"+22L":function(e,n,t){"use strict";var a=t("rhDr"),i=t.n(a),l=t("q1tI"),o=t("AaDK"),r=t("nW6E"),s=t("Yc5t"),u=t("jufJ"),d=function(e){var n=e.children,t=e.stepType,a=e.isLastStep,d=e.isNextButtonDisabled,c=e.isNextButtonHidden,p=e.triggerTransition,g=e.titleText,m=e.overridenNextButtonText,f=i()(e,["children","stepType","isLastStep","isNextButtonDisabled","isNextButtonHidden","triggerTransition","titleText","overridenNextButtonText"]);return l.createElement(r.f,Object.assign({navButton:"none"},f,{primaryButtonProps:!c&&{text:m||Object(u.Z)(a?"Done":"Next"),onClick:p,disabled:d},titleText:a?Object(u.Z)("One Last Step"):g}),l.createElement(s.b,{onImpression:function(){Object(o.a)("nux_step_impression",{step_name:t})}},n))};d.displayName="NUXModalLayout",n.a=d},"+pxc":function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var a=t("SKAY"),i=t("nwxp"),l=function(){var e=t("kI88");return{isMobile:Object(i.e)(),isIPad:i.n,isIOSApp:Object(i.c)(),isAndroidApp:Object(i.a)(),isNativeApp:Object(i.g)(),isIOS:i.m,isAndroid:i.l,isIOSMobileWeb:Object(i.f)()&&i.m,buildNumber:Object(a.getBuildNumber)()||0,debug:Object(a.getDebugToolsEnabled)(),isMSEdge:!!e.msedge,isMSIE:!!e.msie,isGecko:!!e.gecko,isWebkit:!!e.webkit,isFirefox:!!e.firefox,isSafari:!!e.safari,webkitVersion:0,isUIWebView:Object(i.k)(),osVersion:parseFloat(e.osversion)}}},SA9J:function(e,n,t){"use strict";t.r(n);var a={};t.r(a),t.d(a,"default",(function(){return h}));var i=t("iJoy"),l=t.n(i),o=t("8ZkK"),r=t.n(o),s=t("tQZz"),u=t.n(s),d=t("10u2"),c=t.n(d),p=t("MMxs"),g=t.n(p),m=function(){var e=[{kind:"LocalArgument",name:"stepType",type:"String!",defaultValue:null}],n=[{kind:"Variable",name:"stepType",variableName:"stepType"}],t={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i={platforms:["DESKTOP"]},l={kind:"Condition",passingValue:!0,isCustom:!0,customValue:i,condition:"onPlatform",selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[t,a,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[t,a,{kind:"ScalarField",alias:null,name:"numFollowedTopics",args:null,storageKey:null}]}]}]},o=[{kind:"Literal",name:"after",value:""},{kind:"Literal",name:"first",value:30},{kind:"Literal",name:"shownTids",value:[]},{kind:"Literal",name:"suggestionSeedTids",value:[]}];return{kind:"Request",fragment:{kind:"Fragment",name:"FollowInterestsStepQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"nuxStep",storageKey:null,args:n,concreteType:null,plural:!1,selections:[t,a,{kind:"InlineFragment",type:"FollowInterestsStep",selections:[{kind:"FragmentSpread",name:"FollowInterestsStepList_followInterestsStep",args:null},l]}]}]},operation:{kind:"Operation",name:"FollowInterestsStepQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"nuxStep",storageKey:null,args:n,concreteType:null,plural:!1,selections:[t,a,{kind:"InlineFragment",type:"FollowInterestsStep",selections:[{kind:"LinkedField",alias:null,name:"topicSuggestionsConnection",storageKey:'topicSuggestionsConnection(after:"",first:30,shownTids:[],suggestionSeedTids:[])',args:o,concreteType:"TopicSuggestionsConnection",plural:!1,selections:[t,a,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"TopicEdge",plural:!0,selections:[t,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Topic",plural:!1,selections:[t,a,{kind:"ScalarField",alias:null,name:"tid",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isFollowing",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:i,condition:"onPlatform",selections:[{kind:"ScalarField",alias:null,name:"photoUrl",args:[{kind:"Literal",name:"size",value:200}],storageKey:"photoUrl(size:200)"}]}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]}]},{kind:"LinkedHandle",alias:null,name:"topicSuggestionsConnection",args:o,handle:"connection",key:"FollowInterestsStepList_topicSuggestionsConnection",filters:[]},l]}]}]},params:{operationKind:"query",name:"FollowInterestsStepQuery",id:"4cbe3c666d669e205fc6a3f069e594004735b507b1b87e22e67b1a58dea44d82",text:null,metadata:{}}}}();m.hash="40c7aece93b2f475ff8034f92a461757";var f,h=m,v=t("q1tI"),k=t("jufJ"),y=t("RA+f"),b=t("AaDK"),S=t("+22L"),w=t("nwxp"),F=t("Xqoj"),T=t("/bbo"),L=!1,I=function(e){c()(t,e);var n=g()(t);function t(e){var a,i,l,o,s;return r()(this,t),(s=n.call(this,e)).minTopicsToFollowForStepCompletion=void 0,s.minTopicsToFollowForStepCompletion=5,s.state={tidsFollowed:new Set,stepFollowedTopicsCount:Object(w.b)()&&null!==(a=null===(i=s.props.queryResult.nuxStep)||void 0===i||null===(l=i.viewer)||void 0===l||null===(o=l.user)||void 0===o?void 0:o.numFollowedTopics)&&void 0!==a?a:0},s}return u()(t,[{key:"render",value:function(){var e=this;if(!this.props.queryResult.nuxStep)throw Error("nuxStep of Query Result is expected for FollowInterestsStep.");var n=Math.max(0,this.minTopicsToFollowForStepCompletion-this.state.stepFollowedTopicsCount);L||0!==n||(Object(b.a)("nux_follow_topics_next_button_enabled",{framework:"react"}),L=!0);var t=n>0?v.createElement(k.J,null,"Follow ",v.createElement(k.o,{value:n})," more",v.createElement(k.H,{value:n},{ONE:" topic",OTHER:" topics"}),Object(w.b)()&&" to continue"):Object(k.Z)(this.props.flowData.isLastStep?"Done":"Next");return v.createElement(S.a,{titleText:Object(w.b)()?Object(k.Z)("What are your interests?"):Object(k.Z)("Follow topics"),isLastStep:this.props.flowData.isLastStep,numInteractiveSteps:this.props.flowData.numInteractiveSteps,currentStepIdx:this.props.flowData.stepIdx,triggerTransition:this.props.triggerTransition,stepType:"follow_interests",isNextButtonDisabled:n>0,hasPadding:Object(w.b)(),overridenNextButtonText:Object(w.b)()&&t},v.createElement(y.d,{className:"puppeteer_test_follow_interests_step",mb:Object(w.e)()?"44px":undefined},Object(w.e)()&&v.createElement(y.d,{p:"medium"},v.createElement(k.J,null,"You are almost done! Select at least"," ",v.createElement(k.o,{value:this.minTopicsToFollowForStepCompletion})," ",v.createElement(k.H,{value:this.minTopicsToFollowForStepCompletion},{ONE:"topic",OTHER:"topics"})," ","so we can show you more stories you'll like.")),v.createElement(F.a,{followInterestsStep:this.props.queryResult.nuxStep,onTopicClicked:function(n,t){e.setState((function(e){return{tidsFollowed:t?new Set([].concat(l()(e.tidsFollowed),[n])):new Set(l()(e.tidsFollowed).filter((function(e){return e!=n}))),stepFollowedTopicsCount:e.stepFollowedTopicsCount+(t?1:-1)}}))}})),Object(w.e)()&&v.createElement(y.h,{bg:"white",fullX:!0,zIndex:"footer",bottom:0,p:"medium",boxShadow:"0 -5px 5px #fff"},v.createElement(T.a,{isFullWidth:!0,text:t,onClick:this.props.triggerTransition,disabled:n>0})))}}]),t}(v.Component);I.queries={onLoad:void 0!==f?f:f=a},I.displayName="FollowInterestsStep";n["default"]=I},VMwC:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return x}));var a={};t.r(a),t.d(a,"default",(function(){return h}));var i={};t.r(i),t.d(i,"default",(function(){return b}));var l=t("iJoy"),o=t.n(l),r=t("8ZkK"),s=t.n(r),u=t("tQZz"),d=t.n(u),c=t("10u2"),p=t.n(c),g=t("MMxs"),m=t.n(g),f=function(){var e=[{kind:"LocalArgument",name:"languageCodes",type:"[String!]!",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"languagesAddAndRelevantTopicsFollow",storageKey:null,args:[{kind:"Variable",name:"languageCodes",variableName:"languageCodes"}],concreteType:"LanguagesAddAndRelevantTopicsFollow",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"LanguageStep_languagesAddAndRelevantTopicsFollow_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"LanguageStep_languagesAddAndRelevantTopicsFollow_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"LanguageStep_languagesAddAndRelevantTopicsFollow_Mutation",id:"2e7aa926bbb9cab812403c9b859af95dd77f8bc2f515b32d05ecb4f260aa0570",text:null,metadata:{}}}}();f.hash="10f47c3a7fef6a27faf1c7a0087f0b34";var h=f,v=function(){var e=[{kind:"LocalArgument",name:"stepType",type:"String!",defaultValue:null}],n={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},a=[{kind:"LinkedField",alias:null,name:"nuxStep",storageKey:null,args:[{kind:"Variable",name:"stepType",variableName:"stepType"}],concreteType:null,plural:!1,selections:[n,t,{kind:"InlineFragment",type:"LanguageStep",selections:[{kind:"ScalarField",alias:null,name:"orderedWorldTopLanguageCodes",args:null,storageKey:null}]}]},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[n,t,{kind:"ScalarField",alias:null,name:"preferredLanguageCodes",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[n,t,{kind:"ScalarField",alias:null,name:"contentLanguageCode",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"LanguageStepQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:a},operation:{kind:"Operation",name:"LanguageStepQuery",argumentDefinitions:e,selections:a},params:{operationKind:"query",name:"LanguageStepQuery",id:"42d4a27d7838b064f4eb5722e512e9093ff2bd4ebe54c52d8ab38753289c6091",text:null,metadata:{}}}}();v.hash="81aef9c5d5e8525dad774443a556353e";var k,y,b=v,S=t("q1tI"),w=t("VyO/"),F=t("jufJ"),T=t("MI6j"),L=t("06DM"),I=t("cBSy"),_=t("RA+f"),C=t("rAPm"),E=t("+22L"),x=function(e){p()(t,e);var n=m()(t);function t(e){var a,i,l,o;s()(this,t),(o=n.call(this,e)).userLanguageCodes=void 0,o.restOfWorldLanguageCodes=void 0;var r=o.props.queryResult,u=null===(a=r.network)||void 0===a?void 0:a.contentLanguageCode,d=null!==(i=null===(l=r.nuxStep)||void 0===l?void 0:l.orderedWorldTopLanguageCodes)&&void 0!==i?i:[],c=r.viewer.preferredLanguageCodes;return o.userLanguageCodes=c.filter((function(e){return e!==u&&Object(F.T)(e)})),o.restOfWorldLanguageCodes=d.filter((function(e){return e!==u&&!c.includes(e)})),o.state={checkedLanguages:o.userLanguageCodes.map((function(e){return e.toUpperCase()}))},o}return d()(t,[{key:"handleListItemClick",value:function(e){this.state.checkedLanguages.includes(e)?this.setState((function(n){return{checkedLanguages:n.checkedLanguages.filter((function(n){return n!==e}))}})):this.setState((function(n){return{checkedLanguages:[].concat(o()(n.checkedLanguages),[e])}}))}},{key:"render",value:function(){var e=this,n=function(n){return S.createElement(_.d,{className:"puppeteer_test_language_list_item",key:n},S.createElement(T.c,{key:n,mainText:S.createElement(F.C,{languageCode:n}),subText:S.createElement(F.C,{languageCode:n,nativeName:!0}),variant:"check",selected:e.state.checkedLanguages.includes(n.toUpperCase()),size:"dense",onClick:function(){e.handleListItemClick(n.toUpperCase())}}))};return S.createElement(w.a,{mutation:t.mutations.addLanguagesAndFollowRelevantTopicsMutation,variables:{languageCodes:this.state.checkedLanguages}},(function(t){return S.createElement(E.a,{titleText:Object(F.Z)("Add Languages"),isLastStep:e.props.flowData.isLastStep,numInteractiveSteps:e.props.flowData.numInteractiveSteps,currentStepIdx:e.props.flowData.stepIdx,hasPadding:!1,triggerTransition:function(){t(),e.props.triggerTransition()},stepType:"language"},S.createElement(_.d,{className:"puppeteer_test_language_step"},S.createElement(_.d,{p:"medium"},S.createElement(F.J,null,"What other languages do you know?")),e.userLanguageCodes.length>0&&S.createElement("div",null,S.createElement(L.a,{borderBottom:!1,titleText:Object(F.Z)("Suggested from browser settings")}),S.createElement(_.d,{className:"puppeteer_test_user_language_list"},S.createElement(I.a,null,e.userLanguageCodes.map(n))),S.createElement(L.a,{borderBottom:!1,titleText:Object(F.Z)("More languages")})),S.createElement(_.d,{className:"puppeteer_test_world_language_list"},S.createElement(I.a,null,e.restOfWorldLanguageCodes.map(n))),S.createElement(C.a,{mt:"tiny",mb:"small",px:"medium"},S.createElement(F.J,null,"Don't see your language here? You can add more languages from your profile page later."))))}))}}]),t}(S.Component);x.queries={onLoad:void 0!==k?k:k=i},x.mutations={addLanguagesAndFollowRelevantTopicsMutation:void 0!==y?y:y=a},x.displayName="LanguageStep"},Xqoj:function(e,n,t){"use strict";var a={};t.r(a),t.d(a,"default",(function(){return y}));var i={};t.r(i),t.d(i,"default",(function(){return S}));var l={};t.r(l),t.d(l,"default",(function(){return x}));var o={};t.r(o),t.d(o,"default",(function(){return K}));var r={};t.r(r),t.d(r,"default",(function(){return A}));var s=t("iJoy"),u=t.n(s),d=t("8ZkK"),c=t.n(d),p=t("tQZz"),g=t.n(p),m=t("10u2"),f=t.n(m),h=t("MMxs"),v=t.n(h),k=function(){var e=[{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"cursor",type:"String",defaultValue:null},{kind:"LocalArgument",name:"shownTids",type:"[BigInt!]!",defaultValue:null},{kind:"LocalArgument",name:"suggestionSeedTids",type:"[BigInt!]!",defaultValue:null}],n=[{kind:"Literal",name:"stepType",value:"follow_interests"}],t={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"tid",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},o={kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]},r=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"shownTids",variableName:"shownTids"},{kind:"Variable",name:"suggestionSeedTids",variableName:"suggestionSeedTids"}];return{kind:"Request",fragment:{kind:"Fragment",name:"FollowInterestsStepListQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"nuxStep",storageKey:'nuxStep(stepType:"follow_interests")',args:n,concreteType:null,plural:!1,selections:[t,a,{kind:"InlineFragment",type:"FollowInterestsStep",selections:[{kind:"LinkedField",alias:"topicSuggestionsConnection",name:"__FollowInterestsStepList_topicSuggestionsConnection_connection",storageKey:null,args:null,concreteType:"TopicSuggestionsConnection",plural:!1,selections:[t,a,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"TopicEdge",plural:!0,selections:[t,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Topic",plural:!1,selections:[t,a,i,{kind:"FragmentSpread",name:"FollowInterestsListItem_topic",args:null}]},l]},o]}]}]}]},operation:{kind:"Operation",name:"FollowInterestsStepListQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"nuxStep",storageKey:'nuxStep(stepType:"follow_interests")',args:n,concreteType:null,plural:!1,selections:[t,a,{kind:"InlineFragment",type:"FollowInterestsStep",selections:[{kind:"LinkedField",alias:null,name:"topicSuggestionsConnection",storageKey:null,args:r,concreteType:"TopicSuggestionsConnection",plural:!1,selections:[t,a,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"TopicEdge",plural:!0,selections:[t,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Topic",plural:!1,selections:[t,a,i,{kind:"ScalarField",alias:null,name:"isFollowing",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{platforms:["DESKTOP"]},condition:"onPlatform",selections:[{kind:"ScalarField",alias:null,name:"photoUrl",args:[{kind:"Literal",name:"size",value:200}],storageKey:"photoUrl(size:200)"}]}]},l]},o]},{kind:"LinkedHandle",alias:null,name:"topicSuggestionsConnection",args:r,handle:"connection",key:"FollowInterestsStepList_topicSuggestionsConnection",filters:[]}]}]}]},params:{operationKind:"query",name:"FollowInterestsStepListQuery",id:"6b32e96ccc2f362c6a5d081cf00a68646a2c6c34a47e7f9e2f9897e412428ab1",text:null,metadata:{connection:[{count:"first",cursor:"cursor",direction:"forward",path:["nuxStep","topicSuggestionsConnection"]}]}}}}();k.hash="354cced29756adf1af3fba7d4e049e06";var y=k,b=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"FollowInterestsStepList_followInterestsStep",type:"FollowInterestsStep",metadata:{connection:[{count:null,cursor:null,direction:"forward",path:["topicSuggestionsConnection"]}]},argumentDefinitions:[],selections:[e,n,{kind:"LinkedField",alias:"topicSuggestionsConnection",name:"__FollowInterestsStepList_topicSuggestionsConnection_connection",storageKey:null,args:null,concreteType:"TopicSuggestionsConnection",plural:!1,selections:[e,n,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"TopicEdge",plural:!0,selections:[e,n,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Topic",plural:!1,selections:[e,n,{kind:"ScalarField",alias:null,name:"tid",args:null,storageKey:null},{kind:"FragmentSpread",name:"FollowInterestsListItem_topic",args:null}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]}]}]}}();b.hash="b71e331b01c0a597c3d1574011c1a83d";var S=b,w=t("q1tI"),F=t("VyO/"),T=t("cBSy"),L=t("m+xM"),I=t("nwxp"),_=t("RA+f"),C=t("vOnD"),E=function(){var e=[{kind:"LocalArgument",name:"tid",type:"BigInt!",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"topicFollowRemove",storageKey:null,args:[{kind:"Variable",name:"tid",variableName:"tid"}],concreteType:"TopicFollowRemove",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"topic",storageKey:null,args:null,concreteType:"Topic",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isFollowing",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"FollowInterestsListItem_topicFollowRemove_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"FollowInterestsListItem_topicFollowRemove_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"FollowInterestsListItem_topicFollowRemove_Mutation",id:"cc78e3eb864882990fa34ed759c3dce5d3080001cb9f4a162e65431f1194f468",text:null,metadata:{}}}}();E.hash="c4e37b4e1954424c2071dad13d4bd313";var x=E,O=function(){var e=[{kind:"LocalArgument",name:"tid",type:"BigInt!",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"topicFollowAdd",storageKey:null,args:[{kind:"Variable",name:"tid",variableName:"tid"},{kind:"Literal",name:"useInNux",value:!0}],concreteType:"TopicFollowAdd",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"topic",storageKey:null,args:null,concreteType:"Topic",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isFollowing",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"FollowInterestsListItem_topicFollowAdd_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"FollowInterestsListItem_topicFollowAdd_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"FollowInterestsListItem_topicFollowAdd_Mutation",id:"2f6bdedcee2abebe813641303eb27506420afe4210e989f7adbee1cc2489db07",text:null,metadata:{}}}}();O.hash="f4de94c1abac5e73983ed82ad050b401";var M,P,j,K=O,D={kind:"Fragment",name:"FollowInterestsListItem_topic",type:"Topic",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isFollowing",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tid",args:null,storageKey:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{platforms:["DESKTOP"]},condition:"onPlatform",selections:[{kind:"ScalarField",alias:null,name:"photoUrl",args:[{kind:"Literal",name:"size",value:200}],storageKey:"photoUrl(size:200)"}]},{kind:"FragmentSpread",name:"TopicName_topic",args:null}],hash:"77518a0bf125489e76de46d9fcba6a60"},A=D,N=t("cecZ"),R=t("MI6j"),V=t("OMLc"),B=Object(C["default"])(_.e).withConfig({displayName:"FollowInterestsListItem___StyledClickWrapper",componentId:"li8d0a-0"})(["background-image:url(",');background-position:center;background-size:cover;&:after{content:" ";display:block;padding-bottom:100%;background-color:rgba(0,0,0,0.3);transition:background-color ease 180ms;border-radius:inherit;}&:hover:after{background-color:rgba(0,0,0,0.45);}'],(function(e){return e._css})),q=Object(C["default"])(_.f).withConfig({displayName:"FollowInterestsListItem___StyledCssComponent",componentId:"li8d0a-1"})(["transition-delay:",";"],(function(e){return e._css2})),z=function(e){f()(t,e);var n=v()(t);function t(e){var a;return c()(this,t),(a=n.call(this,e)).onClick=function(e){var n=a.props.topic.tid,t=a.state.isFollowing;e(),a.props.onClick(n,!t),a.setState({isFollowing:!t})},a.state={isFollowing:a.props.topic.isFollowing},a}return g()(t,[{key:"getMutationOptions",value:function(){var e=this.props.topic,n=e.tid,a=this.state.isFollowing,i=a?t.mutations.topicFollowRemoveMutation:t.mutations.topicFollowAddMutation,l={tid:n},o={id:e.id,__typename:e.__typename,isFollowing:!a};return{mutation:i,variables:l,optimisticResponse:a?{topicFollowRemove:{topic:o}}:{topicFollowAdd:{topic:o}}}}},{key:"shouldComponentUpdate",value:function(e,n){return this.state.isFollowing!==n.isFollowing}},{key:"render",value:function(){var e=this,n=this.props,t=n.topic,a=n.itemSize,i=t.photoUrl,l=this.state.isFollowing;return w.createElement(F.a,this.getMutationOptions(),(function(n){return Object(I.b)()?w.createElement(B,{className:"puppeteer_test_follow_interests_list_item",onClick:function(){e.onClick(n)},position:"relative",flexBasis:"calc(".concat(16.6,"% - 8px)"),m:"tiny",bg:"black",boxShadow:"inset 0 -40px 20px rgba(0, 0, 0, 0.5), inset 0 0 0 1px rgba(0,0,0,.1)",borderRadius:"small",userSelect:"none",_css:i},w.createElement(_.a,{bottom:"0",p:"tiny"},w.createElement(_.r,{bold:!0,color:"white",lineHeight:1.3,fontSize:"small",truncateLines:4},w.createElement(N.a,{topic:t}))),w.createElement(_.a,{borderRadius:"circle",top:"tiny",right:"tiny",p:"tiny",bg:l?"blue":"rgba(255, 255, 255, 0.75)",boxShadow:l?undefined:"inset 0 2px 4px rgba(0,0,0,.1), 0 0 0 1px rgba(0,0,0,.1)",size:32,transitionProperty:"background-color",transitionDuration:"50ms",transitionTimingFunction:"ease-out"},w.createElement(_.b,{"in":l},(function(e){return w.createElement(q,{animation:e,fadeIn:!0,fadeOut:!0,scaleIn:!0,scaleOut:!0,_css2:"entered"===e.state?"100ms":0},w.createElement(V.a,{color:"white",name:"Checkmark"}))})))):w.createElement(_.d,{className:"puppeteer_test_follow_interests_list_item",width:"100%"},w.createElement(R.c,{onClick:function(){e.onClick(n)},mainText:w.createElement(N.a,{topic:t}),variant:"check",selected:l,size:a||"regular"}))}))}}]),t}(w.Component);z.fragments={topic:void 0!==M?M:M=r},z.mutations={topicFollowAddMutation:void 0!==P?P:P=o,topicFollowRemoveMutation:void 0!==j?j:j=l},z.displayName="FollowInterestsListItem";var J,Z,Q=Object(F.b)(z),W=function(e){f()(t,e);var n=v()(t);function t(e){var a;return c()(this,t),(a=n.call(this,e)).alreadyFetchedTids=new Set,a.checkedTids=new Set,a.itemSize=void 0,a.itemSize="regular",a}return g()(t,[{key:"onTopicClicked",value:function(e,n,t,a){var i,l;n?this.alreadyFetchedTids.has(e)||(this.checkedTids.add(e),t&&a()):this.checkedTids["delete"](e),null===(i=(l=this.props).onTopicClicked)||void 0===i||i.call(l,e,n)}},{key:"getSeedTids",value:function(){var e=this;return u()(this.checkedTids).filter((function(n){return!e.alreadyFetchedTids.has(n)}))}},{key:"getVariables",value:function(){var e=this.getSeedTids();return this.alreadyFetchedTids=new Set([].concat(u()(this.alreadyFetchedTids),u()(e))),{shownTids:this.props.followInterestsStep.topicSuggestionsConnection.edges.map((function(e){return e.node.tid})),suggestionSeedTids:e}}},{key:"mergeResult",value:function(e,n){return Object.assign({},e,{nuxStep:Object.assign({},e.nuxStep,{topicSuggestionsConnection:Object.assign({},e.nuxStep.topicSuggestionsConnection,{edges:[].concat(u()(e.nuxStep.topicSuggestionsConnection.edges),u()(n.nuxStep.topicSuggestionsConnection.edges))})})})}},{key:"render",value:function(){var e=this,n=this.props.followInterestsStep;return n.topicSuggestionsConnection.edges?w.createElement(L.c,{relayObject:this.props.relay,autoPaged:{enabled:!1},pagingIndicator:undefined,prefetchingEnabled:!1},(function(t){var a=t.readyToLoadMore,i=t.loadMore,l=function(){e.props.relay?e.props.relay.refetchConnection(30,null,{seedTids:e.getSeedTids()}):null===i||void 0===i||i()};return a&&e.getSeedTids().length>0&&l(),Object(I.b)()?w.createElement(_.i,{flexWrap:"wrap",m:"n_tiny"},n.topicSuggestionsConnection.edges.map((function(n){return w.createElement(Q,{key:n.node.tid,topic:n.node,onClick:function(n,t){e.onTopicClicked(n,t,a,l)}})}))):w.createElement(T.a,null,n.topicSuggestionsConnection.edges.map((function(n){return w.createElement(Q,{key:n.node.tid,topic:n.node,itemSize:e.itemSize,onClick:function(n,t){e.onTopicClicked(n,t,a,l)}})})))})):null}}]),t}(w.Component);W.fragments={followInterestsStep:void 0!==J?J:J=i},W.queries={loadMore:void 0!==Z?Z:Z=a},W.connectionConfig={direction:"forward",getConnectionFromProps:function(e){return e.followInterestsStep&&e.followInterestsStep.topicSuggestionsConnection},getVariables:function(e,n,t){return{count:n.count,cursor:String(e.followInterestsStep.topicSuggestionsConnection.edges.length-1),shownTids:e.followInterestsStep.topicSuggestionsConnection.edges.map((function(e){return e.node.tid})),suggestionSeedTids:t.seedTids}},query:W.queries.loadMore},W.displayName="FollowInterestsStepList";n.a=Object(F.d)(W)},aMaN:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return _}));var a={};t.r(a),t.d(a,"default",(function(){return m}));var i=t("8ZkK"),l=t.n(i),o=t("tQZz"),r=t.n(o),s=t("10u2"),u=t.n(s),d=t("MMxs"),c=t.n(d),p=function(){var e={kind:"ScalarField",alias:null,name:"trackId",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"linkData",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"DownloadAppStepQuery",type:"QueryRoot",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"viewInAppLink",storageKey:null,args:null,concreteType:"ViewInAppLink",plural:!1,selections:[e,n]}]},operation:{kind:"Operation",name:"DownloadAppStepQuery",argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"viewInAppLink",storageKey:null,args:null,concreteType:"ViewInAppLink",plural:!1,selections:[e,n,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]},params:{operationKind:"query",name:"DownloadAppStepQuery",id:"0755e5d378bd193b921cb0c0d96e26e793da0d28fd5ce52391226f8785f71ad9",text:null,metadata:{}}}}();p.hash="442464490f138d86b4492a667d0c83f8";var g,m=p,f=t("q1tI"),h=t("jufJ"),v=t("zLpq"),k=t("/bbo"),y=t("RA+f"),b=t("UyMh"),S=t("nwxp"),w=t("T5JH"),F=t("SKAY"),T=t("AaDK"),L=t("zXuH"),I=t("+22L"),_=function(e){u()(t,e);var n=c()(t);function t(e){var a;return l()(this,t),(a=n.call(this,e)).deepLinkInfo=void 0,a.deepLinkGenerator=void 0,a.logEvent=function(e){var n=a.getDownloadAppLinkNuxStepInfo();n&&Object(T.a)("mweb_view_in_app_link_logger",{step:e,component:n.viewInAppLinkType,url:n.referrerLink,controller:Object(F.getSetting)("controller"),action:Object(F.getSetting)("action"),deepLinkId:n.deepLinkId,deepLink:n.deepLink,provider:n.provider})},a.getLinkToStore=function(){return a.getDownloadAppLinkNuxStepInfo().deepLink},a.onDownloadAppLinkClicked=function(){a.logEvent("click"),Object(b.b)(a.getLinkToStore())},a.deepLinkGenerator=new L.a(e.queryResult.viewInAppLink.trackId),a}return r()(t,[{key:"getDownloadAppLinkNuxStepInfo",value:function(){if(this.deepLinkInfo)return this.deepLinkInfo;var e=JSON.parse(this.props.queryResult.viewInAppLink.linkData),n=this.deepLinkGenerator.getDeepLinkInfo({linkType:L.b.DOWNLOAD_APP_LINK_NUX_STEP,extraData:e});return this.deepLinkInfo=n,n}},{key:"componentDidMount",value:function(){this.logEvent("show")}},{key:"render",value:function(){var e=this;return f.createElement(I.a,{titleText:Object(h.Z)("Download App"),isLastStep:this.props.flowData.isLastStep,numInteractiveSteps:this.props.flowData.numInteractiveSteps,currentStepIdx:this.props.flowData.stepIdx,triggerTransition:this.props.triggerTransition,isNextButtonHidden:!0,stepType:"download_app"},f.createElement(y.d,{className:"puppeteer_test_download_app_step"},f.createElement(y.e,{width:"100%",onClick:this.onDownloadAppLinkClicked},f.createElement(w.a,{height:"250px",bgSize:"contain",bgColor:"white",src:S.m?"//qsf.fs.quoracdn.net/-4-ans_frontend_assets.images.app_download.app_download_ios.png-26-c0bc38376fde4e13.png":"//qsf.fs.quoracdn.net/-4-ans_frontend_assets.images.app_download.app_download_android.png-26-fb6779583c415b11.png",mb:"medium"})),f.createElement(y.d,{textAlign:"center"},f.createElement(y.r,{bold:!0,fontSize:"large"},f.createElement(h.J,null,"There's more to see"))),f.createElement(y.d,{textAlign:"center",mb:"medium"},f.createElement(h.J,null,"We are always updating the Quora app to be better than ever before. Take a look!")),f.createElement(k.a,{text:S.m?Object(h.Z)("Download the iOS app"):Object(h.Z)("Download the Android app"),isFullWidth:!0,mb:"small",onClick:this.onDownloadAppLinkClicked,className:"puppeteer_test_download_app_button"}),f.createElement(v.a,{text:Object(h.Z)("Not now"),onClick:function(){return e.props.triggerTransition()},className:"puppeteer_test_skip_download_button",isFullWidth:!0})))}}]),t}(f.Component);_.queries={onLoad:void 0!==g?g:g=a},_.displayName="DownloadAppStep"},"cPp+":function(e,n,t){"use strict";t.r(n);var a=t("q1tI"),i=t("jufJ"),l=t("EFAP"),o=t("RqIh"),r=t("nwxp"),s=t("RA+f"),u=t("td6z"),d=t("yju1"),c=t("VyO/"),p=t("+22L"),g=t("SpgY"),m=function(e){var n=e.triggerTransition,t=e.flowData;return Object(a.useEffect)((function(){t.pageType===o.a.home_feed_main&&(Object(c.c)({mutation:g["default"].mutations.nuxMarkComplete}),Object(r.g)()&&Object(d.a)("broadcastAllWebViews",{messageName:"refreshFeedAfterNux",data:{"null":null}})),setTimeout((function(){Object(r.g)()||t.pageType!==o.a.home_feed_main?n():window.location.reload()}),3e3)}),[t.pageType,n]),a.createElement(p.a,{titleText:Object(i.Z)("Loading your feed"),isLastStep:!1,triggerTransition:n,stepType:"spinner",isNextButtonDisabled:!0},a.createElement(s.d,{textAlign:"center",mb:"small",className:"puppeteer_test_spinner_step"},a.createElement(l.e.Consumer,null,(function(e){return e==o.a.answer?a.createElement(i.J,null,"Hold on while we find more great answers for you..."):Object(r.e)()?a.createElement(i.J,null,"You're all done! Creating your personalized feed..."):a.createElement(i.J,null,"Creating your personalized feed...")}))),a.createElement(u.c,null))};m.displayName="SpinnerStep",n["default"]=m},"m+xM":function(e,n,t){"use strict";t.d(n,"d",(function(){return J})),t.d(n,"a",(function(){return Z})),t.d(n,"b",(function(){return Q})),t.d(n,"c",(function(){return W}));var a=t("8ZkK"),i=t.n(a),l=t("tQZz"),o=t.n(l),r=t("g8yt"),s=t.n(r),u=t("10u2"),d=t.n(u),c=t("MMxs"),p=t.n(c),g=t("q1tI"),m=t("QLaP"),f=t.n(m),h=t("I/VO"),v=t.n(h),k=t("td6z"),y=t("VSaK"),b=t("vkEr"),S=t("AaDK"),w=t("s/A7"),F=t("SW3P"),T=t("nwxp"),L=t("+pxc"),I=t("hXLn"),_=t("jufJ"),C=t("VwdU"),E=t("ZizP"),x=t("8lmh"),O=t("qZYu"),M=t("PGlZ"),P=t("cbxS"),j=t("OMLc"),K=t("RA+f"),D=t("wxi4"),A=t("P6tR"),N=t("edYY"),R=t("/bbo"),V=t("vOnD"),B=Object(V.withTheme)((function(e){var n=e.text,t=e.refetch,a=e.loading,i=e.theme;return g.createElement(A.a.Consumer,null,(function(e){return g.createElement(D.d,{justifyContent:"center",zIndex:i.zIndices.tooltip+1,top:Object(N.a)({isPrefetched:e}),display:"flex",alignItems:"flex-start",height:0},g.createElement(D.c,{top:"small"},g.createElement(K.b,{"in":!0,appear:!0},(function(e){return g.createElement(K.f,{fadeIn:!0,fadeOut:!0,animation:e,slideIn:"top",slideOut:"top",slideDistance:"small"},g.createElement(R.a,{icon:g.createElement(j.a,{name:"Sync"}),text:n,hasBoxShadow:!0,onClick:t,size:"small",loading:a}))}))))}))})),q=t("5Fmr"),z=t("nG0s"),J=function(){return Object(F.a)("show_react_live_update_banner")},Z=function(e){var n=e.onClick;return g.createElement(K.d,{p:"small"},g.createElement(P.a,{buttonOnClick:n,buttonTitle:g.createElement(_.J,null,"Try again"),buttonVariant:"error",variant:"warning_inverted",icon:g.createElement(j.a,{name:"NoConnection"}),title:g.createElement(_.J,null,"Unable to load more. Check your internet connection."),iconPosition:Object(T.b)()?"centered":undefined}))},Q=function(e){var n=e.onClick;return g.createElement(K.d,{p:"small"},g.createElement(P.a,{buttonOnClick:n,buttonTitle:g.createElement(_.J,null,"Try again"),buttonVariant:"error",variant:"warning_inverted",icon:g.createElement(j.a,{name:"Error"}),title:g.createElement(_.J,null,"There was an error loading more items."),iconPosition:Object(T.b)()?"centered":undefined}))},W=function(e){d()(t,e);var n=p()(t);function t(e){var a,l,o;return i()(this,t),(o=n.call(this,e)).itemRefs=void 0,e=o.setDefaultProps(e),o.loadMore=o.loadMore.bind(s()(o)),o.refetchList=o.refetchList.bind(s()(o)),o.onScroll=o.onScroll.bind(s()(o)),o.renderChildren=o.renderChildren.bind(s()(o)),o.getIdFromEdge=o.getIdFromEdge.bind(s()(o)),o.scrollToNewestItem=o.scrollToNewestItem.bind(s()(o)),o.onViewChange=o.onViewChange.bind(s()(o)),o.itemRefs={},o.state={hasMore:e.relayObject&&e.relayObject.hasMore(),isPaging:!1,error:null,initialLiveBannerHash:null===(a=e.liveBannerConfig)||void 0===a?void 0:a.hashValue,existingItems:o.getExistingIDs(),isBannerLoading:!1,itemsToShow:null!==(l=e.connection)&&void 0!==l&&l.edges?e.connection.edges.length:0,pageStartTime:undefined,isVisible:!1},o}return o()(t,[{key:"setDefaultProps",value:function(e){var n;e.autoPaged&&("enabled"in e.autoPaged||(e.autoPaged.enabled=!1),"infiniteScrollOptions"in e.autoPaged||(e.autoPaged.infiniteScrollOptions={}),e.autoPaged.infiniteScrollOptions&&!("threshold"in e.autoPaged.infiniteScrollOptions)&&(e.autoPaged.infiniteScrollOptions.threshold=1e3),e.autoPaged.infiniteScrollOptions&&(e.autoPaged.infiniteScrollOptions.isSafari=Object(T.e)()&&((null===(n=Object(L.a)())||void 0===n?void 0:n.isSafari)||Object(T.c)())));return e}},{key:"getIdFromEdge",value:function(e){var n;return((null===(n=this.props.liveBannerConfig)||void 0===n?void 0:n.overrideItemId)||function(e){var n;return null===e||void 0===e||null===(n=e.node)||void 0===n?void 0:n.id})(e)}},{key:"getExistingIDs",value:function(){var e,n;return(null!==(e=this.props.connection)&&void 0!==e&&e.edges?null===(n=this.props.connection)||void 0===n?void 0:n.edges.map(this.getIdFromEdge):[]).filter((function(e){return!!e}))}},{key:"isInViewport",value:function(e){var n,t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;if(null===e||void 0===e||null===(n=e.current)||void 0===n||!n.getBoundingClientRect)return!1;var a=e.current.getBoundingClientRect().top;return a+t>=0&&a-t<=window.innerHeight}},{key:"componentDidMount",value:function(){this.props.autoPaged&&this.props.autoPaged.pagingElement&&Object(y.b)(this.onScroll)}},{key:"componentWillUnmount",value:function(){this.props.autoPaged&&this.props.autoPaged.pagingElement&&Object(y.a)(this.onScroll)}},{key:"componentDidUpdate",value:function(e,n){if(Object(F.a)("paged_list_perf")){if(this.props.pagingIndicator&&!n.isPaging&&this.state.isPaging&&this.state.pageStartTime){var t,a=null===(t=this.props.connection)||void 0===t?void 0:t.__typename;Object(S.a)("paged_list_perf",{connectionName:a,fcp:Object(b.m)()-this.state.pageStartTime})}if(n.isPaging&&!this.state.isPaging&&n.pageStartTime){var i,l=null===(i=this.props.connection)||void 0===i?void 0:i.__typename,o=Object(b.m)()-n.pageStartTime;Object(S.a)("paged_list_perf",{connectionName:l,tti:o,fcp:this.props.pagingIndicator?undefined:o})}}this.state.isVisible&&this.prefetchMore()}},{key:"onViewChange",value:function(e){!this.state.isPaging&&this.props.autoPaged&&!this.props.autoPaged.enabled&&this.props.prefetchingEnabled&&this.setState({isVisible:e})}},{key:"onScroll",value:function(){!this.state.isPaging&&this.props.autoPaged&&this.props.autoPaged.pagingElement&&this.isInViewport(this.props.autoPaged.pagingElement)&&this.loadMore()}},{key:"prefetchMore",value:function(){var e=this,n=this.setDefaultProps(this.props),t=n.relayObject,a=n.onPagingEnd,i=n.connection;(null===i||void 0===i?void 0:i.edges)&&this.state.itemsToShow<i.edges.length||!t.hasMore()||t.isLoading()||t.loadMore(0,(function(n){var l=!n&&t.hasMore();n&&console.error(n),e.state.isPaging&&a&&a(null!==n&&void 0!==n?n:null,l),(e.state.isPaging||n)&&e.setState((function(t){var a=null!==i&&void 0!==i&&i.edges?null===i||void 0===i?void 0:i.edges.length:t.itemsToShow;return{isPaging:!1,pageStartTime:undefined,hasMore:l,error:null!==n&&void 0!==n?n:null,existingItems:e.getExistingIDs(),itemsToShow:a}}))}))}},{key:"loadMore",value:function(){var e=this.setDefaultProps(this.props),n=e.autoPaged,t=e.connection;n&&!n.enabled&&this.props.prefetchingEnabled&&t?this.loadMorePrefetched():this.loadMoreDefault()}},{key:"havePrefetchedItems",value:function(){var e=this.setDefaultProps(this.props).connection;return(null===e||void 0===e?void 0:e.edges)&&this.state.itemsToShow<e.edges.length}},{key:"loadMorePrefetched",value:function(){var e=this.setDefaultProps(this.props),n=e.relayObject,t=e.onPagingStart,a=e.onPagingEnd,i=e.connection,l=this.state.isPaging;if(i&&this.havePrefetchedItems())return t&&t(),a&&a(null,n.hasMore()),void this.setState({isPaging:!1,hasMore:n.hasMore(),itemsToShow:null===i||void 0===i?void 0:i.edges.length,existingItems:this.getExistingIDs()});if(n.hasMore()&&!l){var o=Object(b.m)();t&&t(),this.setState({isPaging:!0,pageStartTime:o,error:null})}}},{key:"loadMoreDefault",value:function(){var e=this,n=this.setDefaultProps(this.props),t=n.relayObject,a=n.onPagingStart,i=n.onPagingEnd,l=this.state.isPaging;if(t.hasMore()&&!l&&!t.isLoading()){var o=Object(b.m)();a&&a(),t.loadMore(0,(function(n){var a=e.setDefaultProps(e.props).connection,l=!n&&t.hasMore();n&&console.error(n),i&&i(null!==n&&void 0!==n?n:null,l),e.setState((function(t){var i=null!==a&&void 0!==a&&a.edges?null===a||void 0===a?void 0:a.edges.length:t.itemsToShow;return{isPaging:!1,pageStartTime:undefined,hasMore:l,error:null!==n&&void 0!==n?n:null,itemsToShow:i,existingItems:e.getExistingIDs()}}))})),this.setState({isPaging:!0,pageStartTime:o,hasMore:!0,error:null})}}},{key:"refetchList",value:function(){var e,n=this,t=this.setDefaultProps(this.props),a=t.relayObject,i=t.onPagingStart,l=t.onPagingEnd,o=t.connection;null===i||void 0===i||i();var r=null===o||void 0===o||null===(e=o.edges)||void 0===e?void 0:e.length;return this.setState({existingItems:this.getExistingIDs(),isBannerLoading:!0}),new Promise((function(e){a.refetchConnection(0,(function(t){var i,o=!t&&a.hasMore();t&&console.error(t),null===l||void 0===l||l(null!==t&&void 0!==t?t:null,o),n.setState({isPaging:!1,hasMore:o,error:null!==t&&void 0!==t?t:null,initialLiveBannerHash:null===(i=n.props.liveBannerConfig)||void 0===i?void 0:i.hashValue,isBannerLoading:!1},n.scrollToNewestItem),e()}),{first:r&&r+1,refetch:!0})}))}},{key:"shouldShowLiveBanner",value:function(){var e=this.props,n=e.liveBannerConfig,t=e.connection,a=this.state.initialLiveBannerHash;if(!n||!J()||!a)return!1;var i=n.hashValue,l=n.ignoreList;if(i===a)return!1;if(!l)return Object(S.a)("scribe_only",{scribe_category:"live_banner_triggered",log_viewer:!0,connectionName:null===t||void 0===t?void 0:t.__typename,old_hash:a,new_hash:i,ignoreList:!1},{sampleRate:.1}),!0;var o=String(a).split(":"),r=String(i).split(":").some((function(e){return!o.includes(e)&&!l.includes(e)}));return r&&Object(S.a)("scribe_only",{scribe_category:"live_banner_triggered",log_viewer:!0,connectionName:null===t||void 0===t?void 0:t.__typename,old_hash:a,new_hash:i,ignoreList:!0},{sampleRate:.1}),r}},{key:"scrollToNewestItem",value:function(){var e=this;window.requestAnimationFrame((function(){var n=e.props.connection,t=e.state.existingItems,a=null===n||void 0===n?void 0:n.edges.find((function(n){return e.getIdFromEdge(n)&&!t.includes(e.getIdFromEdge(n))}));if(a){var i=e.itemRefs[e.getIdFromEdge(a)];Object(w.a)(i,"center")}}))}},{key:"renderChildren",value:function(){var e=this,n=this.setDefaultProps(this.props),t=n.relayObject,a=n.children,i=n.singleItemErrorComponent,l=n.connection,o=n.liveBannerConfig,r=n.onNullNode,s=n.animated,u=n.temporaryHighlightBox,d=this.state,c=d.isPaging,p=d.error,m=d.hasMore,f=d.existingItems,h=d.itemsToShow;return null===l?null:a?l?(null===l||void 0===l?void 0:l.edges.slice(0,h)).map((function(n,l){var d;if(!n||!n.node)return null===r||void 0===r||r(),null;var v,k=e.getIdFromEdge(n),y=o&&k&&!c&&!f.includes(k);return s?g.createElement(K.b,{key:k||(null===n||void 0===n||null===(d=n.node)||void 0===d?void 0:d.id),"in":!0,appear:y},(function(o){return g.createElement(K.f,{fadeIn:!0,animation:o,slideDistance:"small"},g.createElement(q.c,{delay:400,disabled:!(y&&u)},g.createElement(K.d,{innerRef:function(n){return e.itemRefs[k]=n}},g.createElement(E.a,{errorChildren:function(){return i}},a({index:l,node:null===n||void 0===n?void 0:n.node,isLastItem:l===h-1,loading:t.isLoading()||c,error:p,readyToLoadMore:!t.isLoading()&&!c&&m,loadMore:e.loadMore})))))})):g.createElement(E.a,{errorChildren:function(){return i},key:k||(null===n||void 0===n||null===(v=n.node)||void 0===v?void 0:v.id)},a({index:l,node:null===n||void 0===n?void 0:n.node,isLastItem:l===h-1,loading:t.isLoading()||c,error:p,readyToLoadMore:!t.isLoading()&&!c&&m,loadMore:e.loadMore}))})):a({loading:t.isLoading()||c,error:p,readyToLoadMore:!t.isLoading()&&!c&&m,loadMore:this.loadMore,index:-1,node:undefined,isLastItem:!1})||[]:null}},{key:"render",value:function(){var e,n,t=this,a=this.setDefaultProps(this.props),i=a.relayObject,l=a.autoPaged,o=a.pagingIndicator,r=a.loadingIndicator,s=a.endOfPageComponent,u=a.endOfContentComponent,d=a.connectionIssueComponent,c=a.errorComponent,p=a.liveBannerConfig,m=a.listWrapper,h=a.as,k=void 0===h?"div":h,y=this.state,b=y.error,S=y.isPaging,w=y.hasMore,F=y.isBannerLoading,T=y.itemsToShow,L=b&&Object(x.isConnectionError)(b),_=b&&!L,E=!b&&!i.isLoading()&&!S&&!w,O=!b&&!S&&!(null!==l&&void 0!==l&&l.enabled)&&(this.havePrefetchedItems()||w&&!i.isLoading());return f()(i,"PagedList expects relayObject props"),!i||i.isLoading()&&!S&&!F&&0===T&&r?r||null:g.createElement(C.a,{condition:!!p&&J(),wrapper:function(e){return p?g.createElement(I.a,{fragmentOrQuery:p.query,initialData:p.initialData,variables:p.variables(i.getFragmentVariables())},e):e}},g.createElement(C.a,{condition:null!==(e=null===l||void 0===l?void 0:l.enabled)&&void 0!==e&&e,wrapper:function(e){return g.createElement(v.a,Object.assign({loadMore:t.loadMore,hasMore:w,loader:o},null===l||void 0===l?void 0:l.infiniteScrollOptions,{element:k}),e)},elseWrapper:function(e){return g.createElement(M.b,{onChange:t.onViewChange,as:k},e)}},p&&this.shouldShowLiveBanner()&&g.createElement(z.a,null,g.createElement(B,{refetch:this.refetchList,text:p.bannerText,loading:F})),null!==(n=null===m||void 0===m?void 0:m(this.renderChildren()))&&void 0!==n?n:this.renderChildren(),!(null!==l&&void 0!==l&&l.enabled)&&i.isLoading()&&S&&o,O&&(null===s||void 0===s?void 0:s(this.loadMore)),E&&(null===u||void 0===u?void 0:u()),L&&(null===d||void 0===d?void 0:d(this.loadMore)),_&&(null===c||void 0===c?void 0:c(this.loadMore))))}}],[{key:"getDerivedStateFromProps",value:function(e,n){var t,a,i;return!n.hasMore&&null!==(t=e.relayObject)&&void 0!==t&&t.hasMore()?Object.assign({},n,{hasMore:e.relayObject.hasMore()}):null!==(a=e.connection)&&void 0!==a&&a.edges.length&&(null===(i=e.connection)||void 0===i?void 0:i.edges.length)<n.itemsToShow?Object.assign({},n,{itemsToShow:e.connection.edges.length}):n}}]),t}(g.Component);W.defaultProps={autoPaged:{},pagingIndicator:g.createElement(k.c,{key:"loading"}),connectionIssueComponent:function(e){return g.createElement(Z,{onClick:e})},errorComponent:function(e){return g.createElement(Q,{onClick:e})},singleItemErrorComponent:g.createElement(O.a,null),animated:!0,temporaryHighlightBox:!0,as:"div",prefetchingEnabled:!0},W.displayName="PagedList"},nG0s:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var a=t("yMAQ"),i=t.n(a),l=t("q1tI"),o=l.createContext(undefined),r=function(e){var n=e.children,t=l.useState(),a=i()(t,2),r=a[0],s=a[1];return l.createElement(o.Provider,{value:s},r||null,n)};r.displayName="LiveBannerAnchor";var s=function(e){var n=e.children,t=l.useContext(o);return l.useEffect((function(){return null===t||void 0===t||t(n),function(){null===t||void 0===t||t(null)}})),n===undefined?null:l.createElement(l.Fragment,null,t?null:n)};n.b=r},qZYu:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var a=t("q1tI"),i=t("cbxS"),l=t("OMLc"),o=t("jufJ"),r=t("RA+f");function s(){return a.createElement(r.d,{p:"small",borderBottom:!0},a.createElement(i.a,{variant:"warning_inverted",icon:a.createElement(l.a,{name:"Error"}),title:a.createElement(o.J,null,"There was an error loading this item.")}))}},"s/A7":function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var a=t("8ezB"),i=t("Jz1U");Object(a.a)(),Object(i.b)();var l=function(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"start";e&&setTimeout((function(){e.scrollIntoView({behavior:"smooth",block:n})}))}}}]);