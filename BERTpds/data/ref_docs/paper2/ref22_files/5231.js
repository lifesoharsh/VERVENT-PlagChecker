(self.webpackChunklite=self.webpackChunklite||[]).push([[5231],{4697:(e,t,n)=>{"use strict";n.d(t,{Xw:()=>W,e0:()=>N,Rf:()=>U});var r=n(59713),o=n.n(r),i=n(28655),l=n.n(i),a=n(71439),c=n(67294),s=n(90194),u=n(41707),d=n(1072),m=n(42933),p=n(51512),g=n(534);function f(){var e=l()(["\n  fragment NewsletterV3AmpButton_newsletterV3 on NewsletterV3 {\n    id\n    collection {\n      ...collectionDefaultBackgroundTheme_collection\n    }\n  }\n  ","\n"]);return f=function(){return e},e}var h=(0,a.Ps)(f(),g.Gi),E=function(e){var t=e.newsletterV3,n=e.buttonLayout,r=void 0===n?"MULTI-LINE":n,o=e.buttonSize,i=void 0===o?"LARGE":o,l=e.buttonStyle,a=void 0===l?"STRONG":l,f=e.redirectUrl;return c.createElement(u.Z,null,(function(e){return c.createElement(d.f,{theme:(0,g.jN)(null==t?void 0:t.collection,e)},c.createElement(p.cW,{source:{newsletterV3Id:t.id},extendSource:!0},c.createElement(m.x,{margin:"COMPACT"===r?"10px 20px 10px 0":"",xs:{margin:"10px 0 0 0"}},c.createElement(s.w,{buttonSize:i,buttonStyle:a,onClick:function(){return null},showMailIcon:!1,buttonText:"Learn more",redirectUrl:f}))))}))},v=n(11969),b=n(56202),y=n(53976),w=n(76532),S=n(73891),P=n(82318),x=n(37278),_=n(98024),I=n(95760),T=n(6688),O=n(27108),D=n(14391),L=n(67297),A=n(80637),R=n(27952);function C(){var e=l()(["\n  fragment NewsletterV3Promo_publisher on Publisher {\n    __typename\n    ... on User {\n      id\n      username\n      name\n      viewerIsUser\n      newsletterV3 {\n        id\n        ...NewsletterV3Promo_newsletterV3\n      }\n    }\n    ... on Collection {\n      id\n      slug\n      domain\n      name\n      newsletterV3 {\n        id\n        ...NewsletterV3Promo_newsletterV3\n      }\n    }\n  }\n  ","\n"]);return C=function(){return e},e}function k(){var e=l()(["\n  fragment NewsletterV3Promo_newsletterV3 on NewsletterV3 {\n    slug\n    name\n    description\n    promoHeadline\n    promoBody\n    ...NewsletterV3AmpButton_newsletterV3\n    ...NewsletterV3SubscribeButton_newsletterV3\n    ...NewsletterV3SubscribeByEmail_newsletterV3\n  }\n  ","\n  ","\n  ","\n"]);return k=function(){return e},e}var N=(0,a.Ps)(k(),h,v.B,b.Lh),U=(0,a.Ps)(C(),N),B=function(e){return o()({borderTop:"3px solid ".concat(e.accentColor.border.normal),padding:"32px 32px 26px 32px",marginTop:"8px",marginBottom:"25px",backgroundColor:e.baseColor.background.light},A.sm(e),{padding:"24px 24px 28px 24px"})},V=function(e){var t=e.isAmp,n=e.viewer,r=e.newsletterV3,o=e.newsletterV3LandingUrl,i=e.useCustomDomainLOFlow;return t?r&&c.createElement(E,{newsletterV3:r,buttonLayout:"COMPACT",redirectUrl:o}):n||i?r&&c.createElement(v.x,{newsletterV3:r,buttonLayout:"COMPACT",helperTextColor:"DARKER",redirectUrl:i?o:void 0}):r&&c.createElement(b.QL,{newsletterV3:r})},W=function(e){var t,n,r,o,i,l=e.postId,a=e.publisher,s=c.useRef(null),u=(0,L.v9)((function(e){return e.config.authDomain})),d=(0,L.p9)((function(e){return e.config.isAmp})),g=(0,I.Av)(),f=(0,T.I)(),h=(0,w.H)().value,E=!!(0,y.VB)({name:"enable_newsletter_lo_flow_custom_domains",placeholder:!1}),v=!!(0,y.VB)({name:"enable_writer_subscription_to_all_users",placeholder:!1}),b=null==(0,L.v9)((function(e){return e.navigation.currentLocation})).match("http[s]?://[^/]*".concat(u)),A=!h&&b&&E,C=a.newsletterV3,k=null==C?void 0:C.type,N=a.username,U=void 0===N?"":N,W=(0,R.iBn)(null!==(t=null==C?void 0:C.slug)&&void 0!==t?t:"",u,k===D.Rr.NEWSLETTER_TYPE_COLLECTION?a:void 0,k===D.Rr.NEWSLETTER_TYPE_AUTHOR&&U?U:void 0),M="Collection"===a.__typename?a:void 0,j=(0,S.gY)(M).viewerEdge;switch(k){case D.Rr.NEWSLETTER_TYPE_COLLECTION:n="Sign up for ".concat(null==C?void 0:C.name),r="0px",o="You're an editor of ".concat(null==C?void 0:C.name),i=null==j?void 0:j.isEditor;break;case D.Rr.NEWSLETTER_TYPE_AUTHOR:n=v&&(null==C?void 0:C.promoHeadline)||"Get an email whenever ".concat(a.name," publishes."),r="6px",o="You cannot subscribe to yourself",i=a.viewerIsUser}var H=!1,F=function(){!H&&Y()&&(g.event("newsletterV3.promoViewed",{newsletterV3Id:null==C?void 0:C.id,postId:l}),H=!0)},Y=function(){var e;if(!s.current)return!1;var t=null===(e=s.current)||void 0===e?void 0:e.getBoundingClientRect(),n=t.top+t.height/2;return n>=0&&n<=window.innerHeight};return c.useEffect((function(){return F(),window&&O.V6.on("scroll",F),function(){O.V6.off("scroll",F)}}),[]),C&&c.createElement(p.cW,{source:{name:"newsletter_v3_promo",susiEntry:"newsletter_v3_promo"}},c.createElement("div",{ref:s,className:f(B)},c.createElement(m.x,{paddingBottom:r},c.createElement(x.X6,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},n)),k===D.Rr.NEWSLETTER_TYPE_COLLECTION&&c.createElement(c.Fragment,null,c.createElement(m.x,{paddingTop:"4px"},c.createElement(_.F,{tag:"h3",scale:"S",color:"DARKER"},"By ".concat(a.name))),c.createElement(m.x,{paddingTop:"8px",paddingBottom:"10px"},c.createElement(_.F,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER"},null==C?void 0:C.description," ",!d&&c.createElement(P.r,{inline:!0,linkStyle:"OBVIOUS",href:W},"Take a look.")))),v&&k===D.Rr.NEWSLETTER_TYPE_AUTHOR&&(null==C?void 0:C.promoBody)&&c.createElement(c.Fragment,null,c.createElement(m.x,{paddingTop:"8px",paddingBottom:"8px"},c.createElement(_.F,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER"},null==C?void 0:C.promoBody))),i?c.createElement(m.x,{paddingTop:"10px"},c.createElement(_.F,{scale:"M",color:"DARKER"},o)):c.createElement(m.x,{display:"flex",flexWrap:"wrap"},c.createElement(V,{viewer:h,isAmp:d,useCustomDomainLOFlow:A,newsletterV3:C,newsletterV3LandingUrl:W}))))}},34793:(e,t,n)=>{"use strict";n.d(t,{$:()=>d,G:()=>m});var r=n(28655),o=n.n(r),i=n(71439),l=n(67294),a=n(12598),c=n(42933),s=n(90038);function u(){var e=o()(["\n  fragment SidebarProfilePic_user on User {\n    id\n    imageId\n  }\n"]);return u=function(){return e},e}var d=function(e){var t=e.user;return t.imageId?l.createElement(c.x,{marginBottom:"20px",maxHeight:"131px",maxWidth:"131px",overflow:"hidden"},l.createElement(a.E,{src:(0,s.W6)({miroId:t.imageId,width:131,height:131,strategy:s._S.Crop}),width:131})):null},m=(0,i.Ps)(u())},85714:(e,t,n)=>{"use strict";n.d(t,{Lv:()=>m,v:()=>p,QX:()=>g});var r=n(28655),o=n.n(r),i=n(71439),l=n(67294),a=n(12291),c=n(53976),s=n(85277);function u(){var e=o()(["\n  fragment SuspendedBannerLoader_post on Post {\n    id\n    isSuspended\n  }\n"]);return u=function(){return e},e}function d(){var e=o()(["\n  fragment SuspendedBannerLoader_user on User {\n    id\n    isSuspended\n  }\n"]);return d=function(){return e},e}var m=function(e){var t=e.user,n=e.post,r=e.forceLoad,o=void 0!==r&&r,i=(0,a.I0)(),u=(0,c.VB)({name:"can_view_suspended_content",placeholder:!1})||o;return l.useEffect((function(){u&&(t&&t.isSuspended?i((0,s.Dx)({duration:"NEXTPAGE",toastStyle:"USER_SUSPENDED"})):n&&n.isSuspended&&i((0,s.Dx)({duration:"NEXTPAGE",toastStyle:"POST_SUSPENDED",extraParams:{postId:(null==n?void 0:n.id)||""}})))}),[u]),null},p=(0,i.Ps)(d()),g=(0,i.Ps)(u())},55226:(e,t,n)=>{"use strict";n.d(t,{gc:()=>an,De:()=>sn,m6:()=>un});var r=n(28655),o=n.n(r),i=n(67154),l=n.n(i),a=n(59713),c=n.n(a),s=n(63038),u=n.n(s),d=n(71439),m=n(67294),p=n(12291),g=n(28859),f=n(7893),h=n(17305),E=n(45113),v=n(9972),b=n(11334),y=n(94132),w=n(26463),S=n(62872),P=n(87508),x=n(69625),_=n(47578),I=n(42963),T=n(76532),O=n(73891),D=n(67297),L=n(27952);function A(){var e=o()(["\n  fragment MaybeRedirectToEditor_post on Post {\n    id\n    isPublished\n    collection {\n      id\n    }\n    creator {\n      id\n    }\n  }\n"]);return A=function(){return e},e}var R=function(e){var t=e.children,n=e.post,r=(0,D.v9)((function(e){return e.config.authDomain})),o=(0,T.H)().value,i=n.collection,l=n.creator&&o&&n.creator.id===o.id,a=(0,O.gY)(i).viewerEdge;return!n.isPublished&&(!i&&l||l&&null!=a&&a.canEditOwnPosts||null!=a&&a.isEditor||null!=a&&a.canEditPosts)?m.createElement(I.l,{to:(0,L.d0A)(r,n.id)}):m.createElement(m.Fragment,null,t)},C=(0,d.Ps)(A()),k=n(66371),N=n(55253),U=n(12653),B=n(70405),V=n(319),W=n.n(V),M=n(82492),j=n.n(M),H=n(68254),F=n.n(H),Y=n(70450),G=n(90038),z=n(96879),K=n(22744),X=n(61598);function $(){var e=o()(["\n  fragment PostJsonLd_post on Post {\n    id\n    title\n    seoTitle\n    mediumUrl\n    creator {\n      name\n      username\n      ...userUrl_user\n    }\n    collection {\n      id\n      name\n      domain\n      slug\n      logo {\n        id\n        originalWidth\n        originalHeight\n      }\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n      originalWidth\n      originalHeight\n    }\n    isLocked\n    firstPublishedAt\n    updatedAt\n    isShortform\n    shortformType\n    structuredData\n    ...getTitleForPost_post\n  }\n  ","\n  ","\n"]);return $=function(){return e},e}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=(0,p.$j)((function(e){var t=e.config,n=t.productName,r=t.defaultImages,o=t.collectionStructuredData,i=e.navigation;return{currentLocation:i.currentLocation,host:i.host,productName:n,defaultImages:r,collectionStructuredData:o}}))((function(e){var t=e.currentLocation,n=e.host,r=e.post,o=e.postDescription,i=e.productName,l=e.defaultImages,a=e.collectionStructuredData,c=r.collection,s=r.creator,u=r.id,d=r.mediumUrl,p=r.isLocked,g=r.previewImage,f=r.firstPublishedAt,h=r.updatedAt,E=r.structuredData,v=(0,K._t)(r,i),b={id:l.postLogo.imageId,originalWidth:l.postLogo.width,originalHeight:l.postLogo.height},y={id:l.orgLogo.imageId,originalWidth:l.orgLogo.width,originalHeight:l.orgLogo.height},w=c?{"@type":"Organization",name:c.name,url:c.domain||(0,z.l1)(n,(0,L.WGd)(c,t)),logo:function(e){if(!e||!e.logo||!e.logo.id)return(0,Y.lc)(y);var t=(0,Y.lc)(e.logo);return t&&60===t.height&&t.width<=600?t:(0,Y.lc)(y)}(c)}:{"@type":"Organization",name:i,url:(0,z.l1)(n,"/"),logo:(0,Y.lc)(y)};c&&a&&a[c.id]&&j()(w,a[c.id].data);var S=g&&g.id?(0,Y.Y4)(Q(Q({},g),{},{miroId:g.id,croppedWidth:1200})):(0,Y.NJ)({url:(0,G.W6)({miroId:b.id,width:b.originalWidth}),height:b.originalHeight,width:b.originalWidth}),P=o||"",x=p?{isAccessibleForFree:"False",hasPart:{"@type":"WebPageElement",isAccessibleForFree:"False",cssSelector:".meteredContent"}}:{},_={"@context":"http://schema.org"},I=Q({"@type":"NewsArticle",image:S,url:d,dateCreated:f&&new Date(f).toISOString(),datePublished:f&&new Date(f).toISOString(),dateModified:h&&new Date(h).toISOString(),headline:v,name:v,description:P,identifier:u,author:s&&s.name&&s.username?{"@type":"Person",name:s.name||s.username,url:(0,L.AWr)(s,n)}:null,creator:s&&[s.name],publisher:w,mainEntityOfPage:d},x),T=Q(Q({},_),I);if(E&&E.length>0)try{var O=JSON.parse(E);if(O&&null!=O&&O["@graph"]&&(null==O?void 0:O["@graph"].length)>0){var D=((null==O?void 0:O["@graph"])||[]).filter((function(e){return(null==e?void 0:e["@type"])&&"NewsArticle"!==(null==e?void 0:e["@type"])}));D&&D.length>0&&(T=Q(Q({},_),{},{"@graph":[I].concat(W()(D))}))}}catch(e){}return m.createElement(B.q,null,m.createElement("script",{type:"application/ld+json"},F()(T,{isJSON:!0})))})),Z=(0,d.Ps)($(),K.bq,X.$),ee=n(27390),te=n(71794);function ne(){var e=o()(["\n  fragment PostMetadata_post on Post {\n    id\n    socialTitle\n    socialDek\n    noIndex\n    curationStatus\n    canonicalUrl\n    mediumUrl\n    metaDescription\n    latestPublishedAt\n    visibility\n    isLimitedState\n    readingTime\n    creator {\n      name\n      twitterScreenName\n      ...userUrl_user\n    }\n    collection {\n      ampEnabled\n      twitterUsername\n      facebookPageId\n    }\n    previewContent {\n      subtitle\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n      originalHeight\n      originalWidth\n    }\n    isShortform\n    noIndex\n    curationStatus\n    ...PostJsonLd_post\n    ...postMetaDescription_post\n    ...shortformPostMetaDescription_post\n    ...shouldIndexPost_post\n    ...shortformPostTitle_post\n    ...getTitleDetails_post\n    ...getTitleForPost_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return ne=function(){return e},e}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie=(0,p.$j)((function(e){return{authDomain:e.config.authDomain,host:e.navigation.host,productName:e.config.productName}}))((function(e){var t,n,r=e.isAmp,o=e.host,i=e.authDomain,l=e.productName,a=e.post,c=a.canonicalUrl,s=a.collection,u=a.creator,d=a.id,p=a.latestPublishedAt,g=a.mediumUrl,f=a.previewContent,h=a.socialTitle,E=a.socialDek,v=a.visibility,b=a.isShortform,y=s&&s.ampEnabled,w=u&&u.name,S=(0,K.yB)(a),P=a.title||"",x=S.latestTitle||P;if(b){var _=oe(oe({},a),{},{title:x});t=(0,K.oS)(_,l,S.hasTitleGraf).trim(),n=(0,te.OO)(a,S.hasTitleGraf)}else t=(0,K._t)(a,l,S,!0).trim(),n=(0,te.j7)(a);var I,T,O=E||f&&f.subtitle||n;if(a&&a.previewImage&&a.previewImage.id&&!a.isLimitedState){var D=a.previewImage;I=(0,G.vz)({miroId:D.id,aspectRatio:1.9,croppedWidth:D.originalWidth?Math.min(D.originalWidth,1200):1200,originalWidth:D.originalWidth,originalHeight:D.originalHeight,focusPercentX:D.focusPercentX,focusPercentY:D.focusPercentY})}else if(a.isLimitedState){var A={id:"1*3SjgcTt7wCYYS10ff6-0JQ.png",originalWidth:748,originalHeight:390,focusPercentX:50,focusPercentY:40};I=(0,G.vz)({miroId:A.id,aspectRatio:1.9,croppedWidth:A.originalWidth?Math.min(A.originalWidth,1200):1200,originalWidth:A.originalWidth,originalHeight:A.originalHeight,focusPercentX:A.focusPercentX,focusPercentY:A.focusPercentY})}u&&u.username&&(T=(0,L.AWr)(u,i));var R=(0,L.CK_)(d),C=!(0,K.c_)(a),k=p&&new Date(p).toISOString(),N=(0,ee.Vd)(a.readingTime||0),U=u&&u.twitterScreenName,V=s&&s.twitterUsername||"Medium",W=s&&s.facebookPageId,M=h||P||x;a.isLimitedState&&(M="");var j=a.isLimitedState?"":O,H=m.useMemo((function(){var e;return m.createElement(B.q,{htmlAttributes:r?{amp:void 0}:{}},m.createElement("meta",{property:"og:type",content:"article"}),k&&m.createElement("meta",{property:"article:published_time",content:k}),y&&!r?m.createElement("link",{rel:"amphtml",href:(0,L.VcI)(o,d)}):null,m.createElement("title",null,t),m.createElement("meta",{name:"title",content:t}),m.createElement("meta",{property:"og:title",content:M}),m.createElement("meta",{property:"twitter:title",content:M}),W&&m.createElement("meta",{property:"fb:pages",content:W}),m.createElement("meta",{name:"twitter:site",content:"@".concat(V)}),m.createElement("meta",{name:"twitter:app:url:iphone",content:R}),m.createElement("meta",{property:"al:android:url",content:R}),m.createElement("meta",{property:"al:ios:url",content:R}),m.createElement("meta",{property:"al:android:app_name",content:"Medium"}),n&&m.createElement("meta",{name:"description",content:n}),O&&m.createElement("meta",{property:"og:description",content:j}),O&&m.createElement("meta",{property:"twitter:description",content:j}),m.createElement("meta",{property:"og:url",content:null!=g?g:void 0}),m.createElement("meta",{property:"al:web:url",content:null!=g?g:void 0}),I&&m.createElement("meta",{property:"og:image",content:I}),I&&m.createElement("meta",{name:"twitter:image:src",content:I}),m.createElement("meta",{name:"twitter:card",content:I?"summary_large_image":"summary"}),T&&m.createElement("meta",{property:"article:author",content:T}),T&&m.createElement("link",{rel:"author",href:T}),U&&m.createElement("meta",{name:"twitter:creator",content:"@".concat(U)}),w&&m.createElement("meta",{name:"author",content:w}),m.createElement("link",{rel:"canonical",href:null!==(e=c||g)&&void 0!==e?e:void 0}),m.createElement("link",{rel:"alternate",href:(0,L.zix)((0,L.o2w)("medium.com",a.id))}),m.createElement("meta",{name:"robots",content:"".concat(C?"noindex":"index",",follow,max-image-preview:large")}),m.createElement("meta",{name:"referrer",content:"UNLISTED"!==v?"unsafe-url":"origin"}),r?null:m.createElement("meta",{name:"twitter:label1",content:"Reading time"}),r?null:m.createElement("meta",{name:"twitter:data1",content:"".concat(N," min read")}))}),[r,t,c,g,I,y,d,h,n,T,w,U,R,C,k]);return m.createElement(m.Fragment,null,H,m.createElement(q,{post:a,postDescription:n}))})),le=(0,d.Ps)(ne(),Z,te.iI,te.m3,K.HF,K.Pz,K.dm,K.bq,X.$),ae=n(80439),ce=n(89423),se=n(1932),ue=n(32272),de=n(42933),me=n(82318),pe=n(55099),ge=n(77284),fe=n(3149),he=n(98024),Ee=n(17614),ve=n(27108),be=n(14391),ye=n(85277),we=n(8403),Se=n(67122),Pe=n(76579);function xe(){var e=o()(["\n  fragment PostPublishedDialog_prerequisite_post on Post {\n    id\n    creator {\n      id\n    }\n    collection {\n      id\n    }\n  }\n"]);return xe=function(){return e},e}function _e(){var e=o()(["\n  query PostPublishedDialogQuery($postId: ID!) {\n    post(id: $postId) {\n      id\n      ...PostPublishedDialog_post\n    }\n  }\n  ","\n"]);return _e=function(){return e},e}function Ie(){var e=o()(["\n  fragment PostPublishedDialog_post on Post {\n    id\n    inResponseToPostResult {\n      __typename\n    }\n    inResponseToCatalogResult {\n      __typename\n    }\n    visibility\n    curationEligibleAt\n    mediumUrl\n    isNewsletter\n    isPublishToEmail\n    creator {\n      id\n    }\n    isMarkedPaywallOnly\n    ...SharePostButton_post\n  }\n  ","\n"]);return Ie=function(){return e},e}var Te=function(){return m.createElement(de.x,null,m.createElement(me.r,{inline:!0,linkStyle:"OBVIOUS",href:(0,L.Scj)()},"Learn more")," ","about what happens to your post when you publish.")};var Oe,De=(0,d.Ps)(Ie(),ue.o),Le=(0,d.Ps)(_e(),De),Ae=function(e){var t=e.url,n=e.label,r=e.post,o={postId:null==r?void 0:r.id,source:"post_publish_dialog"};return m.createElement(Pe.b,l()({url:t},o),(function(e){return m.createElement(de.x,{marginBottom:"8px"},m.createElement(pe.z,{buttonStyle:"SOCIAL",size:"REGULAR",width:"212px",onClick:function(e){return e}},m.createElement(de.x,{display:"flex",alignItems:"center",justifyContent:"center"},e?"Copied!":n)))}))},Re=function(e){var t=e.post,n=e.isUnlisted,r=e.postPath;return m.createElement(de.x,{display:"flex",flexDirection:"column",alignItems:"center"},m.createElement(he.F,{color:"DARKER",scale:"L"},function(e){return e?"Share your story outside Medium.":"Share your story with the world."}(n)),m.createElement(de.x,{marginTop:"20px"},!n&&m.createElement(m.Fragment,null,m.createElement(de.x,{marginBottom:"8px"},m.createElement(ue.f,{socialPlatform:"FACEBOOK",buttonStyle:"BUTTON_BRANDED",post:t})),m.createElement(de.x,{marginBottom:"8px"},m.createElement(ue.f,{socialPlatform:"TWITTER",buttonStyle:"BUTTON_BRANDED",post:t})),m.createElement(de.x,{marginBottom:"8px"},m.createElement(ue.f,{socialPlatform:"LINKEDIN",buttonStyle:"BUTTON_BRANDED",post:t}))),m.createElement(Ae,{url:r,label:"Copy story link",post:t})))},Ce=function(e){var t=e.viewerId,n=e.isVisible,r=e.hide,o=e.post,i=o.id,l=o.visibility,a=o.curationEligibleAt,c=o.mediumUrl,s=o.isNewsletter,u=o.isPublishToEmail,d=o.isMarkedPaywallOnly,p=o.creator,g=(0,se.Tf)(o),f=g.viewerEdge,h=g.loading,E="UNLISTED"===l,v=!!a,b=(null==f?void 0:f.creatorPartnerProgramEnrollmentStatus)===be.iR.ENROLLED,y=null==f?void 0:f.shareKey,w=(0,D.v9)((function(e){return e.config.productName})),S="Your story is published!";return u&&t===(null==p?void 0:p.id)?S="Your story has been published and sent!":s&&(S="Your newsletter is on its way!"),h?null:m.createElement(ge.V,{isVisible:n,hide:r,withAnimation:!0,withCloseButton:!1},m.createElement(de.x,{background:Se.ix,borderRadius:"4px",boxShadow:"0 2px 10px ".concat((0,Se.Uy)(.15)),position:"relative",width:"900px",textAlign:"center",md:{width:"600px"},sm:{width:"calc(100vw - 128px)"}},m.createElement(de.x,{padding:"56px",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"485px"},m.createElement(de.x,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},m.createElement(Ee.F1,{scale:"L",tag:"h3"},S),m.createElement(de.x,{maxWidth:"520px",marginTop:"20px"},m.createElement(he.F,{color:"DARKER",scale:"L"},function(e,t,n,r,o,i){return r?function(e,t){return e?"Your email will be delivered to your newsletter subscribers and editors, but will not appear publicly on ".concat(t,"."):m.createElement(m.Fragment,null,"Your subscribers and editors should have it soon. It’ll also show up on ",t," readers’ homepages and Digest emails depending on their interests."," ",m.createElement(me.r,{inline:!0,linkStyle:"OBVIOUS",href:"https://help.medium.com/hc/en-us/articles/115004682167-How-to-use-Newsletters"},"Learn more"))}(e,i):e?"Your unlisted story will not appear publicly on ".concat(i,", but you can still share it."):o?"You've chosen this story to be member-only. Anyone can see a short preview but only paying members can read the full story.":n?t?m.createElement(m.Fragment,null,"As a member of the Partner Program, you’ve chosen to make this story eligible to earn money. It will be part of ",i,"’s metered paywall.",m.createElement(Te,null)):m.createElement(m.Fragment,null,"You did not choose to make this story eligible to earn money. It will not be part of"," ",i,"’s metered paywall.",m.createElement(Te,null)):m.createElement(m.Fragment,null,"This story isn’t currently eligible to earn money. To make this story eligible, join the"," ",i," Partner Program."," ",m.createElement(me.r,{inline:!0,linkStyle:"OBVIOUS",href:"https://medium.com/earn"},"Learn more."))}(E,v,b,s,null!=d&&d,w))),m.createElement(de.x,{paddingTop:"20px"},v&&!E&&c&&y&&m.createElement(Ae,{url:(0,z.Rk)((0,L.jVf)(o),{sk:y}),label:"Copy Friend Link",post:o})),m.createElement(de.x,{borderBottom:"BASE_LIGHTER",width:"100%",margin:"20px 0"})),i&&c&&m.createElement(Re,{post:o,isUnlisted:E,postPath:(0,L.jVf)(o)})),m.createElement(fe.P,{onClick:r,size:"LARGE"})))};!function(e){e.initial="initial",e.repub="repub"}(Oe||(Oe={}));var ke=function(e){var t=e.post,n=m.useState(!1),r=u()(n,2),o=r[0],i=r[1],l=m.useCallback((function(){return i(!1)}),[i]),a=(0,p.I0)(),c=(0,we.Wd)("postPublishedType"),s=(0,O.gY)(t.collection).viewerEdge;m.useEffect((function(){switch(c){case Oe.initial:i(!0);break;case Oe.repub:a((0,ye.Dx)({duration:3e3,message:"Your changes have been published."}))}}),[c]);var d=m.useState(!1),g=u()(d,2),f=g[0],h=g[1];return f?m.createElement(ce.I,null,(function(e){return null!=e&&e.id&&(e.id===(t.creator&&t.creator.id)||t.collection&&null!=s&&s.isEditor)?m.createElement(ae.AE,{ssr:!1,query:Le,variables:{postId:t.id}},(function(t){var n=t.loading,r=t.data,i=(r=void 0===r?{}:r).post;return n||!i||i.inResponseToPostResult||i.inResponseToCatalogResult?null:m.createElement(Ce,{isVisible:o,hide:l,post:i,viewerId:e.id})})):null})):(ve.V6.on("load",(function(){return h(!0)})),null)},Ne=(0,d.Ps)(xe()),Ue=n(46829),Be=n(50008),Ve=n.n(Be),We=n(51684),Me=n(83021),je=n(6688),He=m.forwardRef((function(e,t){var n,r=e.children,o=m.useRef(null),i=m.useRef(null),l=m.useContext(g.u6).watchedBounds,a=m.useState(!0),c=u()(a,2),s=c[0],d=c[1],p=m.useState(0),f=u()(p,2),h=f[0],E=f[1],v=function(e){var t,n="object"===Ve()(e)?null==e?void 0:e.current:null,r=null==n?void 0:n.getBoundingClientRect();return 100+(null!==(t=null==r?void 0:r.top)&&void 0!==t?t:0)}(t),b=null===(n=o.current)||void 0===n?void 0:n.offsetHeight,y=(0,je.I)(),w=.45*window.innerHeight-20,S=b?window.innerHeight-b-20:w-20,P=m.useCallback((function(){!function(e,t,n,r){e.current&&n((0,We.b2)(e,t,["image","bgimage","footer","byline","title","header"],{threshold:10}))}(o,l,d);var e=(0,Me.Ui)(h,v,o);e!==h&&E(e);var t=1320,n=window.innerWidth-t;null!=i&&i.current&&(window.innerWidth>=t&&(i.current.style.right="".concat(n,"px")),window.innerWidth<t&&(i.current.style.right="0px"))}),[l,h,v]);m.useEffect((function(){P(),window.scroll(0,2),window.scroll(0,0)}),[]);var x="object"===Ve()(t)?t:null;m.useEffect((0,We.hE)(P,null==x?void 0:x.current),[P,null==x?void 0:x.current]);var _=s;return m.createElement("div",{className:y({minWidth:"300px",position:"fixed",right:"0"}),ref:i},m.createElement(We.HX,{sidebarRef:o,scrollableRef:t,visible:_,topOffset:S,isFixed:!0,extraWide:!0},m.createElement(de.x,null,r)))})),Fe=n(52818),Ye=n(51512),Ge=n(15699);function ze(){var e=o()(["\n  query FetchRecirc($postId: String) {\n    recirc(postId: $postId) {\n      items {\n        ... on RexRecircItem {\n          post {\n            id\n            ...ReadNextPostCard_post\n            ...PostPresentationTracker_post\n          }\n          feedId\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return ze=function(){return e},e}var Ke=function(e){var t;return{fontWeight:null!==(t=e.newFonts.detail.boldWeight)&&void 0!==t?t:"bold"}},Xe=function(e){var t,n=e.postId,r=(0,Ue.useQuery)($e,{variables:{postId:n}}),o=r.data,i=r.loading,l=r.error,a=(0,je.I)(),c=null==o||null===(t=o.recirc)||void 0===t?void 0:t.items;if(l||i||null==c||!c.length)return null;var s=c.slice(0,4);return m.createElement(He,null,m.createElement(de.x,null,m.createElement(he.F,{scale:"M",color:"LIGHTER"},m.createElement("strong",{className:a(Ke)},"Related")),m.createElement(de.x,{display:"flex",flexDirection:"column",marginTop:"24px",bottom:"40px"},s.map((function(e,t){return null!=e&&e.post?m.createElement(Ye.cW,{source:{name:"read_next_recirc",index:t,feedId:e.feedId||void 0},key:"post-page-read-next-recirc".concat(n,"-").concat(t)},m.createElement(Ge.o,{post:e.post,presentationContext:"POST_PREVIEW"},m.createElement(Fe.N,{post:e.post,shouldDisplayTopic:!1,shouldDisplayClapCount:!0}))):null})))))},$e=(0,d.Ps)(ze(),Fe.Q,Ge.h);function Je(){var e=o()(["\n  query FetchRecircLO($postId: ID!) {\n    post(id: $postId) {\n      internalLinks {\n        items {\n          id\n          ...ReadNextPostCard_post\n          ...PostPresentationTracker_post\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return Je=function(){return e},e}var Qe=function(e){var t;return{fontWeight:null!==(t=e.newFonts.detail.boldWeight)&&void 0!==t?t:"bold"}},qe=function(e){var t,n,r=e.postId,o=(0,Ue.useQuery)(Ze,{variables:{postId:r}}),i=o.data,l=o.loading,a=o.error,c=(0,je.I)(),s=null==i||null===(t=i.post)||void 0===t||null===(n=t.internalLinks)||void 0===n?void 0:n.items;if(a||l||null==s||!s.length)return null;var u=s.slice(0,4);return m.createElement(He,null,m.createElement(de.x,null,m.createElement(he.F,{scale:"M",color:"LIGHTER"},m.createElement("strong",{className:c(Qe)},"Related")),m.createElement(de.x,{display:"flex",flexDirection:"column",marginTop:"24px",bottom:"40px"},u.map((function(e,t){return e?m.createElement(Ye.cW,{source:{name:"read_next_recirc",index:t},key:"post-page-read-next-recirc-lo-".concat(r,"-").concat(t)},m.createElement(Ge.o,{post:e,presentationContext:"POST_PREVIEW"},m.createElement(Fe.N,{post:e,shouldDisplayTopic:!1,shouldDisplayClapCount:!0}))):null})))))},Ze=(0,d.Ps)(Je(),Fe.Q,Ge.h),et=n(49925),tt=n(10103),nt=n(59877);function rt(){var e=o()(["\n  fragment PostScreenThemeProvider_post on Post {\n    collection {\n      ...CustomThemeProvider_publisher\n      ...auroraHooks_publisher\n    }\n    creator {\n      ...CustomThemeProvider_publisher\n      ...auroraHooks_publisher\n    }\n    customStyleSheet {\n      ...CustomThemeProvider_customStyleSheet\n    }\n  }\n  ","\n  ","\n  ","\n"]);return rt=function(){return e},e}var ot,it=function(e){var t=e.children,n=e.post,r=n.collection||n.creator,o=(0,et.GT)(r),i=n.customStyleSheet;return o?m.createElement(tt.G8,{customStyleSheet:i,publisher:r},t):m.createElement(tt.G8,{customStyleSheet:null,publisher:r},m.createElement(nt.r,null,t))},lt=(0,d.Ps)(rt(),tt.Kc,tt.Ps,et.C5),at=n(62182),ct=n(50493),st=n(15789),ut=n(80870),dt=n(50188),mt=n(24881),pt=n(68225),gt=n(56365),ft=function(e){var t=e.children,n=e.rule,r=(0,je.I)(),o=n?r(n):"";return o?m.createElement("div",{className:o},t):m.createElement(m.Fragment,null,t)},ht=n(85489),Et=n(73788),vt=n(53976),bt=n(47552),yt=n(36511),wt=n(37395),St=n(32589),Pt=n(52788),xt=n(85714),_t=n(51562),It=n(324),Tt=n(37258),Ot=n(19608),Dt=n(27168),Lt=n(48881),At=n(59317),Rt=n(4709),Ct=n(98281),kt=n(95760),Nt=n(33572),Ut=n(81591),Bt=n(69332),Vt="alternate_user_top_banner",Wt=function(e){var t=e.userSocialLogins,n=(0,At.j)().openModal;return t.facebook||t.google||t.twitter?m.createElement(Ot.r,{userSocialLogins:t}):m.createElement(Tt.o,{onSuccess:function(){return n({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:Vt})},userId:t.userId},(function(e){var t=e.handleSubmit;return m.createElement(pe.z,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:t},"Send login link")}))},Mt=function(){var e=(0,T.H)().value,t=(0,yt.r)().viewerId,n=(0,p.I0)(),r=(0,kt.Av)(),o=m.useState(!1),i=u()(o,2),l=i[0],a=i[1],c=m.useState("loading"),s=u()(c,2),d=s[0],g=s[1];return m.useEffect((function(){n((0,Bt.e6)(!0)),a(!0)}),[]),m.useEffect((function(){"rendered"===d&&n((0,Ut.T)(!0)),"not_eligible"===d&&n((0,Bt.e6)(!1))}),[d]),m.createElement(Ye.cW,{source:{susiEntry:Vt}},m.createElement(Lt.o,{postRenderCallback:function(e,n,o){g(n?"rendered":"not_eligible"),n&&(r.event("experiment.eligible",{experimentId:"358323e239a2"}),r.event("alternateUserBanner.viewed",{alternateUserSuggestionAccountType:(0,Nt.S)(o),alternateUserSuggestionTargetUserId:o.userId,alternateUserSuggestionSourceUserId:t}))}},(function(n){var o,i=n.showSuggestedAccount,a=n.declineSuggestedAccount,c=n.userSocialLogins;return l&&i&&a&&c?m.createElement(It.N8,null,m.createElement(Rt.Y,{onClose:function(){return r.event("alternateUserBanner.dismissed",{alternateUserSuggestionAccountType:(0,Nt.S)(c),alternateUserSuggestionTargetUserId:c.userId,alternateUserSuggestionSourceUserId:t})}},m.createElement(de.x,{alignItems:"flex-start",display:"flex",flexDirection:"column",sm:{alignItems:"center"}},m.createElement(de.x,{alignItems:"center",display:"flex",marginBottom:"21px",sm:{flexDirection:"column",margin:"0 21px 21px",textAlign:"center"}},!e&&(null===(o=c.userAvatar)||void 0===o?void 0:o.imageId)&&m.createElement(de.x,{display:"flex",marginRight:"20px",sm:{marginBottom:"18px",marginRight:"0"}},m.createElement(Ct.Yt,{scale:"S",user:{__typename:"User",id:c.userId,name:c.userAvatar.name,username:c.userAvatar.username,imageId:c.userAvatar.imageId,mediumMemberAt:c.userAvatar.mediumMemberAt,customDomainState:null,hasSubdomain:!1}})),m.createElement(_t.W,{featureString:"alternate-user-top-banner",target:"header"},m.createElement(he.F,{color:"DARKER",scale:"M"},function(e,t){var n=t.isMember,r=t.redactedEmailAddress;return m.createElement(m.Fragment,null,e?"Switch":"Sign in"," to your ",n?"member ":"","account (",m.createElement("b",null,r),") for",n?" unlimited access":" your personalized experience",".")}(e,c)))),m.createElement(de.x,{alignItems:"center",display:"flex",sm:{flexDirection:"column"}},m.createElement(Wt,{userSocialLogins:c}),m.createElement(de.x,{margin:"0 12px",sm:{margin:"24px 0 0"}},m.createElement(Dt.G,{declineSuggestedAccount:a,isSocial:!!(c.facebook||c.google||c.twitter)})))))):m.createElement(m.Fragment,null)})))},jt=n(94937),Ht=n(35285),Ft=n(66210),Yt=n(58491),Gt=n(11348),zt=n(31517),Kt=n(172),Xt=n(8261),$t=n(97963),Jt=n(30389),Qt=n(27140),qt=n(6639),Zt=n(65441);function en(){var e=o()(["\n  fragment PostScreen_post on Post {\n    id\n    canonicalUrl\n    collection {\n      id\n      domain\n      googleAnalyticsId\n      slug\n      ...CollectionMetabar_collection\n      ...MetaHeader_publisher\n      ...auroraHooks_publisher\n    }\n    # please note that the postMeteringOptions are defined in the postHandler file\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n      validatedShareKey\n    }\n    creator {\n      customStyleSheet {\n        id\n        ...PostSidebar_customStyleSheet\n      }\n      ...SuspendedBannerLoader_user\n      ...MetaHeader_publisher\n      ...UserCompleteProfileDialog_user\n      ...auroraHooks_publisher\n      ...TruncatedPostCard_user\n    }\n    customStyleSheet {\n      id\n      postBody {\n        ...SupportedContainerStyles_styleNode\n      }\n      ...CustomBackgroundWrapper_customStyleSheet\n      ...MetaHeader_customStyleSheet\n      ...PostSidebar_customStyleSheet\n    }\n    firstPublishedAt\n    isLocked\n    isPublished\n    isShortform\n    layerCake\n    primaryTopic {\n      name\n      slug\n    }\n    title\n    isMarkedPaywallOnly\n    ...AddCollaborator_post\n    ...InteractivePostBody_post\n    ...LimitedStateInterstitial_post\n    ...MaybeRedirectToEditor_post\n    ...Metabar_post\n    ...Wall_post\n    ...PostBodyInserts_post\n    ...PostFooter_post\n    ...PostHeader_post\n    ...PostMetadata_post\n    ...PostPublishedDialog_prerequisite_post\n    ...PostReadTracker_post\n    ...PostScreenThemeProvider_post\n    ...PostScrollTracker_post\n    ...PostSidebar_post\n    ...SuspendedBannerLoader_post\n    ...buildBranchViewData_post\n    ...optimizelyData_post\n    ...TableOfContents_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return en=function(){return e},e}function tn(){var e=o()(["\n  fragment PostScreen_meteringInfo on MeteringInfo {\n    __typename\n    postIds\n    maxUnlockCount\n    unlocksRemaining\n    ...PostHeader_meteringInfo\n    ...Wall_meteringInfo\n    ...buildBranchViewData_meteringInfo\n  }\n  ","\n  ","\n  ","\n"]);return tn=function(){return e},e}function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.initial="initial",e.repub="repub"}(ot||(ot={}));var on=function(e){return(0,ht.fl)(null==e?void 0:e.postBody)},ln=function(){return null};function an(e){var t,n,r,o,i,l,a=e.meteringInfo,c=e.post,s=c.id,d=c.isPublished,v=c.isLocked,b=c.isShortform,w=c.content,S=c.collection,I=c.canonicalUrl,A=c.creator,C=(0,p.I0)(),U=(0,kt.Av)(),B=(0,we.PM)(),V=(0,D.v9)((function(e){return e.config.authDomain})),W=(0,D.v9)((function(e){return e.navigation.currentHash})),M=(0,D.p9)((function(e){return e.config.isAmp})),j=(0,D.v9)((function(e){return e.navigation.referrer})),H=(0,Jt.P)(),F=H.inAppBrowser,Y=H.loading,G=(0,St.Pd)(A),z=G.viewerEdge,K=G.loading,X=(0,O.gY)(c.collection),$=X.viewerEdge,J=X.loading,Q=(0,wt.l)(null===(t=c.primaryTopic)||void 0===t?void 0:t.id),q=Q.viewerEdge,Z=Q.loading,ee=J||K||Z,te=m.useRef(null),ne=(0,T.H)().value;M&&(ne=void 0);var re=!!ne,oe=S||{},le=oe.id,ae=oe.slug,ce=oe.googleAnalyticsId,se=w||{},ue=se.isLockedPreviewOnly,de=se.validatedShareKey,me=ce?[ce]:null;(0,h.t)({ids:me,isAmp:M}),(0,Ft.V)(te,c),(0,Yt.t)(re,te,c),(0,x.i)(c);var pe=(0,et.GT)(S||A),ge=b&&pe,fe=(0,Qt.D)(pe),he=(0,Ye.P7)(B||"").dimension,Ee=!("digest.reader"!==(void 0===he?"":he))&&!ue&&re&&!(null!=z&&z.isUser)&&!(null!=z&&z.isFollowing)&&((null==z?void 0:z.readPostsCount)||0)>=3,ve=m.useState(Ee),be=u()(ve,2),ye=be[0],Se=be[1];m.useEffect((function(){Se(Ee)}),[]);var Pe=(0,k.Dj)(c,{shouldInsertCreatorPromo:ye}),xe=(0,we.Wd)("postPublishedType"),_e=(0,yt.r)(),Ie=_e.loading,Te=_e.viewerId;m.useEffect((function(){if(!Ie&&Te&&!Y&&!ee){if(d){re||(c.isLocked?(0,Gt.yB)():(0,Gt.B8)());var e=(0,E.RD)({inAppBrowser:F,post:c,meteringInfo:a,referrer:j,referrerSource:B,viewer:ne,currentUserId:Te,creatorViewerEdge:z,collectionViewerEdge:$,topicViewerEdge:q});S&&S.domain&&(e.data.$canonical_url=(0,L.o2w)(V,c.id));var t=ne&&ne.name?(0,Nt.J)(ne.name):void 0;(0,_.KQ)({post:c},t),(0,E.Pu)(e),C((0,Kt.aj)(e)),C((0,Kt.QZ)()),function(e,t){var n;e===ot.initial&&(null!==(n=t.collection)&&void 0!==n&&n.id?(0,_.VT)(_.Vy.PostPublishedCollection):(0,_.VT)(_.Vy.PostPublished),(0,_.VT)(_.Vy.PostPublishedAggregate))}(xe,c),U.event("post.clientViewed",{postId:s,collectionId:le,collectionSlug:ae,context:1,isFriendLink:!!de})}else U.event("post.draftViewed",{postId:s});return re||(0,dt.kD)(s),function(){C((0,Kt.Uo)())}}}),[s,d,Ie,Te,Y,F,ne,ee]),m.useEffect((function(){U.event("experiment.eligible",{experimentId:"bf31c326fe09"})}),[]),(0,$t.T)(c.customStyleSheet);var Oe=(0,we.Wd)("readmore");m.useEffect((function(){var e;if(Oe){var t=document.getElementById(Zt.W);if(t){var n=window.matchMedia&&(null===(e=window.matchMedia("(prefers-reduced-motion: reduce)"))||void 0===e?void 0:e.matches);setTimeout((function(){var e=Math.max(t.offsetTop-window.innerHeight/2,0);window.scrollY<=e&&window.scrollTo({top:e,behavior:n?void 0:"smooth"})}))}}}),[Oe]);var De=m.useState(null==A?void 0:A.hasCompletedProfile),Le=u()(De,2),Ae=Le[0],Re=Le[1],Ce=(0,Ht.WI)(A).shouldShowDialog&&!Ae&&(!(null!=A&&A.name)||!(null!=A&&A.bio)||!(null!=A&&A.imageId));fe!==pe&&C((0,zt.t)(pe));var Ne,Ue,Be=v?{className:"meteredContent"}:{};if(W){var Ve=W.split("-");Ne=Ve[0],Ue=Ve[1]}var We=S&&c.customStyleSheet&&null!=c&&null!==(n=c.creator)&&void 0!==n&&null!==(r=n.customStyleSheet)&&void 0!==r&&r.blogroll?rn(rn({},c.customStyleSheet),{},{blogroll:null==c||null===(o=c.creator)||void 0===o||null===(i=o.customStyleSheet)||void 0===i?void 0:i.blogroll}):c.customStyleSheet,Me=(0,D.v9)((function(e){return e.client.hydrated})),je=((0,qt.HE)(j,B)||(0,qt.yu)(j))&&Me,He=null==B?void 0:B.includes("read_next_recirc"),Fe=je||He,Ge=!!(0,vt.VB)({name:"enable_recirc_reboot",placeholder:!1});return m.createElement(m.Fragment,null,m.createElement(R,{post:c},m.createElement(ie,{isAmp:M,post:c}),m.createElement(xt.Lv,{post:c,user:A,forceLoad:(null===(l=ne)||void 0===l?void 0:l.id)===(null==A?void 0:A.id)}),m.createElement(it,{post:c},m.createElement(gt.f,{customStyleSheet:c.customStyleSheet},m.createElement(cn,{post:c}),m.createElement(Et.k,{post:c},m.createElement(ft,{rule:on(c.customStyleSheet)},m.createElement(g.Am,null,m.createElement(Mt,null),m.createElement(jt.b,null),m.createElement("article",Be,m.createElement(N.m,{post:c,meteringInfo:a}),m.createElement(Pt.T,{post:c},m.createElement(st.bl,{activeGrafId:Ne,activeNoteId:Ue,isAuroraPostPageEnabled:pe,post:c,postBodyInserts:Pe,ref:te,shouldHideHighlightAnnotations:Fe&&Ge}))),!ue&&!!d&&!ge&&m.createElement(at.PostSidebar,{customStyleSheet:We,post:c,extraWide:!0}),m.createElement(bt.b,{name:"enable_recirc_reboot",placeholder:ln},(function(e){return e&&Fe&&re?m.createElement(Xe,{postId:c.id}):null})),m.createElement(bt.b,{name:"enable_recirc_reboot_lo",placeholder:ln},(function(e){return e&&Fe&&!re?m.createElement(qe,{postId:c.id}):null})),m.createElement(P.cu,{post:c,meteringInfo:a}),!ue&&m.createElement(ut.zX,{post:c})))),m.createElement(ke,{post:c}),!!d&&!ee&&m.createElement(y.T,{slimFooter:pe}))),M&&m.createElement(m.Fragment,null,m.createElement(Xt.x,{json:(0,Xt.J)({postId:s,collectionId:le,canonicalUrl:I,referrer:j},V)}),m.createElement(f.G,{collectionGoogleAnalyticsId:ce}))),Ce&&!!A&&!c.collection&&m.createElement(Ht.fY,{user:A,confirmText:"Done",setHasCompletedProfile:Re}))}var cn=function(e){var t,n,r=e.post,o=r.collection,i=r.content,a=o||r.creator,c=(0,et.GT)(a),s=(0,D.p9)((function(e){return e.config.isAmp})),u=i.bodyModel&&i.bodyModel.paragraphs[0],d=u&&u.type===be.NJ.IMG&&u.layout===be.ms.FULL_WIDTH;if(a&&c)return m.createElement(de.x,{marginBottom:d?"0":"36px",sm:{marginBottom:d?"0":"20px"}},m.createElement(mt.Go,{publisher:a,customStyleSheet:r.customStyleSheet,post:r,forceSmall:!0}),m.createElement(pt.z,{headerScale:null===(t=r.customStyleSheet)||void 0===t||null===(n=t.header)||void 0===n?void 0:n.headerScale,post:r,publisher:a}));var p={behavior:S.W.Aggressive,isAmp:s,isFixed:!1,post:r};if(o)return m.createElement(v.NL,l()({},p,{collection:o}));var g=r.layerCake,f=r.primaryTopic,h=g&&(1===g||2===g||3===g),E=h?f:null;return m.createElement(w.kw,l()({},p,{isMonogramOnly:!h,marginBottom:0,marginBottomSm:0,topic:E}))},sn=(0,d.Ps)(tn(),U.X,P.Y6,E.PI),un=(0,d.Ps)(en(),x.a,v.JE,gt.w,st.Uw,Pt.Q,C,w.v7,mt.aU,mt.Mv,at.PostSidebar_customStyleSheet,P.rU,k.Cs,ut.F9,U.Z,le,Ne,Yt.W,lt,Ft.k,at.PostSidebar_post,ht._3,xt.QX,xt.v,Ht.xe,et.C5,E.ir,_.ne,ct.tA,b.Dc)},97963:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var r=n(67294),o=n(34019),i=function(e){var t=r.useCallback((function(){e&&Array.from(document.getElementsByTagName("iframe")).forEach((function(t){null!=t&&t.contentWindow&&t.contentWindow.postMessage(JSON.stringify({context:"medium.customStyleSheet",customStyleSheet:e}),"*")}))}),[e]);(0,o.r)("medium.getCustomStyleSheet",t)}},34019:(e,t,n)=>{"use strict";n.d(t,{r:()=>o});var r=n(67294),o=function(e,t){r.useEffect((function(){if("undefined"!=typeof window){var n=function(n){if(n.data){var r,o;try{o=JSON.parse(n.data)}catch(e){}(null===(r=o)||void 0===r?void 0:r.context)===e&&t(o)}};return window.addEventListener("message",n),function(){window.removeEventListener("message",n)}}}),[t,e])}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/5231.5e533881.chunk.js.map